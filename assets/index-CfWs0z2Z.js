(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();var Ec={exports:{}},ll={};var Pm;function Hy(){if(Pm)return ll;Pm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:s,type:r,key:h,ref:u!==void 0?u:null,props:d}}return ll.Fragment=n,ll.jsx=l,ll.jsxs=l,ll}var Zm;function $y(){return Zm||(Zm=1,Ec.exports=Hy()),Ec.exports}var f=$y(),jc={exports:{}},ge={};var Fm;function Gy(){if(Fm)return ge;Fm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function U(T,V,Z){this.props=T,this.context=V,this.refs=E,this.updater=Z||O}U.prototype.isReactComponent={},U.prototype.setState=function(T,V){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,V,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function K(){}K.prototype=U.prototype;function q(T,V,Z){this.props=T,this.context=V,this.refs=E,this.updater=Z||O}var I=q.prototype=new K;I.constructor=q,A(I,U.prototype),I.isPureReactComponent=!0;var ae=Array.isArray;function $(){}var Q={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function z(T,V,Z){var F=Z.ref;return{$$typeof:s,type:T,key:V,ref:F!==void 0?F:null,props:Z}}function ne(T,V){return z(T.type,V,T.props)}function X(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ee(T){var V={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return V[Z]})}var me=/\/+/g;function Ve(T,V){return typeof T=="object"&&T!==null&&T.key!=null?ee(""+T.key):V.toString(36)}function Ue(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then($,$):(T.status="pending",T.then(function(V){T.status==="pending"&&(T.status="fulfilled",T.value=V)},function(V){T.status==="pending"&&(T.status="rejected",T.reason=V)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function B(T,V,Z,F,re){var xe=typeof T;(xe==="undefined"||xe==="boolean")&&(T=null);var Re=!1;if(T===null)Re=!0;else switch(xe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(T.$$typeof){case s:case n:Re=!0;break;case b:return Re=T._init,B(Re(T._payload),V,Z,F,re)}}if(Re)return re=re(T),Re=F===""?"."+Ve(T,0):F,ae(re)?(Z="",Re!=null&&(Z=Re.replace(me,"$&/")+"/"),B(re,V,Z,"",function(Qa){return Qa})):re!=null&&(X(re)&&(re=ne(re,Z+(re.key==null||T&&T.key===re.key?"":(""+re.key).replace(me,"$&/")+"/")+Re)),V.push(re)),1;Re=0;var Je=F===""?".":F+":";if(ae(T))for(var Ye=0;Ye<T.length;Ye++)F=T[Ye],xe=Je+Ve(F,Ye),Re+=B(F,V,Z,xe,re);else if(Ye=S(T),typeof Ye=="function")for(T=Ye.call(T),Ye=0;!(F=T.next()).done;)F=F.value,xe=Je+Ve(F,Ye++),Re+=B(F,V,Z,xe,re);else if(xe==="object"){if(typeof T.then=="function")return B(Ue(T),V,Z,F,re);throw V=String(T),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Re}function P(T,V,Z){if(T==null)return T;var F=[],re=0;return B(T,F,"","",function(xe){return V.call(Z,xe,re++)}),F}function ce(T){if(T._status===-1){var V=T._result;V=V(),V.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=V)}if(T._status===1)return T._result.default;throw T._result}var Ce=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},be={map:P,forEach:function(T,V,Z){P(T,function(){V.apply(this,arguments)},Z)},count:function(T){var V=0;return P(T,function(){V++}),V},toArray:function(T){return P(T,function(V){return V})||[]},only:function(T){if(!X(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ge.Activity=x,ge.Children=be,ge.Component=U,ge.Fragment=l,ge.Profiler=u,ge.PureComponent=q,ge.StrictMode=r,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ge.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Q.H.useMemoCache(T)}},ge.cache=function(T){return function(){return T.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(T,V,Z){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var F=A({},T.props),re=T.key;if(V!=null)for(xe in V.key!==void 0&&(re=""+V.key),V)!pe.call(V,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&V.ref===void 0||(F[xe]=V[xe]);var xe=arguments.length-2;if(xe===1)F.children=Z;else if(1<xe){for(var Re=Array(xe),Je=0;Je<xe;Je++)Re[Je]=arguments[Je+2];F.children=Re}return z(T.type,re,F)},ge.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:d,_context:T},T},ge.createElement=function(T,V,Z){var F,re={},xe=null;if(V!=null)for(F in V.key!==void 0&&(xe=""+V.key),V)pe.call(V,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(re[F]=V[F]);var Re=arguments.length-2;if(Re===1)re.children=Z;else if(1<Re){for(var Je=Array(Re),Ye=0;Ye<Re;Ye++)Je[Ye]=arguments[Ye+2];re.children=Je}if(T&&T.defaultProps)for(F in Re=T.defaultProps,Re)re[F]===void 0&&(re[F]=Re[F]);return z(T,xe,re)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(T){return{$$typeof:m,render:T}},ge.isValidElement=X,ge.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:ce}},ge.memo=function(T,V){return{$$typeof:y,type:T,compare:V===void 0?null:V}},ge.startTransition=function(T){var V=Q.T,Z={};Q.T=Z;try{var F=T(),re=Q.S;re!==null&&re(Z,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then($,Ce)}catch(xe){Ce(xe)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),Q.T=V}},ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ge.use=function(T){return Q.H.use(T)},ge.useActionState=function(T,V,Z){return Q.H.useActionState(T,V,Z)},ge.useCallback=function(T,V){return Q.H.useCallback(T,V)},ge.useContext=function(T){return Q.H.useContext(T)},ge.useDebugValue=function(){},ge.useDeferredValue=function(T,V){return Q.H.useDeferredValue(T,V)},ge.useEffect=function(T,V){return Q.H.useEffect(T,V)},ge.useEffectEvent=function(T){return Q.H.useEffectEvent(T)},ge.useId=function(){return Q.H.useId()},ge.useImperativeHandle=function(T,V,Z){return Q.H.useImperativeHandle(T,V,Z)},ge.useInsertionEffect=function(T,V){return Q.H.useInsertionEffect(T,V)},ge.useLayoutEffect=function(T,V){return Q.H.useLayoutEffect(T,V)},ge.useMemo=function(T,V){return Q.H.useMemo(T,V)},ge.useOptimistic=function(T,V){return Q.H.useOptimistic(T,V)},ge.useReducer=function(T,V,Z){return Q.H.useReducer(T,V,Z)},ge.useRef=function(T){return Q.H.useRef(T)},ge.useState=function(T){return Q.H.useState(T)},ge.useSyncExternalStore=function(T,V,Z){return Q.H.useSyncExternalStore(T,V,Z)},ge.useTransition=function(){return Q.H.useTransition()},ge.version="19.2.4",ge}var Wm;function Wc(){return Wm||(Wm=1,jc.exports=Gy()),jc.exports}var R=Wc(),Tc={exports:{}},rl={},Nc={exports:{}},Ac={};var eg;function Vy(){return eg||(eg=1,(function(s){function n(B,P){var ce=B.length;B.push(P);e:for(;0<ce;){var Ce=ce-1>>>1,be=B[Ce];if(0<u(be,P))B[Ce]=P,B[ce]=be,ce=Ce;else break e}}function l(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var P=B[0],ce=B.pop();if(ce!==P){B[0]=ce;e:for(var Ce=0,be=B.length,T=be>>>1;Ce<T;){var V=2*(Ce+1)-1,Z=B[V],F=V+1,re=B[F];if(0>u(Z,ce))F<be&&0>u(re,Z)?(B[Ce]=re,B[F]=ce,Ce=F):(B[Ce]=Z,B[V]=ce,Ce=V);else if(F<be&&0>u(re,ce))B[Ce]=re,B[F]=ce,Ce=F;else break e}}return P}function u(B,P){var ce=B.sortIndex-P.sortIndex;return ce!==0?ce:B.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,x=null,w=3,S=!1,O=!1,A=!1,E=!1,U=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var P=l(y);P!==null;){if(P.callback===null)r(y);else if(P.startTime<=B)r(y),P.sortIndex=P.expirationTime,n(p,P);else break;P=l(y)}}function ae(B){if(A=!1,I(B),!O)if(l(p)!==null)O=!0,$||($=!0,ee());else{var P=l(y);P!==null&&Ue(ae,P.startTime-B)}}var $=!1,Q=-1,pe=5,z=-1;function ne(){return E?!0:!(s.unstable_now()-z<pe)}function X(){if(E=!1,$){var B=s.unstable_now();z=B;var P=!0;try{e:{O=!1,A&&(A=!1,K(Q),Q=-1),S=!0;var ce=w;try{t:{for(I(B),x=l(p);x!==null&&!(x.expirationTime>B&&ne());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,w=x.priorityLevel;var be=Ce(x.expirationTime<=B);if(B=s.unstable_now(),typeof be=="function"){x.callback=be,I(B),P=!0;break t}x===l(p)&&r(p),I(B)}else r(p);x=l(p)}if(x!==null)P=!0;else{var T=l(y);T!==null&&Ue(ae,T.startTime-B),P=!1}}break e}finally{x=null,w=ce,S=!1}P=void 0}}finally{P?ee():$=!1}}}var ee;if(typeof q=="function")ee=function(){q(X)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ve=me.port2;me.port1.onmessage=X,ee=function(){Ve.postMessage(null)}}else ee=function(){U(X,0)};function Ue(B,P){Q=U(function(){B(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(B){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var ce=w;w=P;try{return B()}finally{w=ce}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=w;w=B;try{return P()}finally{w=ce}},s.unstable_scheduleCallback=function(B,P,ce){var Ce=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,B){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ce+be,B={id:b++,callback:P,priorityLevel:B,startTime:ce,expirationTime:be,sortIndex:-1},ce>Ce?(B.sortIndex=ce,n(y,B),l(p)===null&&B===l(y)&&(A?(K(Q),Q=-1):A=!0,Ue(ae,ce-Ce))):(B.sortIndex=be,n(p,B),O||S||(O=!0,$||($=!0,ee()))),B},s.unstable_shouldYield=ne,s.unstable_wrapCallback=function(B){var P=w;return function(){var ce=w;w=P;try{return B.apply(this,arguments)}finally{w=ce}}}})(Ac)),Ac}var tg;function Yy(){return tg||(tg=1,Nc.exports=Vy()),Nc.exports}var Oc={exports:{}},Nt={};var ag;function Ky(){if(ag)return Nt;ag=1;var s=Wc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:p,containerInfo:y,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,b)},Nt.flushSync=function(p){var y=h.T,b=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=b,r.d.f()}},Nt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Nt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Nt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:S}):b==="script"&&r.d.X(p,{crossOrigin:x,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Nt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Nt.requestFormReset=function(p){r.d.r(p)},Nt.unstable_batchedUpdates=function(p,y){return p(y)},Nt.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.2.4",Nt}var ng;function Jy(){if(ng)return Oc.exports;ng=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Oc.exports=Ky(),Oc.exports}var sg;function Xy(){if(sg)return rl;sg=1;var s=Yy(),n=Wc(),l=Jy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return p(o),e;if(c===i)return p(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==i.return)a=o,i=c;else{for(var g=!1,v=o.child;v;){if(v===a){g=!0,a=o,i=c;break}if(v===i){g=!0,i=o,a=c;break}v=v.sibling}if(!g){for(v=c.child;v;){if(v===a){g=!0,a=c,i=o;break}if(v===i){g=!0,i=c,a=o;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),q=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case E:return"StrictMode";case ae:return"Suspense";case $:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case q:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var Ue=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],be=-1;function T(e){return{current:e}}function V(e){0>be||(e.current=Ce[be],Ce[be]=null,be--)}function Z(e,t){be++,Ce[be]=e.current,e.current=t}var F=T(null),re=T(null),xe=T(null),Re=T(null);function Je(e,t){switch(Z(xe,t),Z(re,e),Z(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(F),Z(F,e)}function Ye(){V(F),V(re),V(xe)}function Qa(e){e.memoizedState!==null&&Z(Re,e);var t=F.current,a=xm(t,e.type);t!==a&&(Z(re,e),Z(F,a))}function Lt(e){re.current===e&&(V(F),V(re)),Re.current===e&&(V(Re),al._currentValue=ce)}var ls,rs;function ra(e){if(ls===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ls=t&&t[1]||"",rs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+e+rs}var os=!1;function us(e,t){if(!e||os)return"";os=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(L){var M=L}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(L){M=L}e.call(Y.prototype)}}else{try{throw Error()}catch(L){M=L}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),g=c[0],v=c[1];if(g&&v){var _=g.split(`
`),D=v.split(`
`);for(o=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(i===_.length||o===D.length)for(i=_.length-1,o=D.length-1;1<=i&&0<=o&&_[i]!==D[o];)o--;for(;1<=i&&0<=o;i--,o--)if(_[i]!==D[o]){if(i!==1||o!==1)do if(i--,o--,0>o||_[i]!==D[o]){var H=`
`+_[i].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=i&&0<=o);break}}}finally{os=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ra(a):""}function Nl(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ra("Activity");default:return""}}function li(e){try{var t="",a=null;do t+=Nl(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var On=Object.prototype.hasOwnProperty,pt=s.unstable_scheduleCallback,Ia=s.unstable_cancelCallback,Al=s.unstable_shouldYield,Pa=s.unstable_requestPaint,ft=s.unstable_now,Ol=s.unstable_getCurrentPriorityLevel,ri=s.unstable_ImmediatePriority,oi=s.unstable_UserBlockingPriority,Za=s.unstable_NormalPriority,ui=s.unstable_LowPriority,Rn=s.unstable_IdlePriority,ci=s.log,yt=s.unstable_setDisableYieldValue,Ea=null,Ot=null;function at(e){if(typeof ci=="function"&&yt(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Ea,e)}catch{}}var mt=Math.clz32?Math.clz32:jt,cs=Math.log,Cn=Math.LN2;function jt(e){return e>>>=0,e===0?32:31-(cs(e)/Cn|0)|0}var kn=256,Bt=262144,Dn=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fa(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~c,i!==0?o=ga(i):(g&=v,g!==0?o=ga(g):a||(a=v&~e,a!==0&&(o=ga(a))))):(v=i&~c,v!==0?o=ga(v):g!==0?o=ga(g):a||(a=i&~e,a!==0&&(o=ga(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Wa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var e=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),e}function hi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function pa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fi(e,t,a,i,o,c){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-mt(a),Y=1<<H;v[H]=0,_[H]=-1;var M=D[H];if(M!==null)for(D[H]=null,H=0;H<M.length;H++){var L=M[H];L!==null&&(L.lane&=-536870913)}a&=~Y}i!==0&&Rl(e,i,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~t))}function Rl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-mt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Cl(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-mt(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function mi(e,t){var a=t&-t;return a=(a&42)!==0?1:gi(a),(a&(e.suspendedLanes|t))!==0?0:a}function gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yi(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Vm(e.type))}function kl(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var It=Math.random().toString(36).slice(2),nt="__reactFiber$"+It,Tt="__reactProps$"+It,en="__reactContainer$"+It,ds="__reactEvents$"+It,go="__reactListeners$"+It,po="__reactHandles$"+It,j="__reactResources$"+It,J="__reactMarker$"+It;function W(e){delete e[nt],delete e[Tt],delete e[ds],delete e[go],delete e[po]}function he(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[en]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Nm(e);e!==null;){if(a=e[nt])return a;e=Nm(e)}return t}e=a,a=e.parentNode}return null}function Ae(e){if(e=e[nt]||e[en]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Oe(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ze(e){var t=e[j];return t||(t=e[j]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function we(e){e[J]=!0}var Un=new Set,vi={};function oa(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(vi[e]=t,e=0;e<t.length;e++)Un.add(t[e])}var Cp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},ud={};function kp(e){return On.call(ud,e)?!0:On.call(od,e)?!1:Cp.test(e)?ud[e]=!0:(od[e]=!0,!1)}function Dl(e,t,a){if(kp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ul(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ja(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dp(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=Dp(e,t,""+e[t])}}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=cd(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Up=/[\n"\\]/g;function Zt(e){return e.replace(Up,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vo(e,t,a,i,o,c,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?bo(e,g,Pt(t)):a!=null?bo(e,g,Pt(a)):i!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Pt(v):e.removeAttribute("name")}function hd(e,t,a,i,o,c,g,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yo(e);return}a=a!=null?""+Pt(a):"",t=t!=null?""+Pt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),yo(e)}function bo(e,t,a){t==="number"&&Ml(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fs(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Pt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function fd(e,t,a){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Pt(a):""}function md(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(Ue(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Pt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),yo(e)}function ms(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Mp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function pd(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&gd(e,o,i)}else for(var c in t)t.hasOwnProperty(c)&&gd(e,c,t[c])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(e){return Lp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ta(){}var wo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,ps=null;function yd(e){var t=Ae(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[Tt]||null;if(!o)throw Error(r(90));vo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&dd(i)}break e;case"textarea":fd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&fs(e,!!a.multiple,t,!1)}}}var So=!1;function vd(e,t,a){if(So)return e(t,a);So=!0;try{var i=e(t);return i}finally{if(So=!1,(gs!==null||ps!==null)&&(Sr(),gs&&(t=gs,e=ps,ps=gs=null,yd(t),e)))for(t=0;t<e.length;t++)yd(e[t])}}function bi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[Tt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=!1;if(Na)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Eo=!1}var tn=null,jo=null,Ll=null;function bd(){if(Ll)return Ll;var e,t=jo,a=t.length,i,o="value"in tn?tn.value:tn.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(i=1;i<=g&&t[a-i]===o[c-i];i++);return Ll=o.slice(e,1<i?1-i:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function xd(){return!1}function Ct(e){function t(a,i,o,c,g){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ql:xd,this.isPropagationStopped=xd,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Ct(Mn),wi=x({},Mn,{view:0,detail:0}),Bp=Ct(wi),To,No,_i,$l=x({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(To=e.screenX-_i.screenX,No=e.screenY-_i.screenY):No=To=0,_i=e),To)},movementY:function(e){return"movementY"in e?e.movementY:No}}),wd=Ct($l),qp=x({},$l,{dataTransfer:0}),Hp=Ct(qp),$p=x({},wi,{relatedTarget:0}),Ao=Ct($p),Gp=x({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=Ct(Gp),Yp=x({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=Ct(Yp),Jp=x({},Mn,{data:0}),_d=Ct(Jp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ip[e])?!!t[e]:!1}function Oo(){return Pp}var Zp=x({},wi,{key:function(e){if(e.key){var t=Xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=Ct(Zp),Wp=x({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=Ct(Wp),e0=x({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),t0=Ct(e0),a0=x({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=Ct(a0),s0=x({},$l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=Ct(s0),l0=x({},Mn,{newState:0,oldState:0}),r0=Ct(l0),o0=[9,13,27,32],Ro=Na&&"CompositionEvent"in window,Si=null;Na&&"documentMode"in document&&(Si=document.documentMode);var u0=Na&&"TextEvent"in window&&!Si,Ed=Na&&(!Ro||Si&&8<Si&&11>=Si),jd=" ",Td=!1;function Nd(e,t){switch(e){case"keyup":return o0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function c0(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(Td=!0,jd);case"textInput":return e=t.data,e===jd&&Td?null:e;default:return null}}function d0(e,t){if(ys)return e==="compositionend"||!Ro&&Nd(e,t)?(e=bd(),Ll=jo=tn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ed&&t.locale!=="ko"?null:t.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h0[e.type]:t==="textarea"}function Rd(e,t,a,i){gs?ps?ps.push(i):ps=[i]:gs=i,t=Rr(t,"onChange"),0<t.length&&(a=new Hl("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Ei=null,ji=null;function f0(e){fm(e,0)}function Gl(e){var t=Oe(e);if(dd(t))return e}function Cd(e,t){if(e==="change")return t}var kd=!1;if(Na){var Co;if(Na){var ko="oninput"in document;if(!ko){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),ko=typeof Dd.oninput=="function"}Co=ko}else Co=!1;kd=Co&&(!document.documentMode||9<document.documentMode)}function Ud(){Ei&&(Ei.detachEvent("onpropertychange",Md),ji=Ei=null)}function Md(e){if(e.propertyName==="value"&&Gl(ji)){var t=[];Rd(t,ji,e,_o(e)),vd(f0,t)}}function m0(e,t,a){e==="focusin"?(Ud(),Ei=t,ji=a,Ei.attachEvent("onpropertychange",Md)):e==="focusout"&&Ud()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(ji)}function p0(e,t){if(e==="click")return Gl(t)}function y0(e,t){if(e==="input"||e==="change")return Gl(t)}function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:v0;function Ti(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!On.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var a=zd(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zd(a)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ml(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ml(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b0=Na&&"documentMode"in document&&11>=document.documentMode,vs=null,Uo=null,Ni=null,Mo=!1;function Hd(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mo||vs==null||vs!==Ml(i)||(i=vs,"selectionStart"in i&&Do(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ni&&Ti(Ni,i)||(Ni=i,i=Rr(Uo,"onSelect"),0<i.length&&(t=new Hl("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=vs)))}function zn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bs={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},zo={},$d={};Na&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Ln(e){if(zo[e])return zo[e];if(!bs[e])return e;var t=bs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in $d)return zo[e]=t[a];return e}var Gd=Ln("animationend"),Vd=Ln("animationiteration"),Yd=Ln("animationstart"),x0=Ln("transitionrun"),w0=Ln("transitionstart"),_0=Ln("transitioncancel"),Kd=Ln("transitionend"),Jd=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function ua(e,t){Jd.set(e,t),oa(t,[e])}var Vl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],xs=0,Bo=0;function Yl(){for(var e=xs,t=Bo=xs=0;t<e;){var a=Ft[t];Ft[t++]=null;var i=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var c=Ft[t];if(Ft[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}c!==0&&Xd(a,o,c)}}function Kl(e,t,a,i){Ft[xs++]=e,Ft[xs++]=t,Ft[xs++]=a,Ft[xs++]=i,Bo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qo(e,t,a,i){return Kl(e,t,a,i),Jl(e)}function Bn(e,t){return Kl(e,null,null,t),Jl(e)}function Xd(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,i=c.alternate,i!==null&&(i.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-mt(a),e=c.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),c):null}function Jl(e){if(50<Ii)throw Ii=0,Qu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ws={};function S0(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,i){return new S0(e,t,a,i)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aa(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xl(e,t,a,i,o,c){var g=0;if(i=e,typeof e=="function")Ho(e)&&(g=1);else if(typeof e=="string")g=Ay(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=Ht(31,a,t,o),e.elementType=z,e.lanes=c,e;case A:return qn(a.children,o,c,t);case E:g=8,o|=24;break;case U:return e=Ht(12,a,t,o|2),e.elementType=U,e.lanes=c,e;case ae:return e=Ht(13,a,t,o),e.elementType=ae,e.lanes=c,e;case $:return e=Ht(19,a,t,o),e.elementType=$,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:g=10;break e;case K:g=9;break e;case I:g=11;break e;case Q:g=14;break e;case pe:g=16,i=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=Ht(g,a,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function qn(e,t,a,i){return e=Ht(7,e,i,t),e.lanes=a,e}function $o(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function Id(e){var t=Ht(18,null,null,0);return t.stateNode=e,t}function Go(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pd=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var a=Pd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:li(t)},Pd.set(e,t),t)}return{value:e,source:t,stack:li(t)}}var _s=[],Ss=0,Ql=null,Ai=0,ea=[],ta=0,an=null,ya=1,va="";function Oa(e,t){_s[Ss++]=Ai,_s[Ss++]=Ql,Ql=e,Ai=t}function Zd(e,t,a){ea[ta++]=ya,ea[ta++]=va,ea[ta++]=an,an=e;var i=ya;e=va;var o=32-mt(i)-1;i&=~(1<<o),a+=1;var c=32-mt(t)+o;if(30<c){var g=o-o%5;c=(i&(1<<g)-1).toString(32),i>>=g,o-=g,ya=1<<32-mt(t)+o|a<<o|i,va=c+e}else ya=1<<c|a<<o|i,va=e}function Vo(e){e.return!==null&&(Oa(e,1),Zd(e,1,0))}function Yo(e){for(;e===Ql;)Ql=_s[--Ss],_s[Ss]=null,Ai=_s[--Ss],_s[Ss]=null;for(;e===an;)an=ea[--ta],ea[ta]=null,va=ea[--ta],ea[ta]=null,ya=ea[--ta],ea[ta]=null}function Fd(e,t){ea[ta++]=ya,ea[ta++]=va,ea[ta++]=an,ya=t.id,va=t.overflow,an=e}var vt=null,Xe=null,Ne=!1,nn=null,aa=!1,Ko=Error(r(519));function sn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oi(Wt(t,e)),Ko}function Wd(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[nt]=e,t[Tt]=i,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<Zi.length;a++)Se(Zi[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),hd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),md(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||ym(t.textContent,a)?(i.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),i.onScroll!=null&&Se("scroll",t),i.onScrollEnd!=null&&Se("scrollend",t),i.onClick!=null&&(t.onclick=Ta),t=!0):t=!1,t||sn(e,!0)}function eh(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:vt=vt.return}}function Es(e){if(e!==vt)return!1;if(!Ne)return eh(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uc(e.type,e.memoizedProps)),a=!a),a&&Xe&&sn(e),eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Xe=Tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Xe=Tm(e)}else t===27?(t=Xe,bn(e.type)?(e=mc,mc=null,Xe=e):Xe=t):Xe=vt?sa(e.stateNode.nextSibling):null;return!0}function Hn(){Xe=vt=null,Ne=!1}function Jo(){var e=nn;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),nn=null),e}function Oi(e){nn===null?nn=[e]:nn.push(e)}var Xo=T(null),$n=null,Ra=null;function ln(e,t,a){Z(Xo,t._currentValue),t._currentValue=a}function Ca(e){e._currentValue=Xo.current,V(Xo)}function Qo(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Io(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var g=o.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=o;for(var _=0;_<t.length;_++)if(v.context===t[_]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),Qo(c.return,a,e),i||(g=null);break e}c=v.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(r(341));g.lanes|=a,c=g.alternate,c!==null&&(c.lanes|=a),Qo(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function js(e,t,a,i){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=o.type;qt(o.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(o===Re.current){if(g=o.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}o=o.return}e!==null&&Io(t,e,a,i),t.flags|=262144}function Il(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gn(e){$n=e,Ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return th($n,e)}function Pl(e,t){return $n===null&&Gn(e),th(e,t)}function th(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ra===null){if(e===null)throw Error(r(308));Ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ra=Ra.next=t;return a}var E0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},j0=s.unstable_scheduleCallback,T0=s.unstable_NormalPriority,st={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new E0,data:new Map,refCount:0}}function Ri(e){e.refCount--,e.refCount===0&&j0(T0,function(){e.controller.abort()})}var Ci=null,Zo=0,Ts=0,Ns=null;function N0(e,t){if(Ci===null){var a=Ci=[];Zo=0,Ts=ec(),Ns={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Zo++,t.then(ah,ah),t}function ah(){if(--Zo===0&&Ci!==null){Ns!==null&&(Ns.status="fulfilled");var e=Ci;Ci=null,Ts=0,Ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function A0(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var nh=B.S;B.S=function(e,t){$f=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&N0(e,t),nh!==null&&nh(e,t)};var Vn=T(null);function Fo(){var e=Vn.current;return e!==null?e:Ge.pooledCache}function Zl(e,t){t===null?Z(Vn,Vn.current):Z(Vn,t.pool)}function sh(){var e=Fo();return e===null?null:{parent:st._currentValue,pool:e}}var As=Error(r(460)),Wo=Error(r(474)),Fl=Error(r(542)),Wl={then:function(){}};function ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ta,Ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oh(e),e;default:if(typeof t.status=="string")t.then(Ta,Ta);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oh(e),e}throw Kn=t,As}}function Yn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kn=a,As):a}}var Kn=null;function rh(){if(Kn===null)throw Error(r(459));var e=Kn;return Kn=null,e}function oh(e){if(e===As||e===Fl)throw Error(r(483))}var Os=null,ki=0;function er(e){var t=ki;return ki+=1,Os===null&&(Os=[]),lh(Os,e,t)}function Di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tr(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uh(e){function t(C,N){if(e){var k=C.deletions;k===null?(C.deletions=[N],C.flags|=16):k.push(N)}}function a(C,N){if(!e)return null;for(;N!==null;)t(C,N),N=N.sibling;return null}function i(C){for(var N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function o(C,N){return C=Aa(C,N),C.index=0,C.sibling=null,C}function c(C,N,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<N?(C.flags|=67108866,N):k):(C.flags|=67108866,N)):(C.flags|=1048576,N)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,N,k,G){return N===null||N.tag!==6?(N=$o(k,C.mode,G),N.return=C,N):(N=o(N,k),N.return=C,N)}function _(C,N,k,G){var le=k.type;return le===A?H(C,N,k.props.children,G,k.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===pe&&Yn(le)===N.type)?(N=o(N,k.props),Di(N,k),N.return=C,N):(N=Xl(k.type,k.key,k.props,null,C.mode,G),Di(N,k),N.return=C,N)}function D(C,N,k,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Go(k,C.mode,G),N.return=C,N):(N=o(N,k.children||[]),N.return=C,N)}function H(C,N,k,G,le){return N===null||N.tag!==7?(N=qn(k,C.mode,G,le),N.return=C,N):(N=o(N,k),N.return=C,N)}function Y(C,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$o(""+N,C.mode,k),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return k=Xl(N.type,N.key,N.props,null,C.mode,k),Di(k,N),k.return=C,k;case O:return N=Go(N,C.mode,k),N.return=C,N;case pe:return N=Yn(N),Y(C,N,k)}if(Ue(N)||ee(N))return N=qn(N,C.mode,k,null),N.return=C,N;if(typeof N.then=="function")return Y(C,er(N),k);if(N.$$typeof===q)return Y(C,Pl(C,N),k);tr(C,N)}return null}function M(C,N,k,G){var le=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return le!==null?null:v(C,N,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===le?_(C,N,k,G):null;case O:return k.key===le?D(C,N,k,G):null;case pe:return k=Yn(k),M(C,N,k,G)}if(Ue(k)||ee(k))return le!==null?null:H(C,N,k,G,null);if(typeof k.then=="function")return M(C,N,er(k),G);if(k.$$typeof===q)return M(C,N,Pl(C,k),G);tr(C,k)}return null}function L(C,N,k,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return C=C.get(k)||null,v(N,C,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return C=C.get(G.key===null?k:G.key)||null,_(N,C,G,le);case O:return C=C.get(G.key===null?k:G.key)||null,D(N,C,G,le);case pe:return G=Yn(G),L(C,N,k,G,le)}if(Ue(G)||ee(G))return C=C.get(k)||null,H(N,C,G,le,null);if(typeof G.then=="function")return L(C,N,k,er(G),le);if(G.$$typeof===q)return L(C,N,k,Pl(N,G),le);tr(N,G)}return null}function te(C,N,k,G){for(var le=null,ke=null,se=N,ve=N=0,je=null;se!==null&&ve<k.length;ve++){se.index>ve?(je=se,se=null):je=se.sibling;var De=M(C,se,k[ve],G);if(De===null){se===null&&(se=je);break}e&&se&&De.alternate===null&&t(C,se),N=c(De,N,ve),ke===null?le=De:ke.sibling=De,ke=De,se=je}if(ve===k.length)return a(C,se),Ne&&Oa(C,ve),le;if(se===null){for(;ve<k.length;ve++)se=Y(C,k[ve],G),se!==null&&(N=c(se,N,ve),ke===null?le=se:ke.sibling=se,ke=se);return Ne&&Oa(C,ve),le}for(se=i(se);ve<k.length;ve++)je=L(se,C,ve,k[ve],G),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?ve:je.key),N=c(je,N,ve),ke===null?le=je:ke.sibling=je,ke=je);return e&&se.forEach(function(En){return t(C,En)}),Ne&&Oa(C,ve),le}function oe(C,N,k,G){if(k==null)throw Error(r(151));for(var le=null,ke=null,se=N,ve=N=0,je=null,De=k.next();se!==null&&!De.done;ve++,De=k.next()){se.index>ve?(je=se,se=null):je=se.sibling;var En=M(C,se,De.value,G);if(En===null){se===null&&(se=je);break}e&&se&&En.alternate===null&&t(C,se),N=c(En,N,ve),ke===null?le=En:ke.sibling=En,ke=En,se=je}if(De.done)return a(C,se),Ne&&Oa(C,ve),le;if(se===null){for(;!De.done;ve++,De=k.next())De=Y(C,De.value,G),De!==null&&(N=c(De,N,ve),ke===null?le=De:ke.sibling=De,ke=De);return Ne&&Oa(C,ve),le}for(se=i(se);!De.done;ve++,De=k.next())De=L(se,C,ve,De.value,G),De!==null&&(e&&De.alternate!==null&&se.delete(De.key===null?ve:De.key),N=c(De,N,ve),ke===null?le=De:ke.sibling=De,ke=De);return e&&se.forEach(function(qy){return t(C,qy)}),Ne&&Oa(C,ve),le}function $e(C,N,k,G){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var le=k.key;N!==null;){if(N.key===le){if(le=k.type,le===A){if(N.tag===7){a(C,N.sibling),G=o(N,k.props.children),G.return=C,C=G;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===pe&&Yn(le)===N.type){a(C,N.sibling),G=o(N,k.props),Di(G,k),G.return=C,C=G;break e}a(C,N);break}else t(C,N);N=N.sibling}k.type===A?(G=qn(k.props.children,C.mode,G,k.key),G.return=C,C=G):(G=Xl(k.type,k.key,k.props,null,C.mode,G),Di(G,k),G.return=C,C=G)}return g(C);case O:e:{for(le=k.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(C,N.sibling),G=o(N,k.children||[]),G.return=C,C=G;break e}else{a(C,N);break}else t(C,N);N=N.sibling}G=Go(k,C.mode,G),G.return=C,C=G}return g(C);case pe:return k=Yn(k),$e(C,N,k,G)}if(Ue(k))return te(C,N,k,G);if(ee(k)){if(le=ee(k),typeof le!="function")throw Error(r(150));return k=le.call(k),oe(C,N,k,G)}if(typeof k.then=="function")return $e(C,N,er(k),G);if(k.$$typeof===q)return $e(C,N,Pl(C,k),G);tr(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(C,N.sibling),G=o(N,k),G.return=C,C=G):(a(C,N),G=$o(k,C.mode,G),G.return=C,C=G),g(C)):a(C,N)}return function(C,N,k,G){try{ki=0;var le=$e(C,N,k,G);return Os=null,le}catch(se){if(se===As||se===Fl)throw se;var ke=Ht(29,se,null,C.mode);return ke.lanes=G,ke.return=C,ke}}}var Jn=uh(!0),ch=uh(!1),rn=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function on(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function un(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Me&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Jl(e),Xd(e,null,a),t}return Kl(e,i,t,a),Jl(e)}function Ui(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Cl(e,a)}}function au(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=g:c=c.next=g,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nu=!1;function Mi(){if(nu){var e=Ns;if(e!==null)throw e}}function zi(e,t,a,i){nu=!1;var o=e.updateQueue;rn=!1;var c=o.firstBaseUpdate,g=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var _=v,D=_.next;_.next=null,g===null?c=D:g.next=D,g=_;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==g&&(v===null?H.firstBaseUpdate=D:v.next=D,H.lastBaseUpdate=_))}if(c!==null){var Y=o.baseState;g=0,H=D=_=null,v=c;do{var M=v.lane&-536870913,L=M!==v.lane;if(L?(Ee&M)===M:(i&M)===M){M!==0&&M===Ts&&(nu=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var te=e,oe=v;M=t;var $e=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){Y=te.call($e,Y,M);break e}Y=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,M=typeof te=="function"?te.call($e,Y,M):te,M==null)break e;Y=x({},Y,M);break e;case 2:rn=!0}}M=v.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[M]:L.push(M))}else L={lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(D=H=L,_=Y):H=H.next=L,g|=M;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;L=v,v=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);H===null&&(_=Y),o.baseState=_,o.firstBaseUpdate=D,o.lastBaseUpdate=H,c===null&&(o.shared.lanes=0),mn|=g,e.lanes=g,e.memoizedState=Y}}function dh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function hh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dh(a[e],t)}var Rs=T(null),ar=T(0);function fh(e,t){e=Ha,Z(ar,e),Z(Rs,t),Ha=e|t.baseLanes}function su(){Z(ar,Ha),Z(Rs,Rs.current)}function iu(){Ha=ar.current,V(Rs),V(ar)}var $t=T(null),na=null;function cn(e){var t=e.alternate;Z(et,et.current&1),Z($t,e),na===null&&(t===null||Rs.current!==null||t.memoizedState!==null)&&(na=e)}function lu(e){Z(et,et.current),Z($t,e),na===null&&(na=e)}function mh(e){e.tag===22?(Z(et,et.current),Z($t,e),na===null&&(na=e)):dn()}function dn(){Z(et,et.current),Z($t,$t.current)}function Gt(e){V($t),na===e&&(na=null),V(et)}var et=T(0);function nr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hc(a)||fc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,ye=null,qe=null,it=null,sr=!1,Cs=!1,Xn=!1,ir=0,Li=0,ks=null,O0=0;function Ze(){throw Error(r(321))}function ru(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!qt(e[a],t[a]))return!1;return!0}function ou(e,t,a,i,o,c){return ka=c,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Zh:Su,Xn=!1,c=a(i,o),Xn=!1,Cs&&(c=ph(t,a,i,o)),gh(e),c}function gh(e){B.H=Hi;var t=qe!==null&&qe.next!==null;if(ka=0,it=qe=ye=null,sr=!1,Li=0,ks=null,t)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&Il(e)&&(lt=!0))}function ph(e,t,a,i){ye=e;var o=0;do{if(Cs&&(ks=null),Li=0,Cs=!1,25<=o)throw Error(r(301));if(o+=1,it=qe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}B.H=Fh,c=t(a,i)}while(Cs);return c}function R0(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Bi(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(ye.flags|=1024),t}function uu(){var e=ir!==0;return ir=0,e}function cu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function du(e){if(sr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sr=!1}ka=0,it=qe=ye=null,Cs=!1,Li=ir=0,ks=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ye.memoizedState=it=e:it=it.next=e,it}function tt(){if(qe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=it===null?ye.memoizedState:it.next;if(t!==null)it=t,qe=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},it===null?ye.memoizedState=it=e:it=it.next=e}return it}function lr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var t=Li;return Li+=1,ks===null&&(ks=[]),e=lh(ks,e,t),t=ye,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Zh:Su),e}function rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===q)return bt(e)}throw Error(r(438,String(e)))}function hu(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=lr(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=ne;return t.index++,a}function Da(e,t){return typeof t=="function"?t(e):t}function or(e){var t=tt();return fu(t,qe,e)}function fu(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var o=e.baseQueue,c=i.pending;if(c!==null){if(o!==null){var g=o.next;o.next=c.next,c.next=g}t.baseQueue=o=c,i.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var v=g=null,_=null,D=t,H=!1;do{var Y=D.lane&-536870913;if(Y!==D.lane?(Ee&Y)===Y:(ka&Y)===Y){var M=D.revertLane;if(M===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Y===Ts&&(H=!0);else if((ka&M)===M){D=D.next,M===Ts&&(H=!0);continue}else Y={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=Y,g=c):_=_.next=Y,ye.lanes|=M,mn|=M;Y=D.action,Xn&&a(c,Y),c=D.hasEagerState?D.eagerState:a(c,Y)}else M={lane:Y,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=M,g=c):_=_.next=M,ye.lanes|=Y,mn|=Y;D=D.next}while(D!==null&&D!==t);if(_===null?g=c:_.next=v,!qt(c,e.memoizedState)&&(lt=!0,H&&(a=Ns,a!==null)))throw a;e.memoizedState=c,e.baseState=g,e.baseQueue=_,i.lastRenderedState=c}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function mu(e){var t=tt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do c=e(c,g.action),g=g.next;while(g!==o);qt(c,t.memoizedState)||(lt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,i]}function yh(e,t,a){var i=ye,o=tt(),c=Ne;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var g=!qt((qe||o).memoizedState,a);if(g&&(o.memoizedState=a,lt=!0),o=o.queue,yu(xh.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,Ds(9,{destroy:void 0},bh.bind(null,i,o,a,t),null),Ge===null)throw Error(r(349));c||(ka&127)!==0||vh(i,t,a)}return a}function vh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=lr(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function bh(e,t,a,i){t.value=a,t.getSnapshot=i,wh(t)&&_h(e)}function xh(e,t,a){return a(function(){wh(t)&&_h(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!qt(e,a)}catch{return!0}}function _h(e){var t=Bn(e,2);t!==null&&zt(t,e,2)}function gu(e){var t=Rt();if(typeof e=="function"){var a=e;if(e=a(),Xn){at(!0);try{a()}finally{at(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t}function Sh(e,t,a,i){return e.baseState=a,fu(e,qe,typeof i=="function"?i:Da)}function C0(e,t,a,i,o){if(dr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};B.T!==null?a(!0):c.isTransition=!1,i(c),a=t.pending,a===null?(c.next=t.pending=c,Eh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Eh(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var c=B.T,g={};B.T=g;try{var v=a(o,i),_=B.S;_!==null&&_(g,v),jh(e,t,v)}catch(D){pu(e,t,D)}finally{c!==null&&g.types!==null&&(c.types=g.types),B.T=c}}else try{c=a(o,i),jh(e,t,c)}catch(D){pu(e,t,D)}}function jh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Th(e,t,i)},function(i){return pu(e,t,i)}):Th(e,t,a)}function Th(e,t,a){t.status="fulfilled",t.value=a,Nh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Eh(e,a)))}function pu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Nh(t),t=t.next;while(t!==i)}e.action=null}function Nh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ah(e,t){return t}function Oh(e,t){if(Ne){var a=Ge.formState;if(a!==null){e:{var i=ye;if(Ne){if(Xe){t:{for(var o=Xe,c=aa;o.nodeType!==8;){if(!c){o=null;break t}if(o=sa(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Xe=sa(o.nextSibling),i=o.data==="F!";break e}}sn(i)}i=!1}i&&(t=a[0])}}return a=Rt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},a.queue=i,a=Qh.bind(null,ye,i),i.dispatch=a,i=gu(!1),c=_u.bind(null,ye,!1,i.queue),i=Rt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=C0.bind(null,ye,o,c,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Rh(e){var t=tt();return Ch(t,qe,e)}function Ch(e,t,a){if(t=fu(e,t,Ah)[0],e=or(Da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Bi(t)}catch(g){throw g===As?Fl:g}else i=t;t=tt();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Ds(9,{destroy:void 0},k0.bind(null,o,a),null)),[i,c,e]}function k0(e,t){e.action=t}function kh(e){var t=tt(),a=qe;if(a!==null)return Ch(t,a,e);tt(),t=t.memoizedState,a=tt();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Ds(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ye.updateQueue,t===null&&(t=lr(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Dh(){return tt().memoizedState}function ur(e,t,a,i){var o=Rt();ye.flags|=e,o.memoizedState=Ds(1|t,{destroy:void 0},a,i===void 0?null:i)}function cr(e,t,a,i){var o=tt();i=i===void 0?null:i;var c=o.memoizedState.inst;qe!==null&&i!==null&&ru(i,qe.memoizedState.deps)?o.memoizedState=Ds(t,c,a,i):(ye.flags|=e,o.memoizedState=Ds(1|t,c,a,i))}function Uh(e,t){ur(8390656,8,e,t)}function yu(e,t){cr(2048,8,e,t)}function D0(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=lr(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Mh(e){var t=tt().memoizedState;return D0({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function zh(e,t){return cr(4,2,e,t)}function Lh(e,t){return cr(4,4,e,t)}function Bh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qh(e,t,a){a=a!=null?a.concat([e]):null,cr(4,4,Bh.bind(null,t,e),a)}function vu(){}function Hh(e,t){var a=tt();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&ru(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function $h(e,t){var a=tt();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&ru(t,i[1]))return i[0];if(i=e(),Xn){at(!0);try{e()}finally{at(!1)}}return a.memoizedState=[i,t],i}function bu(e,t,a){return a===void 0||(ka&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Vf(),ye.lanes|=e,mn|=e,a)}function Gh(e,t,a,i){return qt(a,t)?a:Rs.current!==null?(e=bu(e,a,i),qt(e,t)||(lt=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(Ee&261930)===0?(lt=!0,e.memoizedState=a):(e=Vf(),ye.lanes|=e,mn|=e,t)}function Vh(e,t,a,i,o){var c=P.p;P.p=c!==0&&8>c?c:8;var g=B.T,v={};B.T=v,_u(e,!1,t,a);try{var _=o(),D=B.S;if(D!==null&&D(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var H=A0(_,i);qi(e,t,H,Kt(e))}else qi(e,t,i,Kt(e))}catch(Y){qi(e,t,{then:function(){},status:"rejected",reason:Y},Kt())}finally{P.p=c,g!==null&&v.types!==null&&(g.types=v.types),B.T=g}}function U0(){}function xu(e,t,a,i){if(e.tag!==5)throw Error(r(476));var o=Yh(e).queue;Vh(e,o,t,ce,a===null?U0:function(){return Kh(e),a(i)})}function Yh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:ce},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Kh(e){var t=Yh(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},Kt())}function wu(){return bt(al)}function Jh(){return tt().memoizedState}function Xh(){return tt().memoizedState}function M0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Kt();e=on(a);var i=un(t,e,a);i!==null&&(zt(i,t,a),Ui(i,t,a)),t={cache:Po()},e.payload=t;return}t=t.return}}function z0(e,t,a){var i=Kt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dr(e)?Ih(t,a):(a=qo(e,t,a,i),a!==null&&(zt(a,e,i),Ph(a,t,i)))}function Qh(e,t,a){var i=Kt();qi(e,t,a,i)}function qi(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dr(e))Ih(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,v=c(g,a);if(o.hasEagerState=!0,o.eagerState=v,qt(v,g))return Kl(e,t,o,0),Ge===null&&Yl(),!1}catch{}if(a=qo(e,t,o,i),a!==null)return zt(a,e,i),Ph(a,t,i),!0}return!1}function _u(e,t,a,i){if(i={lane:2,revertLane:ec(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},dr(e)){if(t)throw Error(r(479))}else t=qo(e,a,i,2),t!==null&&zt(t,e,2)}function dr(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Ih(e,t){Cs=sr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ph(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Cl(e,a)}}var Hi={readContext:bt,use:rr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Hi.useEffectEvent=Ze;var Zh={readContext:bt,use:rr,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Uh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ur(4194308,4,Bh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ur(4194308,4,e,t)},useInsertionEffect:function(e,t){ur(4,2,e,t)},useMemo:function(e,t){var a=Rt();t=t===void 0?null:t;var i=e();if(Xn){at(!0);try{e()}finally{at(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=Rt();if(a!==void 0){var o=a(t);if(Xn){at(!0);try{a(t)}finally{at(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=z0.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=gu(e);var t=e.queue,a=Qh.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:vu,useDeferredValue:function(e,t){var a=Rt();return bu(a,e,t)},useTransition:function(){var e=gu(!1);return e=Vh.bind(null,ye,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ye,o=Rt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ge===null)throw Error(r(349));(Ee&127)!==0||vh(i,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Uh(xh.bind(null,i,c,e),[e]),i.flags|=2048,Ds(9,{destroy:void 0},bh.bind(null,i,c,a,t),null),a},useId:function(){var e=Rt(),t=Ge.identifierPrefix;if(Ne){var a=va,i=ya;a=(i&~(1<<32-mt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ir++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=O0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wu,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=_u.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:hu,useCacheRefresh:function(){return Rt().memoizedState=M0.bind(null,ye)},useEffectEvent:function(e){var t=Rt(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Su={readContext:bt,use:rr,useCallback:Hh,useContext:bt,useEffect:yu,useImperativeHandle:qh,useInsertionEffect:zh,useLayoutEffect:Lh,useMemo:$h,useReducer:or,useRef:Dh,useState:function(){return or(Da)},useDebugValue:vu,useDeferredValue:function(e,t){var a=tt();return Gh(a,qe.memoizedState,e,t)},useTransition:function(){var e=or(Da)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:yh,useId:Jh,useHostTransitionStatus:wu,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var a=tt();return Sh(a,qe,e,t)},useMemoCache:hu,useCacheRefresh:Xh};Su.useEffectEvent=Mh;var Fh={readContext:bt,use:rr,useCallback:Hh,useContext:bt,useEffect:yu,useImperativeHandle:qh,useInsertionEffect:zh,useLayoutEffect:Lh,useMemo:$h,useReducer:mu,useRef:Dh,useState:function(){return mu(Da)},useDebugValue:vu,useDeferredValue:function(e,t){var a=tt();return qe===null?bu(a,e,t):Gh(a,qe.memoizedState,e,t)},useTransition:function(){var e=mu(Da)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:yh,useId:Jh,useHostTransitionStatus:wu,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var a=tt();return qe!==null?Sh(a,qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Xh};Fh.useEffectEvent=Mh;function Eu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ju={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Kt(),o=on(i);o.payload=t,a!=null&&(o.callback=a),t=un(e,o,i),t!==null&&(zt(t,e,i),Ui(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Kt(),o=on(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=un(e,o,i),t!==null&&(zt(t,e,i),Ui(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kt(),i=on(a);i.tag=2,t!=null&&(i.callback=t),t=un(e,i,a),t!==null&&(zt(t,e,a),Ui(t,e,a))}};function Wh(e,t,a,i,o,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,g):t.prototype&&t.prototype.isPureReactComponent?!Ti(a,i)||!Ti(o,c):!0}function ef(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function Qn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function tf(e){Vl(e)}function af(e){console.error(e)}function nf(e){Vl(e)}function hr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function sf(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Tu(e,t,a){return a=on(a),a.tag=3,a.payload={element:null},a.callback=function(){hr(e,t)},a}function lf(e){return e=on(e),e.tag=3,e}function rf(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;e.payload=function(){return o(c)},e.callback=function(){sf(t,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){sf(t,a,i),typeof o!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function L0(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&js(t,a,o,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return na===null?Er():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===Wl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Zu(e,i,o)),!1;case 22:return a.flags|=65536,i===Wl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Zu(e,i,o)),!1}throw Error(r(435,a.tag))}return Zu(e,i,o),Er(),!1}if(Ne)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Ko&&(e=Error(r(422),{cause:i}),Oi(Wt(e,a)))):(i!==Ko&&(t=Error(r(423),{cause:i}),Oi(Wt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Wt(i,a),o=Tu(e.stateNode,i,o),au(e,o),Fe!==4&&(Fe=2)),!1;var c=Error(r(520),{cause:i});if(c=Wt(c,a),Qi===null?Qi=[c]:Qi.push(c),Fe!==4&&(Fe=2),t===null)return!0;i=Wt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Tu(a.stateNode,i,e),au(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(gn===null||!gn.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=lf(o),rf(o,e,a,i),au(a,o),!1}a=a.return}while(a!==null);return!1}var Nu=Error(r(461)),lt=!1;function xt(e,t,a,i){t.child=e===null?ch(t,null,a,i):Jn(t,e.child,a,i)}function of(e,t,a,i,o){a=a.render;var c=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return Gn(t),i=ou(e,t,a,g,c,o),v=uu(),e!==null&&!lt?(cu(e,t,o),Ua(e,t,o)):(Ne&&v&&Vo(t),t.flags|=1,xt(e,t,i,o),t.child)}function uf(e,t,a,i,o){if(e===null){var c=a.type;return typeof c=="function"&&!Ho(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,cf(e,t,c,i,o)):(e=Xl(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Mu(e,o)){var g=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ti,a(g,i)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,e=Aa(c,i),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,a,i,o){if(e!==null){var c=e.memoizedProps;if(Ti(c,i)&&e.ref===t.ref)if(lt=!1,t.pendingProps=i=c,Mu(e,o))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Ua(e,t,o)}return Au(e,t,a,i,o)}function df(e,t,a,i){var o=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~c}else i=0,t.child=null;return hf(e,t,c,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zl(t,c!==null?c.cachePool:null),c!==null?fh(t,c):su(),mh(t);else return i=t.lanes=536870912,hf(e,t,c!==null?c.baseLanes|a:a,a,i)}else c!==null?(Zl(t,c.cachePool),fh(t,c),dn(),t.memoizedState=null):(e!==null&&Zl(t,null),su(),dn());return xt(e,t,o,a),t.child}function $i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hf(e,t,a,i,o){var c=Fo();return c=c===null?null:{parent:st._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Zl(t,null),su(),mh(t),e!==null&&js(e,t,i,!0),t.childLanes=o,null}function fr(e,t){return t=gr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ff(e,t,a){return Jn(t,e.child,null,a),e=fr(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function B0(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(i.mode==="hidden")return e=fr(t,i),t.lanes=536870912,$i(null,e);if(lu(t),(e=Xe)?(e=jm(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:an!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},a=Id(e),a.return=t,t.child=a,vt=t,Xe=null)):e=null,e===null)throw sn(t);return t.lanes=536870912,null}return fr(t,i)}var c=e.memoizedState;if(c!==null){var g=c.dehydrated;if(lu(t),o)if(t.flags&256)t.flags&=-257,t=ff(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(lt||js(e,t,a,!1),o=(a&e.childLanes)!==0,lt||o){if(i=Ge,i!==null&&(g=mi(i,a),g!==0&&g!==c.retryLane))throw c.retryLane=g,Bn(e,g),zt(i,e,g),Nu;Er(),t=ff(e,t,a)}else e=c.treeContext,Xe=sa(g.nextSibling),vt=t,Ne=!0,nn=null,aa=!1,e!==null&&Fd(t,e),t=fr(t,i),t.flags|=4096;return t}return e=Aa(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Au(e,t,a,i,o){return Gn(t),a=ou(e,t,a,i,void 0,o),i=uu(),e!==null&&!lt?(cu(e,t,o),Ua(e,t,o)):(Ne&&i&&Vo(t),t.flags|=1,xt(e,t,a,o),t.child)}function mf(e,t,a,i,o,c){return Gn(t),t.updateQueue=null,a=ph(t,i,a,o),gh(e),i=uu(),e!==null&&!lt?(cu(e,t,c),Ua(e,t,c)):(Ne&&i&&Vo(t),t.flags|=1,xt(e,t,a,c),t.child)}function gf(e,t,a,i,o){if(Gn(t),t.stateNode===null){var c=ws,g=a.contextType;typeof g=="object"&&g!==null&&(c=bt(g)),c=new a(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ju,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},eu(t),g=a.contextType,c.context=typeof g=="object"&&g!==null?bt(g):ws,c.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Eu(t,a,g,i),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&ju.enqueueReplaceState(c,c.state,null),zi(t,i,c,o),Mi(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,_=Qn(a,v);c.props=_;var D=c.context,H=a.contextType;g=ws,typeof H=="object"&&H!==null&&(g=bt(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,H||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||D!==g)&&ef(t,c,i,g),rn=!1;var M=t.memoizedState;c.state=M,zi(t,i,c,o),Mi(),D=t.memoizedState,v||M!==D||rn?(typeof Y=="function"&&(Eu(t,a,Y,i),D=t.memoizedState),(_=rn||Wh(t,a,_,i,M,D,g))?(H||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=D),c.props=i,c.state=D,c.context=g,i=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,tu(e,t),g=t.memoizedProps,H=Qn(a,g),c.props=H,Y=t.pendingProps,M=c.context,D=a.contextType,_=ws,typeof D=="object"&&D!==null&&(_=bt(D)),v=a.getDerivedStateFromProps,(D=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==Y||M!==_)&&ef(t,c,i,_),rn=!1,M=t.memoizedState,c.state=M,zi(t,i,c,o),Mi();var L=t.memoizedState;g!==Y||M!==L||rn||e!==null&&e.dependencies!==null&&Il(e.dependencies)?(typeof v=="function"&&(Eu(t,a,v,i),L=t.memoizedState),(H=rn||Wh(t,a,H,i,M,L,_)||e!==null&&e.dependencies!==null&&Il(e.dependencies))?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,L,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,L,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=L),c.props=i,c.state=L,c.context=_,i=H):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,mr(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=Jn(t,e.child,null,o),t.child=Jn(t,null,a,o)):xt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Ua(e,t,o),e}function pf(e,t,a,i){return Hn(),t.flags|=256,xt(e,t,a,i),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:sh()}}function Cu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Yt),e}function yf(e,t,a){var i=t.pendingProps,o=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(o?cn(t):dn(),(e=Xe)?(e=jm(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:an!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},a=Id(e),a.return=t,t.child=a,vt=t,Xe=null)):e=null,e===null)throw sn(t);return fc(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,o?(dn(),o=t.mode,v=gr({mode:"hidden",children:v},o),i=qn(i,o,a,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Ru(a),i.childLanes=Cu(e,g,a),t.memoizedState=Ou,$i(null,i)):(cn(t),ku(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(c)t.flags&256?(cn(t),t.flags&=-257,t=Du(e,t,a)):t.memoizedState!==null?(dn(),t.child=e.child,t.flags|=128,t=null):(dn(),v=i.fallback,o=t.mode,i=gr({mode:"visible",children:i.children},o),v=qn(v,o,a,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,Jn(t,e.child,null,a),i=t.child,i.memoizedState=Ru(a),i.childLanes=Cu(e,g,a),t.memoizedState=Ou,t=$i(null,i));else if(cn(t),fc(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var D=g.dgst;g=D,i=Error(r(419)),i.stack="",i.digest=g,Oi({value:i,source:null,stack:null}),t=Du(e,t,a)}else if(lt||js(e,t,a,!1),g=(a&e.childLanes)!==0,lt||g){if(g=Ge,g!==null&&(i=mi(g,a),i!==0&&i!==_.retryLane))throw _.retryLane=i,Bn(e,i),zt(g,e,i),Nu;hc(v)||Er(),t=Du(e,t,a)}else hc(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Xe=sa(v.nextSibling),vt=t,Ne=!0,nn=null,aa=!1,e!==null&&Fd(t,e),t=ku(t,i.children),t.flags|=4096);return t}return o?(dn(),v=i.fallback,o=t.mode,_=e.child,D=_.sibling,i=Aa(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,D!==null?v=Aa(D,v):(v=qn(v,o,a,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,$i(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Ru(a):(o=v.cachePool,o!==null?(_=st._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=sh(),v={baseLanes:v.baseLanes|a,cachePool:o}),i.memoizedState=v,i.childLanes=Cu(e,g,a),t.memoizedState=Ou,$i(e.child,i)):(cn(t),a=e.child,e=a.sibling,a=Aa(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function ku(e,t){return t=gr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gr(e,t){return e=Ht(22,e,null,t),e.lanes=0,e}function Du(e,t,a){return Jn(t,e.child,null,a),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vf(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Qo(e.return,t,a)}function Uu(e,t,a,i,o,c){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:c}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=a,g.tailMode=o,g.treeForkCount=c)}function bf(e,t,a){var i=t.pendingProps,o=i.revealOrder,c=i.tail;i=i.children;var g=et.current,v=(g&2)!==0;if(v?(g=g&1|2,t.flags|=128):g&=1,Z(et,g),xt(e,t,i,a),i=Ne?Ai:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vf(e,a,t);else if(e.tag===19)vf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&nr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Uu(t,!1,o,a,c,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&nr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Uu(t,!0,a,null,c,i);break;case"together":Uu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(js(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Il(e)))}function q0(e,t,a){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),ln(t,st,e.memoizedState.cache),Hn();break;case 27:case 5:Qa(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:ln(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(cn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?yf(e,t,a):(cn(t),e=Ua(e,t,a),e!==null?e.sibling:null);cn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(js(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return bf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(et,et.current),i)break;return null;case 22:return t.lanes=0,df(e,t,a,t.pendingProps);case 24:ln(t,st,e.memoizedState.cache)}return Ua(e,t,a)}function xf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!Mu(e,a)&&(t.flags&128)===0)return lt=!1,q0(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Ne&&(t.flags&1048576)!==0&&Zd(t,Ai,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Yn(t.elementType),t.type=e,typeof e=="function")Ho(e)?(i=Qn(e,i),t.tag=1,t=gf(null,t,e,i,a)):(t.tag=0,t=Au(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===I){t.tag=11,t=of(null,t,e,i,a);break e}else if(o===Q){t.tag=14,t=uf(null,t,e,i,a);break e}}throw t=Ve(e)||e,Error(r(306,t,""))}}return t;case 0:return Au(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=Qn(i,t.pendingProps),gf(e,t,i,o,a);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var c=t.memoizedState;o=c.element,tu(e,t),zi(t,i,null,a);var g=t.memoizedState;if(i=g.cache,ln(t,st,i),i!==c.cache&&Io(t,[st],a,!0),Mi(),i=g.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=pf(e,t,i,a);break e}else if(i!==o){o=Wt(Error(r(424)),t),Oi(o),t=pf(e,t,i,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=sa(e.firstChild),vt=t,Ne=!0,nn=null,aa=!0,a=ch(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hn(),i===o){t=Ua(e,t,a);break e}xt(e,t,i,a)}t=t.child}return t;case 26:return mr(e,t),e===null?(a=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,i=Cr(xe.current).createElement(a),i[nt]=t,i[Tt]=e,wt(i,a,e),we(i),t.stateNode=i):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qa(t),e===null&&Ne&&(i=t.stateNode=Am(t.type,t.pendingProps,xe.current),vt=t,aa=!0,o=Xe,bn(t.type)?(mc=o,Xe=sa(i.firstChild)):Xe=o),xt(e,t,t.pendingProps.children,a),mr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((o=i=Xe)&&(i=gy(i,t.type,t.pendingProps,aa),i!==null?(t.stateNode=i,vt=t,Xe=sa(i.firstChild),aa=!1,o=!0):o=!1),o||sn(t)),Qa(t),o=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,i=c.children,uc(o,c)?i=null:g!==null&&uc(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=ou(e,t,R0,null,null,a),al._currentValue=o),mr(e,t),xt(e,t,i,a),t.child;case 6:return e===null&&Ne&&((e=a=Xe)&&(a=py(a,t.pendingProps,aa),a!==null?(t.stateNode=a,vt=t,Xe=null,e=!0):e=!1),e||sn(t)),null;case 13:return yf(e,t,a);case 4:return Je(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Jn(t,null,i,a):xt(e,t,i,a),t.child;case 11:return of(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,ln(t,t.type,i.value),xt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Gn(t),o=bt(o),i=i(o),t.flags|=1,xt(e,t,i,a),t.child;case 14:return uf(e,t,t.type,t.pendingProps,a);case 15:return cf(e,t,t.type,t.pendingProps,a);case 19:return bf(e,t,a);case 31:return B0(e,t,a);case 22:return df(e,t,a,t.pendingProps);case 24:return Gn(t),i=bt(st),e===null?(o=Fo(),o===null&&(o=Ge,c=Po(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:i,cache:o},eu(t),ln(t,st,o)):((e.lanes&a)!==0&&(tu(e,t),zi(t,null,null,a),Mi()),o=e.memoizedState,c=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ln(t,st,i)):(i=c.cache,ln(t,st,i),i!==o.cache&&Io(t,[st],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ma(e){e.flags|=4}function zu(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Xf())e.flags|=8192;else throw Kn=Wl,Wo}else e.flags&=-16777217}function wf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zm(t))if(Xf())e.flags|=8192;else throw Kn=Wl,Wo}function pr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?di():536870912,e.lanes|=t,Ls|=t)}function Gi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function H0(e,t,a){var i=t.pendingProps;switch(Yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ca(st),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Es(t)?Ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jo())),Qe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Ma(t),c!==null?(Qe(t),wf(t,c)):(Qe(t),zu(t,o,null,i,a))):c?c!==e.memoizedState?(Ma(t),Qe(t),wf(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ma(t),Qe(t),zu(t,o,e,i,a)),null;case 27:if(Lt(t),a=xe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}e=F.current,Es(t)?Wd(t):(e=Am(o,i,a),t.stateNode=e,Ma(t))}return Qe(t),null;case 5:if(Lt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}if(c=F.current,Es(t))Wd(t);else{var g=Cr(xe.current);switch(c){case 1:c=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=g.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?g.createElement(o,{is:i.is}):g.createElement(o)}}c[nt]=t,c[Tt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=c;e:switch(wt(c,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ma(t)}}return Qe(t),zu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=xe.current,Es(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=vt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||ym(e.nodeValue,a)),e||sn(t,!0)}else e=Cr(e).createTextNode(i),e[nt]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Es(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[nt]=t}else Hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Qe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Es(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[nt]=t}else Hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else o=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),pr(t,t.updateQueue),Qe(t),null);case 4:return Ye(),e===null&&sc(t.stateNode.containerInfo),Qe(t),null;case 10:return Ca(t.type),Qe(t),null;case 19:if(V(et),i=t.memoizedState,i===null)return Qe(t),null;if(o=(t.flags&128)!==0,c=i.rendering,c===null)if(o)Gi(i,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=nr(e),c!==null){for(t.flags|=128,Gi(i,!1),e=c.updateQueue,t.updateQueue=e,pr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Qd(a,e),a=a.sibling;return Z(et,et.current&1|2),Ne&&Oa(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ft()>wr&&(t.flags|=128,o=!0,Gi(i,!1),t.lanes=4194304)}else{if(!o)if(e=nr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,pr(t,e),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Ne)return Qe(t),null}else 2*ft()-i.renderingStartTime>wr&&a!==536870912&&(t.flags|=128,o=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,a=et.current,Z(et,o?a&1|2:a&1),Ne&&Oa(t,i.treeForkCount),e):(Qe(t),null);case 22:case 23:return Gt(t),iu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&pr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&V(Vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ca(st),Qe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function $0(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(st),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lt(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(r(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(et),null;case 4:return Ye(),null;case 10:return Ca(t.type),null;case 22:case 23:return Gt(t),iu(),e!==null&&V(Vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ca(st),null;case 25:return null;default:return null}}function _f(e,t){switch(Yo(t),t.tag){case 3:Ca(st),Ye();break;case 26:case 27:case 5:Lt(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:V(et);break;case 10:Ca(t.type);break;case 22:case 23:Gt(t),iu(),e!==null&&V(Vn);break;case 24:Ca(st)}}function Vi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var c=a.create,g=a.inst;i=c(),g.destroy=i}a=a.next}while(a!==o)}}catch(v){Be(t,t.return,v)}}function hn(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,o=t;var _=a,D=v;try{D()}catch(H){Be(o,_,H)}}}i=i.next}while(i!==c)}}catch(H){Be(t,t.return,H)}}function Sf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{hh(t,a)}catch(i){Be(e,e.return,i)}}}function Ef(e,t,a){a.props=Qn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Be(e,t,i)}}function Yi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Be(e,t,o)}}function ba(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Be(e,t,o)}else a.current=null}function jf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Be(e,e.return,o)}}function Lu(e,t,a){try{var i=e.stateNode;uy(i,e.type,a,t),i[Tt]=t}catch(o){Be(e,e.return,o)}}function Tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bn(e.type)||e.tag===4}function Bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ta));else if(i!==4&&(i===27&&bn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,a),e=e.sibling;e!==null;)qu(e,t,a),e=e.sibling}function yr(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&bn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yr(e,t,a),e=e.sibling;e!==null;)yr(e,t,a),e=e.sibling}function Nf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);wt(t,i,a),t[nt]=e,t[Tt]=a}catch(c){Be(e,e.return,c)}}var za=!1,rt=!1,Hu=!1,Af=typeof WeakSet=="function"?WeakSet:Set,gt=null;function G0(e,t){if(e=e.containerInfo,rc=Br,e=qd(e),Do(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var g=0,v=-1,_=-1,D=0,H=0,Y=e,M=null;t:for(;;){for(var L;Y!==a||o!==0&&Y.nodeType!==3||(v=g+o),Y!==c||i!==0&&Y.nodeType!==3||(_=g+i),Y.nodeType===3&&(g+=Y.nodeValue.length),(L=Y.firstChild)!==null;)M=Y,Y=L;for(;;){if(Y===e)break t;if(M===a&&++D===o&&(v=g),M===c&&++H===i&&(_=g),(L=Y.nextSibling)!==null)break;Y=M,M=Y.parentNode}Y=L}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(oc={focusedElem:e,selectionRange:a},Br=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,i=a.stateNode;try{var te=Qn(a.type,o);e=i.getSnapshotBeforeUpdate(te,c),i.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Be(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function Of(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(e,a),i&4&&Vi(5,a);break;case 1:if(Ba(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Be(a,a.return,g)}else{var o=Qn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Be(a,a.return,g)}}i&64&&Sf(a),i&512&&Yi(a,a.return);break;case 3:if(Ba(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{hh(e,t)}catch(g){Be(a,a.return,g)}}break;case 27:t===null&&i&4&&Nf(a);case 26:case 5:Ba(e,a),t===null&&i&4&&jf(a),i&512&&Yi(a,a.return);break;case 12:Ba(e,a);break;case 31:Ba(e,a),i&4&&kf(e,a);break;case 13:Ba(e,a),i&4&&Df(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Z0.bind(null,a),yy(e,a))));break;case 22:if(i=a.memoizedState!==null||za,!i){t=t!==null&&t.memoizedState!==null||rt,o=za;var c=rt;za=i,(rt=t)&&!c?qa(e,a,(a.subtreeFlags&8772)!==0):Ba(e,a),za=o,rt=c}break;case 30:break;default:Ba(e,a)}}function Rf(e){var t=e.alternate;t!==null&&(e.alternate=null,Rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&W(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,kt=!1;function La(e,t,a){for(a=a.child;a!==null;)Cf(e,t,a),a=a.sibling}function Cf(e,t,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ea,a)}catch{}switch(a.tag){case 26:rt||ba(a,t),La(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ba(a,t);var i=Ie,o=kt;bn(a.type)&&(Ie=a.stateNode,kt=!1),La(e,t,a),Wi(a.stateNode),Ie=i,kt=o;break;case 5:rt||ba(a,t);case 6:if(i=Ie,o=kt,Ie=null,La(e,t,a),Ie=i,kt=o,Ie!==null)if(kt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(c){Be(a,t,c)}else try{Ie.removeChild(a.stateNode)}catch(c){Be(a,t,c)}break;case 18:Ie!==null&&(kt?(e=Ie,Sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ks(e)):Sm(Ie,a.stateNode));break;case 4:i=Ie,o=kt,Ie=a.stateNode.containerInfo,kt=!0,La(e,t,a),Ie=i,kt=o;break;case 0:case 11:case 14:case 15:hn(2,a,t),rt||hn(4,a,t),La(e,t,a);break;case 1:rt||(ba(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Ef(a,t,i)),La(e,t,a);break;case 21:La(e,t,a);break;case 22:rt=(i=rt)||a.memoizedState!==null,La(e,t,a),rt=i;break;default:La(e,t,a)}}function kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(a){Be(t,t.return,a)}}}function Df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(a){Be(t,t.return,a)}}function V0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Af),t;default:throw Error(r(435,e.tag))}}function vr(e,t){var a=V0(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=F0.bind(null,e,i);i.then(o,o)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],c=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(bn(v.type)){Ie=v.stateNode,kt=!1;break e}break;case 5:Ie=v.stateNode,kt=!1;break e;case 3:case 4:Ie=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(Ie===null)throw Error(r(160));Cf(c,g,o),Ie=null,kt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Uf(t,e),t=t.sibling}var ca=null;function Uf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Ut(e),i&4&&(hn(3,e,e.return),Vi(3,e),hn(5,e,e.return));break;case 1:Dt(t,e),Ut(e),i&512&&(rt||a===null||ba(a,a.return)),i&64&&za&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=ca;if(Dt(t,e),Ut(e),i&512&&(rt||a===null||ba(a,a.return)),i&4){var c=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":c=o.getElementsByTagName("title")[0],(!c||c[J]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(i),o.head.insertBefore(c,o.querySelector("head > title"))),wt(c,i,a),c[nt]=e,we(c),i=c;break e;case"link":var g=Um("link","href",o).get(i+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(c=g[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}c=o.createElement(i),wt(c,i,a),o.head.appendChild(c);break;case"meta":if(g=Um("meta","content",o).get(i+(a.content||""))){for(v=0;v<g.length;v++)if(c=g[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}c=o.createElement(i),wt(c,i,a),o.head.appendChild(c);break;default:throw Error(r(468,i))}c[nt]=e,we(c),i=c}e.stateNode=i}else Mm(o,e.type,e.stateNode);else e.stateNode=Dm(o,i,e.memoizedProps);else c!==i?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,i===null?Mm(o,e.type,e.stateNode):Dm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),Ut(e),i&512&&(rt||a===null||ba(a,a.return)),a!==null&&i&4&&Lu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),Ut(e),i&512&&(rt||a===null||ba(a,a.return)),e.flags&32){o=e.stateNode;try{ms(o,"")}catch(te){Be(e,e.return,te)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Lu(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Hu=!0);break;case 6:if(Dt(t,e),Ut(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(te){Be(e,e.return,te)}}break;case 3:if(Ur=null,o=ca,ca=kr(t.containerInfo),Dt(t,e),ca=o,Ut(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(te){Be(e,e.return,te)}Hu&&(Hu=!1,Mf(e));break;case 4:i=ca,ca=kr(e.stateNode.containerInfo),Dt(t,e),Ut(e),ca=i;break;case 12:Dt(t,e),Ut(e);break;case 31:Dt(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vr(e,i)));break;case 13:Dt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xr=ft()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vr(e,i)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,D=za,H=rt;if(za=D||o,rt=H||_,Dt(t,e),rt=H,za=D,Ut(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||za||rt||In(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,o)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=_.stateNode;var Y=_.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;v.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(te){Be(_,_.return,te)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(te){Be(_,_.return,te)}}}else if(t.tag===18){if(a===null){_=t;try{var L=_.stateNode;o?Em(L,!0):Em(_.stateNode,!1)}catch(te){Be(_,_.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,vr(e,a))));break;case 19:Dt(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vr(e,i)));break;case 30:break;case 21:break;default:Dt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Tf(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=Bu(e);yr(e,c,o);break;case 5:var g=a.stateNode;a.flags&32&&(ms(g,""),a.flags&=-33);var v=Bu(e);yr(e,v,g);break;case 3:case 4:var _=a.stateNode.containerInfo,D=Bu(e);qu(e,D,_);break;default:throw Error(r(161))}}catch(H){Be(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Of(e,t.alternate,t),t=t.sibling}function In(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hn(4,t,t.return),In(t);break;case 1:ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ef(t,t.return,a),In(t);break;case 27:Wi(t.stateNode);case 26:case 5:ba(t,t.return),In(t);break;case 22:t.memoizedState===null&&In(t);break;case 30:In(t);break;default:In(t)}e=e.sibling}}function qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,c=t,g=c.flags;switch(c.tag){case 0:case 11:case 15:qa(o,c,a),Vi(4,c);break;case 1:if(qa(o,c,a),i=c,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Be(i,i.return,D)}if(i=c,o=i.updateQueue,o!==null){var v=i.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)dh(_[o],v)}catch(D){Be(i,i.return,D)}}a&&g&64&&Sf(c),Yi(c,c.return);break;case 27:Nf(c);case 26:case 5:qa(o,c,a),a&&i===null&&g&4&&jf(c),Yi(c,c.return);break;case 12:qa(o,c,a);break;case 31:qa(o,c,a),a&&g&4&&kf(o,c);break;case 13:qa(o,c,a),a&&g&4&&Df(o,c);break;case 22:c.memoizedState===null&&qa(o,c,a),Yi(c,c.return);break;case 30:break;default:qa(o,c,a)}t=t.sibling}}function $u(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ri(a))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ri(e))}function da(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zf(e,t,a,i),t=t.sibling}function zf(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,i),o&2048&&Vi(9,t);break;case 1:da(e,t,a,i);break;case 3:da(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ri(e)));break;case 12:if(o&2048){da(e,t,a,i),e=t.stateNode;try{var c=t.memoizedProps,g=c.id,v=c.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Be(t,t.return,_)}}else da(e,t,a,i);break;case 31:da(e,t,a,i);break;case 13:da(e,t,a,i);break;case 23:break;case 22:c=t.stateNode,g=t.alternate,t.memoizedState!==null?c._visibility&2?da(e,t,a,i):Ki(e,t):c._visibility&2?da(e,t,a,i):(c._visibility|=2,Us(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$u(g,t);break;case 24:da(e,t,a,i),o&2048&&Gu(t.alternate,t);break;default:da(e,t,a,i)}}function Us(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,g=t,v=a,_=i,D=g.flags;switch(g.tag){case 0:case 11:case 15:Us(c,g,v,_,o),Vi(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Us(c,g,v,_,o):Ki(c,g):(H._visibility|=2,Us(c,g,v,_,o)),o&&D&2048&&$u(g.alternate,g);break;case 24:Us(c,g,v,_,o),o&&D&2048&&Gu(g.alternate,g);break;default:Us(c,g,v,_,o)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:Ki(a,i),o&2048&&$u(i.alternate,i);break;case 24:Ki(a,i),o&2048&&Gu(i.alternate,i);break;default:Ki(a,i)}t=t.sibling}}var Ji=8192;function Ms(e,t,a){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)Lf(e,t,a),e=e.sibling}function Lf(e,t,a){switch(e.tag){case 26:Ms(e,t,a),e.flags&Ji&&e.memoizedState!==null&&Oy(a,ca,e.memoizedState,e.memoizedProps);break;case 5:Ms(e,t,a);break;case 3:case 4:var i=ca;ca=kr(e.stateNode.containerInfo),Ms(e,t,a),ca=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ji,Ji=16777216,Ms(e,t,a),Ji=i):Ms(e,t,a));break;default:Ms(e,t,a)}}function Bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];gt=i,Hf(i,e)}Bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qf(e),e=e.sibling}function qf(e){switch(e.tag){case 0:case 11:case 15:Xi(e),e.flags&2048&&hn(9,e,e.return);break;case 3:Xi(e);break;case 12:Xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,br(e)):Xi(e);break;default:Xi(e)}}function br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];gt=i,Hf(i,e)}Bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hn(8,t,t.return),br(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,br(t));break;default:br(t)}e=e.sibling}}function Hf(e,t){for(;gt!==null;){var a=gt;switch(a.tag){case 0:case 11:case 15:hn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ri(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,gt=i;else e:for(a=e;gt!==null;){i=gt;var o=i.sibling,c=i.return;if(Rf(i),i===a){gt=null;break e}if(o!==null){o.return=c,gt=o;break e}gt=c}}}var Y0={getCacheForType:function(e){var t=bt(st),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return bt(st).controller.signal}},K0=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,_e=null,Ee=0,Le=0,Vt=null,fn=!1,zs=!1,Vu=!1,Ha=0,Fe=0,mn=0,Pn=0,Yu=0,Yt=0,Ls=0,Qi=null,Mt=null,Ku=!1,xr=0,$f=0,wr=1/0,_r=null,gn=null,dt=0,pn=null,Bs=null,$a=0,Ju=0,Xu=null,Gf=null,Ii=0,Qu=null;function Kt(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:B.T!==null?ec():yi()}function Vf(){if(Yt===0)if((Ee&536870912)===0||Ne){var e=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),Yt=e}else Yt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Yt}function zt(e,t,a){(e===Ge&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(qs(e,0),yn(e,Ee,Yt,!1)),pa(e,a),((Me&2)===0||e!==Ge)&&(e===Ge&&((Me&2)===0&&(Pn|=a),Fe===4&&yn(e,Ee,Yt,!1)),xa(e))}function Yf(e,t,a){if((Me&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Wa(e,t),o=i?Q0(e,t):Pu(e,t,!0),c=i;do{if(o===0){zs&&!i&&yn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!J0(a)){o=Pu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;o=Qi;var _=v.current.memoizedState.isDehydrated;if(_&&(qs(v,g).flags|=256),g=Pu(v,g,!1),g!==2){if(Vu&&!_){v.errorRecoveryDisabledLanes|=c,Pn|=c,o=4;break e}c=Mt,Mt=o,c!==null&&(Mt===null?Mt=c:Mt.push.apply(Mt,c))}o=g}if(c=!1,o!==2)continue}}if(o===1){qs(e,0),yn(e,t,0,!0);break}e:{switch(i=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:yn(i,t,Yt,!fn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=xr+300-ft(),10<o)){if(yn(i,t,Yt,!fn),Fa(i,0,!0)!==0)break e;$a=t,i.timeoutHandle=wm(Kf.bind(null,i,a,Mt,_r,Ku,t,Yt,Pn,Ls,fn,c,"Throttled",-0,0),o);break e}Kf(i,a,Mt,_r,Ku,t,Yt,Pn,Ls,fn,c,null,-0,0)}}break}while(!0);xa(e)}function Kf(e,t,a,i,o,c,g,v,_,D,H,Y,M,L){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},Lf(t,c,Y);var te=(c&62914560)===c?xr-ft():(c&4194048)===c?$f-ft():0;if(te=Ry(Y,te),te!==null){$a=c,e.cancelPendingCommit=te(Wf.bind(null,e,t,c,a,i,o,g,v,_,H,Y,null,M,L)),yn(e,c,g,!D);return}}Wf(e,t,c,a,i,o,g,v,_)}function J0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],c=o.getSnapshot;o=o.value;try{if(!qt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t,a,i){t&=~Yu,t&=~Pn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var c=31-mt(o),g=1<<c;i[c]=-1,o&=~g}a!==0&&Rl(e,a,t)}function Sr(){return(Me&6)===0?(Pi(0),!1):!0}function Iu(){if(_e!==null){if(Le===0)var e=_e.return;else e=_e,Ra=$n=null,du(e),Os=null,ki=0,e=_e;for(;e!==null;)_f(e.alternate,e),e=e.return;_e=null}}function qs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$a=0,Iu(),Ge=e,_e=a=Aa(e.current,null),Ee=t,Le=0,Vt=null,fn=!1,zs=Wa(e,t),Vu=!1,Ls=Yt=Yu=Pn=mn=Fe=0,Mt=Qi=null,Ku=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-mt(i),c=1<<o;t|=e[o],i&=~c}return Ha=t,Yl(),a}function Jf(e,t){ye=null,B.H=Hi,t===As||t===Fl?(t=rh(),Le=3):t===Wo?(t=rh(),Le=4):Le=t===Nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,_e===null&&(Fe=1,hr(e,Wt(t,e.current)))}function Xf(){var e=$t.current;return e===null?!0:(Ee&4194048)===Ee?na===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===na:!1}function Qf(){var e=B.H;return B.H=Hi,e===null?Hi:e}function If(){var e=B.A;return B.A=Y0,e}function Er(){Fe=4,fn||(Ee&4194048)!==Ee&&$t.current!==null||(zs=!0),(mn&134217727)===0&&(Pn&134217727)===0||Ge===null||yn(Ge,Ee,Yt,!1)}function Pu(e,t,a){var i=Me;Me|=2;var o=Qf(),c=If();(Ge!==e||Ee!==t)&&(_r=null,qs(e,t)),t=!1;var g=Fe;e:do try{if(Le!==0&&_e!==null){var v=_e,_=Vt;switch(Le){case 8:Iu(),g=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var D=Le;if(Le=0,Vt=null,Hs(e,v,_,D),a&&zs){g=0;break e}break;default:D=Le,Le=0,Vt=null,Hs(e,v,_,D)}}X0(),g=Fe;break}catch(H){Jf(e,H)}while(!0);return t&&e.shellSuspendCounter++,Ra=$n=null,Me=i,B.H=o,B.A=c,_e===null&&(Ge=null,Ee=0,Yl()),g}function X0(){for(;_e!==null;)Pf(_e)}function Q0(e,t){var a=Me;Me|=2;var i=Qf(),o=If();Ge!==e||Ee!==t?(_r=null,wr=ft()+500,qs(e,t)):zs=Wa(e,t);e:do try{if(Le!==0&&_e!==null){t=_e;var c=Vt;t:switch(Le){case 1:Le=0,Vt=null,Hs(e,t,c,1);break;case 2:case 9:if(ih(c)){Le=0,Vt=null,Zf(t);break}t=function(){Le!==2&&Le!==9||Ge!==e||(Le=7),xa(e)},c.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ih(c)?(Le=0,Vt=null,Zf(t)):(Le=0,Vt=null,Hs(e,t,c,7));break;case 5:var g=null;switch(_e.tag){case 26:g=_e.memoizedState;case 5:case 27:var v=_e;if(g?zm(g):v.stateNode.complete){Le=0,Vt=null;var _=v.sibling;if(_!==null)_e=_;else{var D=v.return;D!==null?(_e=D,jr(D)):_e=null}break t}}Le=0,Vt=null,Hs(e,t,c,5);break;case 6:Le=0,Vt=null,Hs(e,t,c,6);break;case 8:Iu(),Fe=6;break e;default:throw Error(r(462))}}I0();break}catch(H){Jf(e,H)}while(!0);return Ra=$n=null,B.H=i,B.A=o,Me=a,_e!==null?0:(Ge=null,Ee=0,Yl(),Fe)}function I0(){for(;_e!==null&&!Al();)Pf(_e)}function Pf(e){var t=xf(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?jr(e):_e=t}function Zf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=mf(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=mf(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:du(t);default:_f(a,t),t=_e=Qd(t,Ha),t=xf(a,t,Ha)}e.memoizedProps=e.pendingProps,t===null?jr(e):_e=t}function Hs(e,t,a,i){Ra=$n=null,du(t),Os=null,ki=0;var o=t.return;try{if(L0(e,o,t,a,Ee)){Fe=1,hr(e,Wt(a,e.current)),_e=null;return}}catch(c){if(o!==null)throw _e=o,c;Fe=1,hr(e,Wt(a,e.current)),_e=null;return}t.flags&32768?(Ne||i===1?e=!0:zs||(Ee&536870912)!==0?e=!1:(fn=e=!0,(i===2||i===9||i===3||i===6)&&(i=$t.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ff(t,e)):jr(t)}function jr(e){var t=e;do{if((t.flags&32768)!==0){Ff(t,fn);return}e=t.return;var a=H0(t.alternate,t,Ha);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Fe===0&&(Fe=5)}function Ff(e,t){do{var a=$0(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Fe=6,_e=null}function Wf(e,t,a,i,o,c,g,v,_){e.cancelPendingCommit=null;do Tr();while(dt!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Bo,fi(e,a,c,g,v,_),e===Ge&&(_e=Ge=null,Ee=0),Bs=t,pn=e,$a=a,Ju=c,Xu=o,Gf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W0(Za,function(){return sm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=P.p,P.p=2,g=Me,Me|=4;try{G0(e,t,a)}finally{Me=g,P.p=o,B.T=i}}dt=1,em(),tm(),am()}}function em(){if(dt===1){dt=0;var e=pn,t=Bs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var i=P.p;P.p=2;var o=Me;Me|=4;try{Uf(t,e);var c=oc,g=qd(e.containerInfo),v=c.focusedElem,_=c.selectionRange;if(g!==v&&v&&v.ownerDocument&&Bd(v.ownerDocument.documentElement,v)){if(_!==null&&Do(v)){var D=_.start,H=_.end;if(H===void 0&&(H=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(H,v.value.length);else{var Y=v.ownerDocument||document,M=Y&&Y.defaultView||window;if(M.getSelection){var L=M.getSelection(),te=v.textContent.length,oe=Math.min(_.start,te),$e=_.end===void 0?oe:Math.min(_.end,te);!L.extend&&oe>$e&&(g=$e,$e=oe,oe=g);var C=Ld(v,oe),N=Ld(v,$e);if(C&&N&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var k=Y.createRange();k.setStart(C.node,C.offset),L.removeAllRanges(),oe>$e?(L.addRange(k),L.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),L.addRange(k))}}}}for(Y=[],L=v;L=L.parentNode;)L.nodeType===1&&Y.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Y.length;v++){var G=Y[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Br=!!rc,oc=rc=null}finally{Me=o,P.p=i,B.T=a}}e.current=t,dt=2}}function tm(){if(dt===2){dt=0;var e=pn,t=Bs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var i=P.p;P.p=2;var o=Me;Me|=4;try{Of(e,t.alternate,t)}finally{Me=o,P.p=i,B.T=a}}dt=3}}function am(){if(dt===4||dt===3){dt=0,Pa();var e=pn,t=Bs,a=$a,i=Gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Bs=pn=null,nm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(gn=null),pi(a),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ea,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=P.p,P.p=2,B.T=null;try{for(var c=e.onRecoverableError,g=0;g<i.length;g++){var v=i[g];c(v.value,{componentStack:v.stack})}}finally{B.T=t,P.p=o}}($a&3)!==0&&Tr(),xa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Qu?Ii++:(Ii=0,Qu=e):Ii=0,Pi(0)}}function nm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ri(t)))}function Tr(){return em(),tm(),am(),sm()}function sm(){if(dt!==5)return!1;var e=pn,t=Ju;Ju=0;var a=pi($a),i=B.T,o=P.p;try{P.p=32>a?32:a,B.T=null,a=Xu,Xu=null;var c=pn,g=$a;if(dt=0,Bs=pn=null,$a=0,(Me&6)!==0)throw Error(r(331));var v=Me;if(Me|=4,qf(c.current),zf(c,c.current,g,a),Me=v,Pi(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ea,c)}catch{}return!0}finally{P.p=o,B.T=i,nm(e,t)}}function im(e,t,a){t=Wt(a,t),t=Tu(e.stateNode,t,2),e=un(e,t,2),e!==null&&(pa(e,2),xa(e))}function Be(e,t,a){if(e.tag===3)im(e,e,a);else for(;t!==null;){if(t.tag===3){im(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gn===null||!gn.has(i))){e=Wt(a,e),a=lf(2),i=un(t,a,2),i!==null&&(rf(a,i,t,e),pa(i,2),xa(i));break}}t=t.return}}function Zu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new K0;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(Vu=!0,o.add(a),e=P0.bind(null,e,t,a),t.then(e,e))}function P0(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ee&a)===a&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>ft()-xr?(Me&2)===0&&qs(e,0):Yu|=a,Ls===Ee&&(Ls=0)),xa(e)}function lm(e,t){t===0&&(t=di()),e=Bn(e,t),e!==null&&(pa(e,t),xa(e))}function Z0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),lm(e,a)}function F0(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),lm(e,a)}function W0(e,t){return pt(e,t)}var Nr=null,$s=null,Fu=!1,Ar=!1,Wu=!1,vn=0;function xa(e){e!==$s&&e.next===null&&($s===null?Nr=$s=e:$s=$s.next=e),Ar=!0,Fu||(Fu=!0,ty())}function Pi(e,t){if(!Wu&&Ar){Wu=!0;do for(var a=!1,i=Nr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var c=0;else{var g=i.suspendedLanes,v=i.pingedLanes;c=(1<<31-mt(42|e)+1)-1,c&=o&~(g&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,cm(i,c))}else c=Ee,c=Fa(i,i===Ge?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||Wa(i,c)||(a=!0,cm(i,c));i=i.next}while(a);Wu=!1}}function ey(){rm()}function rm(){Ar=Fu=!1;var e=0;vn!==0&&dy()&&(e=vn);for(var t=ft(),a=null,i=Nr;i!==null;){var o=i.next,c=om(i,t);c===0?(i.next=null,a===null?Nr=o:a.next=o,o===null&&($s=a)):(a=i,(e!==0||(c&3)!==0)&&(Ar=!0)),i=o}dt!==0&&dt!==5||Pi(e),vn!==0&&(vn=0)}function om(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-mt(c),v=1<<g,_=o[g];_===-1?((v&a)===0||(v&i)!==0)&&(o[g]=mo(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}if(t=Ge,a=Ee,a=Fa(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ia(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Ia(i),pi(a)){case 2:case 8:a=oi;break;case 32:a=Za;break;case 268435456:a=Rn;break;default:a=Za}return i=um.bind(null,e),a=pt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Ia(i),e.callbackPriority=2,e.callbackNode=null,2}function um(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tr()&&e.callbackNode!==a)return null;var i=Ee;return i=Fa(e,e===Ge?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Yf(e,i,t),om(e,ft()),e.callbackNode!=null&&e.callbackNode===a?um.bind(null,e):null)}function cm(e,t){if(Tr())return null;Yf(e,t,!0)}function ty(){fy(function(){(Me&6)!==0?pt(ri,ey):rm()})}function ec(){if(vn===0){var e=Ts;e===0&&(e=kn,kn<<=1,(kn&261888)===0&&(kn=256)),vn=e}return vn}function dm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zl(""+e)}function hm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ay(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var c=dm((o[Tt]||null).action),g=i.submitter;g&&(t=(t=g[Tt]||null)?dm(t.formAction):g.getAttribute("formAction"),t!==null&&(c=t,g=null));var v=new Hl("action","action",null,i,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vn!==0){var _=g?hm(o,g):new FormData(o);xu(a,{pending:!0,data:_,method:o.method,action:c},null,_)}}else typeof c=="function"&&(v.preventDefault(),_=g?hm(o,g):new FormData(o),xu(a,{pending:!0,data:_,method:o.method,action:c},c,_))},currentTarget:o}]})}}for(var tc=0;tc<Lo.length;tc++){var ac=Lo[tc],ny=ac.toLowerCase(),sy=ac[0].toUpperCase()+ac.slice(1);ua(ny,"on"+sy)}ua(Gd,"onAnimationEnd"),ua(Vd,"onAnimationIteration"),ua(Yd,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(x0,"onTransitionRun"),ua(w0,"onTransitionStart"),ua(_0,"onTransitionCancel"),ua(Kd,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function fm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],_=v.instance,D=v.currentTarget;if(v=v.listener,_!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=D;try{c(o)}catch(H){Vl(H)}o.currentTarget=null,c=_}else for(g=0;g<i.length;g++){if(v=i[g],_=v.instance,D=v.currentTarget,v=v.listener,_!==c&&o.isPropagationStopped())break e;c=v,o.currentTarget=D;try{c(o)}catch(H){Vl(H)}o.currentTarget=null,c=_}}}}function Se(e,t){var a=t[ds];a===void 0&&(a=t[ds]=new Set);var i=e+"__bubble";a.has(i)||(mm(t,e,2,!1),a.add(i))}function nc(e,t,a){var i=0;t&&(i|=4),mm(a,e,i,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[Or]){e[Or]=!0,Un.forEach(function(a){a!=="selectionchange"&&(iy.has(a)||nc(a,!1,e),nc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Or]||(t[Or]=!0,nc("selectionchange",!1,t))}}function mm(e,t,a,i){switch(Vm(t)){case 2:var o=Dy;break;case 8:o=Uy;break;default:o=bc}a=o.bind(null,t,a,e),o=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function ic(e,t,a,i,o){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===o)break;if(g===4)for(g=i.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;v!==null;){if(g=he(v),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){i=c=g;continue e}v=v.parentNode}}i=i.return}vd(function(){var D=c,H=_o(a),Y=[];e:{var M=Jd.get(e);if(M!==void 0){var L=Hl,te=e;switch(e){case"keypress":if(Bl(a)===0)break e;case"keydown":case"keyup":L=Fp;break;case"focusin":te="focus",L=Ao;break;case"focusout":te="blur",L=Ao;break;case"beforeblur":case"afterblur":L=Ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=t0;break;case Gd:case Vd:case Yd:L=Vp;break;case Kd:L=n0;break;case"scroll":case"scrollend":L=Bp;break;case"wheel":L=i0;break;case"copy":case"cut":case"paste":L=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Sd;break;case"toggle":case"beforetoggle":L=r0}var oe=(t&4)!==0,$e=!oe&&(e==="scroll"||e==="scrollend"),C=oe?M!==null?M+"Capture":null:M;oe=[];for(var N=D,k;N!==null;){var G=N;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||C===null||(G=bi(N,C),G!=null&&oe.push(Fi(N,G,k))),$e)break;N=N.return}0<oe.length&&(M=new L(M,te,null,a,H),Y.push({event:M,listeners:oe}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&a!==wo&&(te=a.relatedTarget||a.fromElement)&&(he(te)||te[en]))break e;if((L||M)&&(M=H.window===H?H:(M=H.ownerDocument)?M.defaultView||M.parentWindow:window,L?(te=a.relatedTarget||a.toElement,L=D,te=te?he(te):null,te!==null&&($e=d(te),oe=te.tag,te!==$e||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(L=null,te=D),L!==te)){if(oe=wd,G="onMouseLeave",C="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Sd,G="onPointerLeave",C="onPointerEnter",N="pointer"),$e=L==null?M:Oe(L),k=te==null?M:Oe(te),M=new oe(G,N+"leave",L,a,H),M.target=$e,M.relatedTarget=k,G=null,he(H)===D&&(oe=new oe(C,N+"enter",te,a,H),oe.target=k,oe.relatedTarget=$e,G=oe),$e=G,L&&te)t:{for(oe=ly,C=L,N=te,k=0,G=C;G;G=oe(G))k++;G=0;for(var le=N;le;le=oe(le))G++;for(;0<k-G;)C=oe(C),k--;for(;0<G-k;)N=oe(N),G--;for(;k--;){if(C===N||N!==null&&C===N.alternate){oe=C;break t}C=oe(C),N=oe(N)}oe=null}else oe=null;L!==null&&gm(Y,M,L,oe,!1),te!==null&&$e!==null&&gm(Y,$e,te,oe,!0)}}e:{if(M=D?Oe(D):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var ke=Cd;else if(Od(M))if(kd)ke=y0;else{ke=g0;var se=m0}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?D&&xo(D.elementType)&&(ke=Cd):ke=p0;if(ke&&(ke=ke(e,D))){Rd(Y,ke,a,H);break e}se&&se(e,M,D),e==="focusout"&&D&&M.type==="number"&&D.memoizedProps.value!=null&&bo(M,"number",M.value)}switch(se=D?Oe(D):window,e){case"focusin":(Od(se)||se.contentEditable==="true")&&(vs=se,Uo=D,Ni=null);break;case"focusout":Ni=Uo=vs=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Hd(Y,a,H);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":Hd(Y,a,H)}var ve;if(Ro)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ys?Nd(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ed&&a.locale!=="ko"&&(ys||je!=="onCompositionStart"?je==="onCompositionEnd"&&ys&&(ve=bd()):(tn=H,jo="value"in tn?tn.value:tn.textContent,ys=!0)),se=Rr(D,je),0<se.length&&(je=new _d(je,e,null,a,H),Y.push({event:je,listeners:se}),ve?je.data=ve:(ve=Ad(a),ve!==null&&(je.data=ve)))),(ve=u0?c0(e,a):d0(e,a))&&(je=Rr(D,"onBeforeInput"),0<je.length&&(se=new _d("onBeforeInput","beforeinput",null,a,H),Y.push({event:se,listeners:je}),se.data=ve)),ay(Y,e,D,a,H)}fm(Y,t)})}function Fi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Rr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=bi(e,a),o!=null&&i.unshift(Fi(e,o,c)),o=bi(e,t),o!=null&&i.push(Fi(e,o,c))),e.tag===3)return i;e=e.return}return[]}function ly(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gm(e,t,a,i,o){for(var c=t._reactName,g=[];a!==null&&a!==i;){var v=a,_=v.alternate,D=v.stateNode;if(v=v.tag,_!==null&&_===i)break;v!==5&&v!==26&&v!==27||D===null||(_=D,o?(D=bi(a,c),D!=null&&g.unshift(Fi(a,D,_))):o||(D=bi(a,c),D!=null&&g.push(Fi(a,D,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var ry=/\r\n?/g,oy=/\u0000|\uFFFD/g;function pm(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(oy,"")}function ym(e,t){return t=pm(t),pm(e)===t}function He(e,t,a,i,o,c){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ms(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ms(e,""+i);break;case"className":Ul(e,"class",i);break;case"tabIndex":Ul(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(e,a,i);break;case"style":pd(e,i,c);break;case"data":if(t!=="object"){Ul(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zl(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&He(e,t,"name",o.name,o,null),He(e,t,"formEncType",o.formEncType,o,null),He(e,t,"formMethod",o.formMethod,o,null),He(e,t,"formTarget",o.formTarget,o,null)):(He(e,t,"encType",o.encType,o,null),He(e,t,"method",o.method,o,null),He(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zl(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Ta);break;case"onScroll":i!=null&&Se("scroll",e);break;case"onScrollEnd":i!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=zl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Dl(e,"popover",i);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Dl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zp.get(a)||a,Dl(e,a,i))}}function lc(e,t,a,i,o,c){switch(a){case"style":pd(e,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?ms(e,i):(typeof i=="number"||typeof i=="bigint")&&ms(e,""+i);break;case"onScroll":i!=null&&Se("scroll",e);break;case"onScrollEnd":i!=null&&Se("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[Tt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof i=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Dl(e,a,i)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var i=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(g!=null)switch(c){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,c,g,a,null)}}o&&He(e,t,"srcSet",a.srcSet,a,null),i&&He(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var v=c=g=o=null,_=null,D=null;for(i in a)if(a.hasOwnProperty(i)){var H=a[i];if(H!=null)switch(i){case"name":o=H;break;case"type":g=H;break;case"checked":_=H;break;case"defaultChecked":D=H;break;case"value":c=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:He(e,t,i,H,a,null)}}hd(e,c,v,_,D,g,o,!1);return;case"select":Se("invalid",e),i=g=c=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":c=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:He(e,t,o,v,a,null)}t=c,a=g,e.multiple=!!i,t!=null?fs(e,!!i,t,!1):a!=null&&fs(e,!!i,a,!0);return;case"textarea":Se("invalid",e),c=o=i=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":o=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:He(e,t,g,v,a,null)}md(e,i,o,c);return;case"option":for(_ in a)a.hasOwnProperty(_)&&(i=a[_],i!=null)&&(_==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":He(e,t,_,i,a,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(i=0;i<Zi.length;i++)Se(Zi[i],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(i=a[D],i!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:He(e,t,D,i,a,null)}return;default:if(xo(t)){for(H in a)a.hasOwnProperty(H)&&(i=a[H],i!==void 0&&lc(e,t,H,i,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(i=a[v],i!=null&&He(e,t,v,i,a,null))}function uy(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,g=null,v=null,_=null,D=null,H=null;for(L in a){var Y=a[L];if(a.hasOwnProperty(L)&&Y!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":_=Y;default:i.hasOwnProperty(L)||He(e,t,L,null,i,Y)}}for(var M in i){var L=i[M];if(Y=a[M],i.hasOwnProperty(M)&&(L!=null||Y!=null))switch(M){case"type":c=L;break;case"name":o=L;break;case"checked":D=L;break;case"defaultChecked":H=L;break;case"value":g=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:L!==Y&&He(e,t,M,L,i,Y)}}vo(e,g,v,_,D,H,c,o);return;case"select":L=g=v=M=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":L=_;default:i.hasOwnProperty(c)||He(e,t,c,null,i,_)}for(o in i)if(c=i[o],_=a[o],i.hasOwnProperty(o)&&(c!=null||_!=null))switch(o){case"value":M=c;break;case"defaultValue":v=c;break;case"multiple":g=c;default:c!==_&&He(e,t,o,c,i,_)}t=v,a=g,i=L,M!=null?fs(e,!!a,M,!1):!!i!=!!a&&(t!=null?fs(e,!!a,t,!0):fs(e,!!a,a?[]:"",!1));return;case"textarea":L=M=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:He(e,t,v,null,i,o)}for(g in i)if(o=i[g],c=a[g],i.hasOwnProperty(g)&&(o!=null||c!=null))switch(g){case"value":M=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&He(e,t,g,o,i,c)}fd(e,M,L);return;case"option":for(var te in a)M=a[te],a.hasOwnProperty(te)&&M!=null&&!i.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:He(e,t,te,null,i,M));for(_ in i)M=i[_],L=a[_],i.hasOwnProperty(_)&&M!==L&&(M!=null||L!=null)&&(_==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":He(e,t,_,M,i,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)M=a[oe],a.hasOwnProperty(oe)&&M!=null&&!i.hasOwnProperty(oe)&&He(e,t,oe,null,i,M);for(D in i)if(M=i[D],L=a[D],i.hasOwnProperty(D)&&M!==L&&(M!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:He(e,t,D,M,i,L)}return;default:if(xo(t)){for(var $e in a)M=a[$e],a.hasOwnProperty($e)&&M!==void 0&&!i.hasOwnProperty($e)&&lc(e,t,$e,void 0,i,M);for(H in i)M=i[H],L=a[H],!i.hasOwnProperty(H)||M===L||M===void 0&&L===void 0||lc(e,t,H,M,i,L);return}}for(var C in a)M=a[C],a.hasOwnProperty(C)&&M!=null&&!i.hasOwnProperty(C)&&He(e,t,C,null,i,M);for(Y in i)M=i[Y],L=a[Y],!i.hasOwnProperty(Y)||M===L||M==null&&L==null||He(e,t,Y,M,i,L)}function vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],c=o.transferSize,g=o.initiatorType,v=o.duration;if(c&&v&&vm(g)){for(g=0,v=o.responseEnd,i+=1;i<a.length;i++){var _=a[i],D=_.startTime;if(D>v)break;var H=_.transferSize,Y=_.initiatorType;H&&vm(Y)&&(_=_.responseEnd,g+=H*(_<v?1:(v-D)/(_-D)))}if(--i,t+=8*(c+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rc=null,oc=null;function Cr(e){return e.nodeType===9?e:e.ownerDocument}function bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=null;function dy(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(my)}:wm;function my(e){setTimeout(function(){throw e})}function bn(e){return e==="head"}function Sm(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),Ks(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")Wi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Wi(a);for(var c=a.firstChild;c;){var g=c.nextSibling,v=c.nodeName;c[J]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=g}}else a==="body"&&Wi(e.ownerDocument.body);a=o}while(a);Ks(t)}function Em(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dc(a),W(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gy(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[J])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function py(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function jm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function hc(e){return e.data==="$?"||e.data==="$~"}function fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var mc=null;function Tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return sa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,a){switch(t=Cr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);W(e)}var ia=new Map,Om=new Set;function kr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ga=P.d;P.d={f:vy,r:by,D:xy,C:wy,L:_y,m:Sy,X:jy,S:Ey,M:Ty};function vy(){var e=Ga.f(),t=Sr();return e||t}function by(e){var t=Ae(e);t!==null&&t.tag===5&&t.type==="form"?Kh(t):Ga.r(e)}var Gs=typeof document>"u"?null:document;function Rm(e,t,a){var i=Gs;if(i&&typeof t=="string"&&t){var o=Zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Om.has(o)||(Om.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),wt(t,"link",e),we(t),i.head.appendChild(t)))}}function xy(e){Ga.D(e),Rm("dns-prefetch",e,null)}function wy(e,t){Ga.C(e,t),Rm("preconnect",e,t)}function _y(e,t,a){Ga.L(e,t,a);var i=Gs;if(i&&e&&t){var o='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Zt(a.imageSizes)+'"]')):o+='[href="'+Zt(e)+'"]';var c=o;switch(t){case"style":c=Vs(e);break;case"script":c=Ys(e)}ia.has(c)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ia.set(c,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(el(c))||t==="script"&&i.querySelector(tl(c))||(t=i.createElement("link"),wt(t,"link",e),we(t),i.head.appendChild(t)))}}function Sy(e,t){Ga.m(e,t);var a=Gs;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Zt(i)+'"][href="'+Zt(e)+'"]',c=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ys(e)}if(!ia.has(c)&&(e=x({rel:"modulepreload",href:e},t),ia.set(c,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tl(c)))return}i=a.createElement("link"),wt(i,"link",e),we(i),a.head.appendChild(i)}}}function Ey(e,t,a){Ga.S(e,t,a);var i=Gs;if(i&&e){var o=ze(i).hoistableStyles,c=Vs(e);t=t||"default";var g=o.get(c);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(el(c)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ia.get(c))&&gc(e,a);var _=g=i.createElement("link");we(_),wt(_,"link",e),_._p=new Promise(function(D,H){_.onload=D,_.onerror=H}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Dr(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},o.set(c,g)}}}function jy(e,t){Ga.X(e,t);var a=Gs;if(a&&e){var i=ze(a).hoistableScripts,o=Ys(e),c=i.get(o);c||(c=a.querySelector(tl(o)),c||(e=x({src:e,async:!0},t),(t=ia.get(o))&&pc(e,t),c=a.createElement("script"),we(c),wt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function Ty(e,t){Ga.M(e,t);var a=Gs;if(a&&e){var i=ze(a).hoistableScripts,o=Ys(e),c=i.get(o);c||(c=a.querySelector(tl(o)),c||(e=x({src:e,async:!0,type:"module"},t),(t=ia.get(o))&&pc(e,t),c=a.createElement("script"),we(c),wt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function Cm(e,t,a,i){var o=(o=xe.current)?kr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Vs(a.href),a=ze(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vs(a.href);var c=ze(o).hoistableStyles,g=c.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=o.querySelector(el(e)))&&!c._p&&(g.instance=c,g.state.loading=5),ia.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(e,a),c||Ny(o,e,a,g.state))),t&&i===null)throw Error(r(528,""));return g}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ys(a),a=ze(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Vs(e){return'href="'+Zt(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function km(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Ny(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),wt(t,"link",a),we(t),e.head.appendChild(t))}function Ys(e){return'[src="'+Zt(e)+'"]'}function tl(e){return"script[async]"+e}function Dm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(i)return t.instance=i,we(i),i;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),we(i),wt(i,"style",o),Dr(i,a.precedence,e),t.instance=i;case"stylesheet":o=Vs(a.href);var c=e.querySelector(el(o));if(c)return t.state.loading|=4,t.instance=c,we(c),c;i=km(a),(o=ia.get(o))&&gc(i,o),c=(e.ownerDocument||e).createElement("link"),we(c);var g=c;return g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),wt(c,"link",i),t.state.loading|=4,Dr(c,a.precedence,e),t.instance=c;case"script":return c=Ys(a.src),(o=e.querySelector(tl(c)))?(t.instance=o,we(o),o):(i=a,(o=ia.get(c))&&(i=x({},a),pc(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),we(o),wt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Dr(i,a.precedence,e));return t.instance}function Dr(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,c=o,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)c=v;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ur=null;function Um(e,t,a){if(Ur===null){var i=new Map,o=Ur=new Map;o.set(a,i)}else o=Ur,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[J]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(c):i.set(g,[c])}}return i}function Mm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ay(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Oy(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Vs(i.href),c=t.querySelector(el(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,we(c);return}c=t.ownerDocument||t,i=km(i),(o=ia.get(o))&&gc(i,o),c=c.createElement("link"),we(c);var g=c;g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),wt(c,"link",i),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Mr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var yc=0;function Ry(e,t){return e.stylesheets&&e.count===0&&Lr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&yc===0&&(yc=62500*cy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>yc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zr=null;function Lr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zr=new Map,t.forEach(Cy,e),zr=null,Mr.call(e))}function Cy(e,t){if(!(t.state.loading&4)){var a=zr.get(e);if(a)var i=a.get(null);else{a=new Map,zr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var g=o[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),c=a.get(g)||i,c===i&&a.set(null,o),a.set(g,o),this.count++,i=Mr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var al={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function ky(e,t,a,i,o,c,g,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Lm(e,t,a,i,o,c,g,v,_,D,H,Y){return e=new ky(e,t,a,g,_,D,H,Y,v),t=1,c===!0&&(t|=24),c=Ht(3,null,null,t),e.current=c,c.stateNode=e,t=Po(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:a,cache:t},eu(c),e}function Bm(e){return e?(e=ws,e):ws}function qm(e,t,a,i,o,c){o=Bm(o),i.context===null?i.context=o:i.pendingContext=o,i=on(t),i.payload={element:a},c=c===void 0?null:c,c!==null&&(i.callback=c),a=un(e,i,t),a!==null&&(zt(a,e,t),Ui(a,e,t))}function Hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function vc(e,t){Hm(e,t),(e=e.alternate)&&Hm(e,t)}function $m(e){if(e.tag===13||e.tag===31){var t=Bn(e,67108864);t!==null&&zt(t,e,67108864),vc(e,67108864)}}function Gm(e){if(e.tag===13||e.tag===31){var t=Kt();t=gi(t);var a=Bn(e,t);a!==null&&zt(a,e,t),vc(e,t)}}var Br=!0;function Dy(e,t,a,i){var o=B.T;B.T=null;var c=P.p;try{P.p=2,bc(e,t,a,i)}finally{P.p=c,B.T=o}}function Uy(e,t,a,i){var o=B.T;B.T=null;var c=P.p;try{P.p=8,bc(e,t,a,i)}finally{P.p=c,B.T=o}}function bc(e,t,a,i){if(Br){var o=xc(i);if(o===null)ic(e,t,i,qr,a),Ym(e,i);else if(zy(o,e,t,a,i))i.stopPropagation();else if(Ym(e,i),t&4&&-1<My.indexOf(e)){for(;o!==null;){var c=Ae(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=ga(c.pendingLanes);if(g!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var _=1<<31-mt(g);v.entanglements[1]|=_,g&=~_}xa(c),(Me&6)===0&&(wr=ft()+500,Pi(0))}}break;case 31:case 13:v=Bn(c,2),v!==null&&zt(v,c,2),Sr(),vc(c,2)}if(c=xc(i),c===null&&ic(e,t,i,qr,a),c===o)break;o=c}o!==null&&i.stopPropagation()}else ic(e,t,i,null,a)}}function xc(e){return e=_o(e),wc(e)}var qr=null;function wc(e){if(qr=null,e=he(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qr=e,null}function Vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case ri:return 2;case oi:return 8;case Za:case ui:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var _c=!1,xn=null,wn=null,_n=null,nl=new Map,sl=new Map,Sn=[],My="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(t.pointerId)}}function il(e,t,a,i,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ae(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zy(e,t,a,i,o){switch(t){case"focusin":return xn=il(xn,e,t,a,i,o),!0;case"dragenter":return wn=il(wn,e,t,a,i,o),!0;case"mouseover":return _n=il(_n,e,t,a,i,o),!0;case"pointerover":var c=o.pointerId;return nl.set(c,il(nl.get(c)||null,e,t,a,i,o)),!0;case"gotpointercapture":return c=o.pointerId,sl.set(c,il(sl.get(c)||null,e,t,a,i,o)),!0}return!1}function Km(e){var t=he(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,kl(e.priority,function(){Gm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,kl(e.priority,function(){Gm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=xc(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);wo=i,a.target.dispatchEvent(i),wo=null}else return t=Ae(a),t!==null&&$m(t),e.blockedOn=a,!1;t.shift()}return!0}function Jm(e,t,a){Hr(e)&&a.delete(t)}function Ly(){_c=!1,xn!==null&&Hr(xn)&&(xn=null),wn!==null&&Hr(wn)&&(wn=null),_n!==null&&Hr(_n)&&(_n=null),nl.forEach(Jm),sl.forEach(Jm)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ly)))}var Gr=null;function Xm(e){Gr!==e&&(Gr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gr===e&&(Gr=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(wc(i||a)===null)continue;break}var c=Ae(a);c!==null&&(e.splice(t,3),t-=3,xu(c,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function Ks(e){function t(_){return $r(_,e)}xn!==null&&$r(xn,e),wn!==null&&$r(wn,e),_n!==null&&$r(_n,e),nl.forEach(t),sl.forEach(t);for(var a=0;a<Sn.length;a++){var i=Sn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Sn.length&&(a=Sn[0],a.blockedOn===null);)Km(a),a.blockedOn===null&&Sn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],c=a[i+1],g=o[Tt]||null;if(typeof c=="function")g||Xm(a);else if(g){var v=null;if(c&&c.hasAttribute("formAction")){if(o=c,g=c[Tt]||null)v=g.formAction;else if(wc(o)!==null)continue}else v=g.action;typeof v=="function"?a[i+1]=v:(a.splice(i,3),i-=3),Xm(a)}}}function Qm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Sc(e){this._internalRoot=e}Vr.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Kt();qm(a,i,e,t,null,null)},Vr.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qm(e.current,2,null,e,null,null),Sr(),t[en]=null}};function Vr(e){this._internalRoot=e}Vr.prototype.unstable_scheduleHydration=function(e){if(e){var t=yi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Sn.length&&t!==0&&t<Sn[a].priority;a++);Sn.splice(a,0,e),a===0&&Km(e)}};var Im=n.version;if(Im!=="19.2.4")throw Error(r(527,Im,"19.2.4"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var By={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yr.isDisabled&&Yr.supportsFiber)try{Ea=Yr.inject(By),Ot=Yr}catch{}}return rl.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,i="",o=tf,c=af,g=nf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Lm(e,1,!1,null,null,a,i,null,o,c,g,Qm),e[en]=t.current,sc(e),new Sc(t)},rl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var i=!1,o="",c=tf,g=af,v=nf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Lm(e,1,!0,t,a??null,i,o,_,c,g,v,Qm),t.context=Bm(null),a=t.current,i=Kt(),i=gi(i),o=on(i),o.callback=null,un(a,o,i),a=i,t.current.lanes=a,pa(t,a),xa(t),e[en]=t.current,sc(e),new Vr(t)},rl.version="19.2.4",rl}var ig;function Qy(){if(ig)return Tc.exports;ig=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Tc.exports=Xy(),Tc.exports}var Iy=Qy();var lg="popstate";function rg(s){return typeof s=="object"&&s!=null&&"pathname"in s&&"search"in s&&"hash"in s&&"state"in s&&"key"in s}function Py(s={}){function n(u,d){let{pathname:h="/",search:m="",hash:p=""}=is(u.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Hc("",{pathname:h,search:m,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(u,d){let h=u.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=u.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof d=="string"?d:gl(d))}function r(u,d){la(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return Fy(n,l,r,s)}function Pe(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function la(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Zy(){return Math.random().toString(36).substring(2,10)}function og(s,n){return{usr:s.state,key:s.key,idx:n,masked:s.unstable_mask?{pathname:s.pathname,search:s.search,hash:s.hash}:void 0}}function Hc(s,n,l=null,r,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?is(n):n,state:l,key:n&&n.key||r||Zy(),unstable_mask:u}}function gl({pathname:s="/",search:n="",hash:l=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function is(s){let n={};if(s){let l=s.indexOf("#");l>=0&&(n.hash=s.substring(l),s=s.substring(0,l));let r=s.indexOf("?");r>=0&&(n.search=s.substring(r),s=s.substring(0,r)),s&&(n.pathname=s)}return n}function Fy(s,n,l,r={}){let{window:u=document.defaultView,v5Compat:d=!1}=r,h=u.history,m="POP",p=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let E=b(),U=E==null?null:E-y;y=E,p&&p({action:m,location:A.location,delta:U})}function w(E,U){m="PUSH";let K=rg(E)?E:Hc(A.location,E,U);l&&l(K,E),y=b()+1;let q=og(K,y),I=A.createHref(K.unstable_mask||K);try{h.pushState(q,"",I)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;u.location.assign(I)}d&&p&&p({action:m,location:A.location,delta:1})}function S(E,U){m="REPLACE";let K=rg(E)?E:Hc(A.location,E,U);l&&l(K,E),y=b();let q=og(K,y),I=A.createHref(K.unstable_mask||K);h.replaceState(q,"",I),d&&p&&p({action:m,location:A.location,delta:0})}function O(E){return Wy(E)}let A={get action(){return m},get location(){return s(u,h)},listen(E){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(lg,x),p=E,()=>{u.removeEventListener(lg,x),p=null}},createHref(E){return n(u,E)},createURL:O,encodeLocation(E){let U=O(E);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:S,go(E){return h.go(E)}};return A}function Wy(s,n=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(l,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:gl(s);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function Xg(s,n,l="/"){return ev(s,n,l,!1)}function ev(s,n,l,r){let u=typeof n=="string"?is(n):n,d=Ka(u.pathname||"/",l);if(d==null)return null;let h=Qg(s);tv(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=hv(d);m=cv(h[p],y,r)}return m}function Qg(s,n=[],l=[],r="",u=!1){let d=(h,m,p=u,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;Pe(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let x=_a([r,b.relativePath]),w=l.concat(b);h.children&&h.children.length>0&&(Pe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Qg(h.children,n,w,x,p)),!(h.path==null&&!h.index)&&n.push({path:x,score:ov(x,h.index),routesMeta:w})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let p of Ig(h.path))d(h,m,!0,p)}),n}function Ig(s){let n=s.split("/");if(n.length===0)return[];let[l,...r]=n,u=l.endsWith("?"),d=l.replace(/\?$/,"");if(r.length===0)return u?[d,""]:[d];let h=Ig(r.join("/")),m=[];return m.push(...h.map(p=>p===""?d:[d,p].join("/"))),u&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function tv(s){s.sort((n,l)=>n.score!==l.score?l.score-n.score:uv(n.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var av=/^:[\w-]+$/,nv=3,sv=2,iv=1,lv=10,rv=-2,ug=s=>s==="*";function ov(s,n){let l=s.split("/"),r=l.length;return l.some(ug)&&(r+=rv),n&&(r+=sv),l.filter(u=>!ug(u)).reduce((u,d)=>u+(av.test(d)?nv:d===""?iv:lv),r)}function uv(s,n){return s.length===n.length&&s.slice(0,-1).every((r,u)=>r===n[u])?s[s.length-1]-n[n.length-1]:0}function cv(s,n,l=!1){let{routesMeta:r}=s,u={},d="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,b=d==="/"?n:n.slice(d.length)||"/",x=to({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),w=p.route;if(!x&&y&&l&&!r[r.length-1].route.index&&(x=to({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:_a([d,x.pathname]),pathnameBase:pv(_a([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=_a([d,x.pathnameBase]))}return h}function to(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,r]=dv(s.path,s.caseSensitive,s.end),u=n.match(l);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:r.reduce((y,{paramName:b,isOptional:x},w)=>{if(b==="*"){let O=m[w]||"";h=d.slice(0,d.length-O.length).replace(/(.)\/+$/,"$1")}const S=m[w];return x&&!S?y[b]=void 0:y[b]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:h,pattern:s}}function dv(s,n=!1,l=!0){la(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p,y,b)=>{if(r.push({paramName:m,isOptional:p!=null}),p){let x=b.charAt(y+h.length);return x&&x!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),r]}function hv(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return la(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function Ka(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let l=n.endsWith("/")?n.length-1:n.length,r=s.charAt(l);return r&&r!=="/"?null:s.slice(l)||"/"}var fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function mv(s,n="/"){let{pathname:l,search:r="",hash:u=""}=typeof s=="string"?is(s):s,d;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?d=cg(l.substring(1),"/"):d=cg(l,n)):d=n,{pathname:d,search:yv(r),hash:vv(u)}}function cg(s,n){let l=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Rc(s,n,l,r){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gv(s){return s.filter((n,l)=>l===0||n.route.path&&n.route.path.length>0)}function ed(s){let n=gv(s);return n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase)}function io(s,n,l,r=!1){let u;typeof s=="string"?u=is(s):(u={...s},Pe(!u.pathname||!u.pathname.includes("?"),Rc("?","pathname","search",u)),Pe(!u.pathname||!u.pathname.includes("#"),Rc("#","pathname","hash",u)),Pe(!u.search||!u.search.includes("#"),Rc("#","search","hash",u)));let d=s===""||u.pathname==="",h=d?"/":u.pathname,m;if(h==null)m=l;else{let x=n.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}m=x>=0?n[x]:"/"}let p=mv(u,m),y=h&&h!=="/"&&h.endsWith("/"),b=(d||h===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var _a=s=>s.join("/").replace(/\/\/+/g,"/"),pv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),yv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,vv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,bv=class{constructor(s,n,l,r=!1){this.status=s,this.statusText=n||"",this.internal=r,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function xv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function wv(s){return s.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zg(s,n){let l=s;if(typeof l!="string"||!fv.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let r=l,u=!1;if(Pg)try{let d=new URL(window.location.href),h=l.startsWith("//")?new URL(d.protocol+l):new URL(l),m=Ka(h.pathname,n);h.origin===d.origin&&m!=null?l=m+h.search+h.hash:u=!0}catch{la(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fg=["POST","PUT","PATCH","DELETE"];new Set(Fg);var _v=["GET",...Fg];new Set(_v);var ni=R.createContext(null);ni.displayName="DataRouter";var lo=R.createContext(null);lo.displayName="DataRouterState";var Sv=R.createContext(!1),Wg=R.createContext({isTransitioning:!1});Wg.displayName="ViewTransition";var Ev=R.createContext(new Map);Ev.displayName="Fetchers";var jv=R.createContext(null);jv.displayName="Await";var Qt=R.createContext(null);Qt.displayName="Navigation";var Sl=R.createContext(null);Sl.displayName="Location";var Sa=R.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var td=R.createContext(null);td.displayName="RouteError";var ep="REACT_ROUTER_ERROR",Tv="REDIRECT",Nv="ROUTE_ERROR_RESPONSE";function Av(s){if(s.startsWith(`${ep}:${Tv}:{`))try{let n=JSON.parse(s.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function Ov(s){if(s.startsWith(`${ep}:${Nv}:{`))try{let n=JSON.parse(s.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new bv(n.status,n.statusText,n.data)}catch{}}function Rv(s,{relative:n}={}){Pe(si(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=R.useContext(Qt),{hash:u,pathname:d,search:h}=jl(s,{relative:n}),m=d;return l!=="/"&&(m=d==="/"?l:_a([l,d])),r.createHref({pathname:m,search:h,hash:u})}function si(){return R.useContext(Sl)!=null}function Ja(){return Pe(si(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Sl).location}var tp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ap(s){R.useContext(Qt).static||R.useLayoutEffect(s)}function El(){let{isDataRoute:s}=R.useContext(Sa);return s?Vv():Cv()}function Cv(){Pe(si(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(ni),{basename:n,navigator:l}=R.useContext(Qt),{matches:r}=R.useContext(Sa),{pathname:u}=Ja(),d=JSON.stringify(ed(r)),h=R.useRef(!1);return ap(()=>{h.current=!0}),R.useCallback((p,y={})=>{if(la(h.current,tp),!h.current)return;if(typeof p=="number"){l.go(p);return}let b=io(p,JSON.parse(d),u,y.relative==="path");s==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:_a([n,b.pathname])),(y.replace?l.replace:l.push)(b,y.state,y)},[n,l,d,u,s])}R.createContext(null);function jl(s,{relative:n}={}){let{matches:l}=R.useContext(Sa),{pathname:r}=Ja(),u=JSON.stringify(ed(l));return R.useMemo(()=>io(s,JSON.parse(u),r,n==="path"),[s,u,r,n])}function kv(s,n){return np(s,n)}function np(s,n,l){Pe(si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=R.useContext(Qt),{matches:u}=R.useContext(Sa),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let E=y&&y.path||"";ip(m,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Ja(),x;if(n){let E=typeof n=="string"?is(n):n;Pe(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=b;let w=x.pathname||"/",S=w;if(p!=="/"){let E=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let O=Xg(s,{pathname:S});la(y||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),la(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Lv(O&&O.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:_a([p,r.encodeLocation?r.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:_a([p,r.encodeLocation?r.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),u,l);return n&&A?R.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...x},navigationType:"POP"}},A):A}function Dv(){let s=Gv(),n=xv(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:d},"ErrorBoundary")," or"," ",R.createElement("code",{style:d},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},n),l?R.createElement("pre",{style:u},l):null,h)}var Uv=R.createElement(Dv,null),sp=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.onError?this.props.onError(s,n):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const l=Ov(s.digest);l&&(s=l)}let n=s!==void 0?R.createElement(Sa.Provider,{value:this.props.routeContext},R.createElement(td.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?R.createElement(Mv,{error:s},n):n}};sp.contextType=Sv;var Cc=new WeakMap;function Mv({children:s,error:n}){let{basename:l}=R.useContext(Qt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=Av(n.digest);if(r){let u=Cc.get(n);if(u)throw u;let d=Zg(r.location,l);if(Pg&&!Cc.get(n))if(d.isExternal||r.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:r.replace}));throw Cc.set(n,h),h}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return s}function zv({routeContext:s,match:n,children:l}){let r=R.useContext(ni);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Sa.Provider,{value:s},l)}function Lv(s,n=[],l){let r=l?.state;if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let b=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Pe(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let h=!1,m=-1;if(l&&r){h=r.renderFallback;for(let b=0;b<u.length;b++){let x=u[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=b),x.route.id){let{loaderData:w,errors:S}=r,O=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||O){l.isStatic&&(h=!0),m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}}let p=l?.onError,y=r&&p?(b,x)=>{p(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:wv(r.matches),errorInfo:x})}:void 0;return u.reduceRight((b,x,w)=>{let S,O=!1,A=null,E=null;r&&(S=d&&x.route.id?d[x.route.id]:void 0,A=x.route.errorElement||Uv,h&&(m<0&&w===0?(ip("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,E=null):m===w&&(O=!0,E=x.route.hydrateFallbackElement||null)));let U=n.concat(u.slice(0,w+1)),K=()=>{let q;return S?q=A:O?q=E:x.route.Component?q=R.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=b,R.createElement(zv,{match:x,routeContext:{outlet:b,matches:U,isDataRoute:r!=null},children:q})};return r&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?R.createElement(sp,{location:r.location,revalidation:r.revalidation,component:A,error:S,children:K(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:y}):K()},null)}function ad(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bv(s){let n=R.useContext(ni);return Pe(n,ad(s)),n}function qv(s){let n=R.useContext(lo);return Pe(n,ad(s)),n}function Hv(s){let n=R.useContext(Sa);return Pe(n,ad(s)),n}function nd(s){let n=Hv(s),l=n.matches[n.matches.length-1];return Pe(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function $v(){return nd("useRouteId")}function Gv(){let s=R.useContext(td),n=qv("useRouteError"),l=nd("useRouteError");return s!==void 0?s:n.errors?.[l]}function Vv(){let{router:s}=Bv("useNavigate"),n=nd("useNavigate"),l=R.useRef(!1);return ap(()=>{l.current=!0}),R.useCallback(async(u,d={})=>{la(l.current,tp),l.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:n,...d}))},[s,n])}var dg={};function ip(s,n,l){!n&&!dg[s]&&(dg[s]=!0,la(!1,l))}R.memo(Yv);function Yv({routes:s,future:n,state:l,isStatic:r,onError:u}){return np(s,void 0,{state:l,isStatic:r,onError:u})}function $c({to:s,replace:n,state:l,relative:r}){Pe(si(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=R.useContext(Qt);la(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=R.useContext(Sa),{pathname:h}=Ja(),m=El(),p=io(s,ed(d),h,r==="path"),y=JSON.stringify(p);return R.useEffect(()=>{m(JSON.parse(y),{replace:n,state:l,relative:r})},[m,y,r,n,l]),null}function es(s){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kv({basename:s="/",children:n=null,location:l,navigationType:r="POP",navigator:u,static:d=!1,unstable_useTransitions:h}){Pe(!si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:m,navigator:u,static:d,unstable_useTransitions:h,future:{}}),[m,u,d,h]);typeof l=="string"&&(l=is(l));let{pathname:y="/",search:b="",hash:x="",state:w=null,key:S="default",unstable_mask:O}=l,A=R.useMemo(()=>{let E=Ka(y,m);return E==null?null:{location:{pathname:E,search:b,hash:x,state:w,key:S,unstable_mask:O},navigationType:r}},[m,y,b,x,w,S,r,O]);return la(A!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(Qt.Provider,{value:p},R.createElement(Sl.Provider,{children:n,value:A}))}function Jv({children:s,location:n}){return kv(Gc(s),n)}function Gc(s,n=[]){let l=[];return R.Children.forEach(s,(r,u)=>{if(!R.isValidElement(r))return;let d=[...n,u];if(r.type===R.Fragment){l.push.apply(l,Gc(r.props.children,d));return}Pe(r.type===es,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Gc(r.props.children,d)),l.push(h)}),l}var Wr="get",eo="application/x-www-form-urlencoded";function ro(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Xv(s){return ro(s)&&s.tagName.toLowerCase()==="button"}function Qv(s){return ro(s)&&s.tagName.toLowerCase()==="form"}function Iv(s){return ro(s)&&s.tagName.toLowerCase()==="input"}function Pv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Zv(s,n){return s.button===0&&(!n||n==="_self")&&!Pv(s)}var Kr=null;function Fv(){if(Kr===null)try{new FormData(document.createElement("form"),0),Kr=!1}catch{Kr=!0}return Kr}var Wv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kc(s){return s!=null&&!Wv.has(s)?(la(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eo}"`),null):s}function eb(s,n){let l,r,u,d,h;if(Qv(s)){let m=s.getAttribute("action");r=m?Ka(m,n):null,l=s.getAttribute("method")||Wr,u=kc(s.getAttribute("enctype"))||eo,d=new FormData(s)}else if(Xv(s)||Iv(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?Ka(p,n):null,l=s.getAttribute("formmethod")||m.getAttribute("method")||Wr,u=kc(s.getAttribute("formenctype"))||kc(m.getAttribute("enctype"))||eo,d=new FormData(m,s),!Fv()){let{name:y,type:b,value:x}=s;if(b==="image"){let w=y?`${y}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else y&&d.append(y,x)}}else{if(ro(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Wr,r=null,u=eo,h=s}return d&&u==="text/plain"&&(h=d,d=void 0),{action:r,method:l.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sd(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function tb(s,n,l,r){let u=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${r}`:u.pathname=`${u.pathname}.${r}`:u.pathname==="/"?u.pathname=`_root.${r}`:n&&Ka(u.pathname,n)==="/"?u.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${r}`,u}async function ab(s,n){if(s.id in n)return n[s.id];try{let l=await import(s.module);return n[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function sb(s,n,l){let r=await Promise.all(s.map(async u=>{let d=n.routes[u.route.id];if(d){let h=await ab(d,l);return h.links?h.links():[]}return[]}));return ob(r.flat(1).filter(nb).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function hg(s,n,l,r,u,d){let h=(p,y)=>l[y]?p.route.id!==l[y].route.id:!0,m=(p,y)=>l[y].pathname!==p.pathname||l[y].route.path?.endsWith("*")&&l[y].params["*"]!==p.params["*"];return d==="assets"?n.filter((p,y)=>h(p,y)||m(p,y)):d==="data"?n.filter((p,y)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ib(s,n,{includeHydrateFallback:l}={}){return lb(s.map(r=>{let u=n.routes[r.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function lb(s){return[...new Set(s)]}function rb(s){let n={},l=Object.keys(s).sort();for(let r of l)n[r]=s[r];return n}function ob(s,n){let l=new Set;return new Set(n),s.reduce((r,u)=>{let d=JSON.stringify(rb(u));return l.has(d)||(l.add(d),r.push({key:d,link:u})),r},[])}function lp(){let s=R.useContext(ni);return sd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ub(){let s=R.useContext(lo);return sd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var id=R.createContext(void 0);id.displayName="FrameworkContext";function rp(){let s=R.useContext(id);return sd(s,"You must render this element inside a <HydratedRouter> element"),s}function cb(s,n){let l=R.useContext(id),[r,u]=R.useState(!1),[d,h]=R.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:x}=n,w=R.useRef(null);R.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let A=U=>{U.forEach(K=>{h(K.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[s]),R.useEffect(()=>{if(r){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{u(!0)},O=()=>{u(!1),h(!1)};return l?s!=="intent"?[d,w,{}]:[d,w,{onFocus:ol(m,S),onBlur:ol(p,O),onMouseEnter:ol(y,S),onMouseLeave:ol(b,O),onTouchStart:ol(x,S)}]:[!1,w,{}]}function ol(s,n){return l=>{s&&s(l),l.defaultPrevented||n(l)}}function db({page:s,...n}){let{router:l}=lp(),r=R.useMemo(()=>Xg(l.routes,s,l.basename),[l.routes,s,l.basename]);return r?R.createElement(fb,{page:s,matches:r,...n}):null}function hb(s){let{manifest:n,routeModules:l}=rp(),[r,u]=R.useState([]);return R.useEffect(()=>{let d=!1;return sb(s,n,l).then(h=>{d||u(h)}),()=>{d=!0}},[s,n,l]),r}function fb({page:s,matches:n,...l}){let r=Ja(),{future:u,manifest:d,routeModules:h}=rp(),{basename:m}=lp(),{loaderData:p,matches:y}=ub(),b=R.useMemo(()=>hg(s,n,y,d,r,"data"),[s,n,y,d,r]),x=R.useMemo(()=>hg(s,n,y,d,r,"assets"),[s,n,y,d,r]),w=R.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let A=new Set,E=!1;if(n.forEach(K=>{let q=d.routes[K.route.id];!q||!q.hasLoader||(!b.some(I=>I.route.id===K.route.id)&&K.route.id in p&&h[K.route.id]?.shouldRevalidate||q.hasClientLoader?E=!0:A.add(K.route.id))}),A.size===0)return[];let U=tb(s,m,u.unstable_trailingSlashAwareDataRequests,"data");return E&&A.size>0&&U.searchParams.set("_routes",n.filter(K=>A.has(K.route.id)).map(K=>K.route.id).join(",")),[U.pathname+U.search]},[m,u.unstable_trailingSlashAwareDataRequests,p,r,d,b,n,s,h]),S=R.useMemo(()=>ib(x,d),[x,d]),O=hb(x);return R.createElement(R.Fragment,null,w.map(A=>R.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...l})),S.map(A=>R.createElement("link",{key:A,rel:"modulepreload",href:A,...l})),O.map(({key:A,link:E})=>R.createElement("link",{key:A,nonce:l.nonce,...E,crossOrigin:E.crossOrigin??l.crossOrigin})))}function mb(...s){return n=>{s.forEach(l=>{typeof l=="function"?l(n):l!=null&&(l.current=n)})}}var gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gb&&(window.__reactRouterVersion="7.13.1")}catch{}function pb({basename:s,children:n,unstable_useTransitions:l,window:r}){let u=R.useRef();u.current==null&&(u.current=Py({window:r,v5Compat:!0}));let d=u.current,[h,m]=R.useState({action:d.action,location:d.location}),p=R.useCallback(y=>{l===!1?m(y):R.startTransition(()=>m(y))},[l]);return R.useLayoutEffect(()=>d.listen(p),[d,p]),R.createElement(Kv,{basename:s,children:n,location:h.location,navigationType:h.action,navigator:d,unstable_useTransitions:l})}var op=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,up=R.forwardRef(function({onClick:n,discover:l="render",prefetch:r="none",relative:u,reloadDocument:d,replace:h,unstable_mask:m,state:p,target:y,to:b,preventScrollReset:x,viewTransition:w,unstable_defaultShouldRevalidate:S,...O},A){let{basename:E,navigator:U,unstable_useTransitions:K}=R.useContext(Qt),q=typeof b=="string"&&op.test(b),I=Zg(b,E);b=I.to;let ae=Rv(b,{relative:u}),$=Ja(),Q=null;if(m){let Ue=io(m,[],$.unstable_mask?$.unstable_mask.pathname:"/",!0);E!=="/"&&(Ue.pathname=Ue.pathname==="/"?E:_a([E,Ue.pathname])),Q=U.createHref(Ue)}let[pe,z,ne]=cb(r,O),X=xb(b,{replace:h,unstable_mask:m,state:p,target:y,preventScrollReset:x,relative:u,viewTransition:w,unstable_defaultShouldRevalidate:S,unstable_useTransitions:K});function ee(Ue){n&&n(Ue),Ue.defaultPrevented||X(Ue)}let me=!(I.isExternal||d),Ve=R.createElement("a",{...O,...ne,href:(me?Q:void 0)||I.absoluteURL||ae,onClick:me?ee:n,ref:mb(A,z),target:y,"data-discover":!q&&l==="render"?"true":void 0});return pe&&!q?R.createElement(R.Fragment,null,Ve,R.createElement(db,{page:ae})):Ve});up.displayName="Link";var yb=R.forwardRef(function({"aria-current":n="page",caseSensitive:l=!1,className:r="",end:u=!1,style:d,to:h,viewTransition:m,children:p,...y},b){let x=jl(h,{relative:y.relative}),w=Ja(),S=R.useContext(lo),{navigator:O,basename:A}=R.useContext(Qt),E=S!=null&&jb(x)&&m===!0,U=O.encodeLocation?O.encodeLocation(x).pathname:x.pathname,K=w.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;l||(K=K.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&A&&(q=Ka(q,A)||q);const I=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ae=K===U||!u&&K.startsWith(U)&&K.charAt(I)==="/",$=q!=null&&(q===U||!u&&q.startsWith(U)&&q.charAt(U.length)==="/"),Q={isActive:ae,isPending:$,isTransitioning:E},pe=ae?n:void 0,z;typeof r=="function"?z=r(Q):z=[r,ae?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ne=typeof d=="function"?d(Q):d;return R.createElement(up,{...y,"aria-current":pe,className:z,ref:b,style:ne,to:h,viewTransition:m},typeof p=="function"?p(Q):p)});yb.displayName="NavLink";var vb=R.forwardRef(({discover:s="render",fetcherKey:n,navigate:l,reloadDocument:r,replace:u,state:d,method:h=Wr,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:x,unstable_defaultShouldRevalidate:w,...S},O)=>{let{unstable_useTransitions:A}=R.useContext(Qt),E=Sb(),U=Eb(m,{relative:y}),K=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&op.test(m),I=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let $=ae.nativeEvent.submitter,Q=$?.getAttribute("formmethod")||h,pe=()=>E($||ae.currentTarget,{fetcherKey:n,method:Q,navigate:l,replace:u,state:d,relative:y,preventScrollReset:b,viewTransition:x,unstable_defaultShouldRevalidate:w});A&&l!==!1?R.startTransition(()=>pe()):pe()};return R.createElement("form",{ref:O,method:K,action:U,onSubmit:r?p:I,...S,"data-discover":!q&&s==="render"?"true":void 0})});vb.displayName="Form";function bb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cp(s){let n=R.useContext(ni);return Pe(n,bb(s)),n}function xb(s,{target:n,replace:l,unstable_mask:r,state:u,preventScrollReset:d,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y}={}){let b=El(),x=Ja(),w=jl(s,{relative:h});return R.useCallback(S=>{if(Zv(S,n)){S.preventDefault();let O=l!==void 0?l:gl(x)===gl(w),A=()=>b(s,{replace:O,unstable_mask:r,state:u,preventScrollReset:d,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p});y?R.startTransition(()=>A()):A()}},[x,b,w,l,r,u,n,s,d,h,m,p,y])}var wb=0,_b=()=>`__${String(++wb)}__`;function Sb(){let{router:s}=cp("useSubmit"),{basename:n}=R.useContext(Qt),l=$v(),r=s.fetch,u=s.navigate;return R.useCallback(async(d,h={})=>{let{action:m,method:p,encType:y,formData:b,body:x}=eb(d,n);if(h.navigate===!1){let w=h.fetcherKey||_b();await r(w,l,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:x,formMethod:h.method||p,formEncType:h.encType||y,flushSync:h.flushSync})}else await u(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:x,formMethod:h.method||p,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:l,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,u,n,l])}function Eb(s,{relative:n}={}){let{basename:l}=R.useContext(Qt),r=R.useContext(Sa);Pe(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),d={...jl(s||".",{relative:n})},h=Ja();if(s==null){d.search=h.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();d.search=b?`?${b}`:""}}return(!s||s===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(d.pathname=d.pathname==="/"?l:_a([l,d.pathname])),gl(d)}function jb(s,{relative:n}={}){let l=R.useContext(Wg);Pe(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cp("useViewTransitionState"),u=jl(s,{relative:n});if(!l.isTransitioning)return!1;let d=Ka(l.currentLocation.pathname,r)||l.currentLocation.pathname,h=Ka(l.nextLocation.pathname,r)||l.nextLocation.pathname;return to(u.pathname,h)!=null||to(u.pathname,d)!=null}function oo(s,n){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(s);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(s,r[u])&&(l[r[u]]=s[r[u]]);return l}function Tb(s,n,l,r){function u(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(b){try{y(r.next(b))}catch(x){h(x)}}function p(b){try{y(r.throw(b))}catch(x){h(x)}}function y(b){b.done?d(b.value):u(b.value).then(m,p)}y((r=r.apply(s,n||[])).next())})}const Nb=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class ld extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Ab extends ld{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class fg extends ld{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class mg extends ld{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Vc||(Vc={}));class Ob{constructor(n,{headers:l={},customFetch:r,region:u=Vc.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=Nb(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Tb(this,arguments,void 0,function*(l,r={}){var u;let d,h;try{const{headers:m,method:p,body:y,signal:b,timeout:x}=r;let w={},{region:S}=r;S||(S=this.region);const O=new URL(`${this.url}/${l}`);S&&S!=="any"&&(w["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let A;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",A=y):typeof y=="string"?(w["Content-Type"]="text/plain",A=y):typeof FormData<"u"&&y instanceof FormData?A=y:(w["Content-Type"]="application/json",A=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?A=JSON.stringify(y):A=y;let E=b;x&&(h=new AbortController,d=setTimeout(()=>h.abort(),x),b?(E=h.signal,b.addEventListener("abort",()=>h.abort())):E=h.signal);const U=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:A,signal:E}).catch(ae=>{throw new Ab(ae)}),K=U.headers.get("x-relay-error");if(K&&K==="true")throw new fg(U);if(!U.ok)throw new mg(U);let q=((u=U.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),I;return q==="application/json"?I=yield U.json():q==="application/octet-stream"||q==="application/pdf"?I=yield U.blob():q==="text/event-stream"?I=U:q==="multipart/form-data"?I=yield U.formData():I=yield U.text(),{data:I,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof mg||m instanceof fg?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Rb=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Cb=class{constructor(s){var n,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,m=null,p=null,y=d.status,b=d.statusText;if(d.ok){var x,w;if(l.method!=="HEAD"){var S;const U=await d.text();U===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((S=l.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=U:m=JSON.parse(U))}const A=(x=l.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),E=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");A&&E&&E.length>1&&(p=parseInt(E[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,y=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var O;const A=await d.text();try{h=JSON.parse(A),Array.isArray(h)&&d.status===404&&(m=[],h=null,y=200,b="OK")}catch{d.status===404&&A===""?(y=204,b="No Content"):h={message:A}}if(h&&l.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,y=200,b="OK"),h&&l.shouldThrowOnError)throw new Rb(h)}return{error:h,data:m,count:p,status:y,statusText:b}});return this.shouldThrowOnError||(u=u.catch(d=>{var h;let m="",p="",y="";const b=d?.cause;if(b){var x,w,S,O;const U=(x=b?.message)!==null&&x!==void 0?x:"",K=(w=b?.code)!==null&&w!==void 0?w:"";m=`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(O=b?.name)!==null&&O!==void 0?O:"Error"}: ${U}`,K&&(m+=` (${K})`),b?.stack&&(m+=`
${b.stack}`)}else{var A;m=(A=d?.stack)!==null&&A!==void 0?A:""}const E=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(y="",p="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(b?.name==="HeadersOverflowError"||b?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",p="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(p+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:m,hint:p,code:y},data:null,count:null,status:0,statusText:""}})),u.then(s,n)}returns(){return this}overrideTypes(){return this}},kb=class extends Cb{select(s){let n=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,n,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:d="text"}={}){var h;const m=[s?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const gg=new RegExp("[,()]");var Fs=class extends kb{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&gg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&gg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${n}`),this}match(s){return Object.entries(s).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(s,n,l){return this.url.searchParams.append(s,`not.${n}.${l}`),this}or(s,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,n,l){return this.url.searchParams.append(s,`${n}.${l}`),this}},Db=class{constructor(s,{headers:n={},schema:l,fetch:r,urlLengthLimit:u=8e3}){this.url=s,this.headers=new Headers(n),this.schema=l,this.fetch=r,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:l=!1,count:r}=n??{},u=l?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",h),r&&p.append("Prefer",`count=${r}`),new Fs({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:n,defaultToNull:l=!0}={}){var r;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),l||h.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);d.searchParams.set("columns",p.join(","))}}return new Fs({method:u,url:d,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var d;const h="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),u||p.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);m.searchParams.set("columns",b.join(","))}}return new Fs({method:h,url:m,headers:p,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:n}={}){var l;const r="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Fs({method:r,url:u,headers:d,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var n;const l="DELETE",{url:r,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new Fs({method:l,url:r,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function pl(s){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pl(s)}function Ub(s,n){if(pl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Mb(s){var n=Ub(s,"string");return pl(n)=="symbol"?n:n+""}function zb(s,n,l){return(n=Mb(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function pg(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function Jr(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?pg(Object(l),!0).forEach(function(r){zb(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):pg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Lb=class dp{constructor(n,{headers:l={},schema:r,fetch:u,timeout:d,urlLengthLimit:h=8e3}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=h;const m=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(p,y)=>{const b=new AbortController,x=setTimeout(()=>b.abort(),d),w=y?.signal;if(w){if(w.aborted)return clearTimeout(x),m(p,y);const S=()=>{clearTimeout(x),b.abort()};return w.addEventListener("abort",S,{once:!0}),m(p,Jr(Jr({},y),{},{signal:b.signal})).finally(()=>{clearTimeout(x),w.removeEventListener("abort",S)})}return m(p,Jr(Jr({},y),{},{signal:b.signal})).finally(()=>clearTimeout(x))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Db(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new dp(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,l={},{head:r=!1,get:u=!1,count:d}={}){var h;let m;const p=new URL(`${this.url}/rpc/${n}`);let y;const b=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(b)),x=r&&Object.values(l).some(b);x?(m="POST",y=l):r||u?(m=r?"HEAD":"GET",Object.entries(l).filter(([S,O])=>O!==void 0).map(([S,O])=>[S,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([S,O])=>{p.searchParams.append(S,O)})):(m="POST",y=l);const w=new Headers(this.headers);return x?w.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&w.set("Prefer",`count=${d}`),new Fs({method:m,url:p,headers:w,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class Bb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const u=r.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const qb="2.97.0",Hb=`realtime-js/${qb}`,$b="1.0.0",hp="2.0.0",yg=hp,Yc=1e4,Gb=1e3,Vb=100;var Nn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Nn||(Nn={}));var ht;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(ht||(ht={}));var ma;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ma||(ma={}));var Kc;(function(s){s.websocket="websocket"})(Kc||(Kc={}));var as;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(as||(as={}));class Yb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,l,r){var u,d;const h=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+y.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(S),A=0;O.setUint8(A++,this.KINDS.userBroadcastPush),O.setUint8(A++,p.length),O.setUint8(A++,m.length),O.setUint8(A++,h.length),O.setUint8(A++,y.length),O.setUint8(A++,x.length),O.setUint8(A++,l),Array.from(p,U=>O.setUint8(A++,U.charCodeAt(0))),Array.from(m,U=>O.setUint8(A++,U.charCodeAt(0))),Array.from(h,U=>O.setUint8(A++,U.charCodeAt(0))),Array.from(y,U=>O.setUint8(A++,U.charCodeAt(0))),Array.from(x,U=>O.setUint8(A++,U.charCodeAt(0)));var E=new Uint8Array(S.byteLength+r.byteLength);return E.set(new Uint8Array(S),0),E.set(new Uint8Array(r),S.byteLength),E.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,d,h,m,p]=r;return l({join_ref:u,ref:d,topic:h,event:m,payload:p})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),u=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,u)}_decodeUserBroadcast(n,l,r){const u=l.getUint8(1),d=l.getUint8(2),h=l.getUint8(3),m=l.getUint8(4);let p=this.HEADER_LENGTH+4;const y=r.decode(n.slice(p,p+u));p=p+u;const b=r.decode(n.slice(p,p+d));p=p+d;const x=r.decode(n.slice(p,p+h));p=p+h;const w=n.slice(p,n.byteLength),S=m===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,O={type:this.BROADCAST_EVENT,event:b,payload:S};return h>0&&(O.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class fp{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ke||(Ke={}));const vg=(s,n,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=Kb(h,s,n,u),d),{}):{}},Kb=(s,n,l,r)=>{const u=n.find(m=>m.name===s),d=u?.type,h=l[s];return d&&!r.includes(d)?mp(d,h):Jc(h)},mp=(s,n)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return Ib(n,l)}switch(s){case Ke.bool:return Jb(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return Xb(n);case Ke.json:case Ke.jsonb:return Qb(n);case Ke.timestamp:return Pb(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Jc(n);default:return Jc(n)}},Jc=s=>s,Jb=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Xb=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},Qb=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Ib=(s,n)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let d;const h=s.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>mp(n,m))}return s},Pb=s=>typeof s=="string"?s.replace(" ","T"):s,gp=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Dc{constructor(n,l,r={},u=Yc){this.channel=n,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var bg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(bg||(bg={}));class fl{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,u,d,h),this.pendingDiffs.forEach(p=>{this.state=fl.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=fl.syncDiff(this.state,u,d,h),m())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,u){const d=this.cloneDeep(n),h=this.transformState(l),m={},p={};return this.map(d,(y,b)=>{h[y]||(p[y]=b)}),this.map(h,(y,b)=>{const x=d[y];if(x){const w=b.map(E=>E.presence_ref),S=x.map(E=>E.presence_ref),O=b.filter(E=>S.indexOf(E.presence_ref)<0),A=x.filter(E=>w.indexOf(E.presence_ref)<0);O.length>0&&(m[y]=O),A.length>0&&(p[y]=A)}else m[y]=b}),this.syncDiff(d,{joins:m,leaves:p},r,u)}static syncDiff(n,l,r,u){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(d,(m,p)=>{var y;const b=(y=n[m])!==null&&y!==void 0?y:[];if(n[m]=this.cloneDeep(p),b.length>0){const x=n[m].map(S=>S.presence_ref),w=b.filter(S=>x.indexOf(S.presence_ref)<0);n[m].unshift(...w)}r(m,b,p)}),this.map(h,(m,p)=>{let y=n[m];if(!y)return;const b=p.map(x=>x.presence_ref);y=y.filter(x=>b.indexOf(x.presence_ref)<0),n[m]=y,u(m,y,p),y.length===0&&delete n[m]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const u=n[r];return"metas"in u?l[r]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(xg||(xg={}));var ml;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ml||(ml={}));var Ya;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ya||(Ya={}));class ti{constructor(n,l={config:{}},r){var u,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Dc(this,ma.join,this.params,this.timeout),this.rejoinTimer=new fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new fl(this),this.broadcastEndpointURL=gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,y=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[ml.PRESENCE]&&this.bindings[ml.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(Ya.CHANNEL_ERROR,S)),this._onClose(()=>n?.(Ya.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(Ya.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,E=(O=A?.length)!==null&&O!==void 0?O:0,U=[];for(let K=0;K<E;K++){const q=A[K],{filter:{event:I,schema:ae,table:$,filter:Q}}=q,pe=S&&S[K];if(pe&&pe.event===I&&ti.isFilterValueEqual(pe.schema,ae)&&ti.isFilterValueEqual(pe.table,$)&&ti.isFilterValueEqual(pe.filter,Q))U.push(Object.assign(Object.assign({},q),{id:pe.id}));else{this.unsubscribe(),this.state=ht.errored,n?.(Ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,n&&n(Ya.SUBSCRIBED);return}}).receive("error",S=>{this.state=ht.errored,n?.(Ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===ht.joined&&n===ml.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var u;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var r,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,p;const y=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ht.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Dc(this,ma.leave,{},n),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const u=new AbortController,d=setTimeout(()=>u.abort(),r),h=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),h}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Dc(this,n,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Vb){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var u,d;const h=n.toLocaleLowerCase(),{close:m,error:p,leave:y,join:b}=ma;if(r&&[m,p,y,b].indexOf(h)>=0&&r!==this._joinRef())return;let w=this._onMessage(h,l,r);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var O,A,E;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((E=(A=S.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(S=>S.callback(w,r)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var O,A,E,U,K,q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const I=S.id,ae=(O=S.filter)===null||O===void 0?void 0:O.event;return I&&((A=l.ids)===null||A===void 0?void 0:A.includes(I))&&(ae==="*"||ae?.toLocaleLowerCase()===((E=l.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(K=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return I==="*"||I===((q=l?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:A,table:E,commit_timestamp:U,type:K,errors:q}=O;w=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:U,eventType:K,new:{},old:{},errors:q}),this._getPayloadRecords(O))}S.callback(w,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&ti.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ma.close,{},n)}_onError(n){this._on(ma.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=vg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=vg(n.columns,n.old_record)),l}}const Uc=()=>{},Xr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zb=[1e3,2e3,5e3,1e4],Fb=1e4,Wb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ex{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=Xr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uc,this.ref=0,this.reconnectTimer=null,this.vsn=yg,this.logger=Uc,this.conn=null,this.sendBuffer=[],this.serializer=new Yb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Kc.websocket}`,this.httpEndpoint=gp(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return as.Connecting;case Nn.open:return as.Open;case Nn.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===r);if(u)return u;{const d=new ti(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:u,ref:d}=n,h=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${l} ${r} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Gb,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Xr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:u,payload:d,ref:h}=l,m=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${u} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(u,d,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Nn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nn.open||this.conn.readyState===Nn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(ma.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${r}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([Wb],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const d={access_token:l,version:Hb};l&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(ma.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,u,d,h,m,p,y,b,x,w,S;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Yc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Xr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:Uc,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:yg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>Zb[O-1]||Fb),this.vsn){case $b:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((O,A)=>A(JSON.stringify(O))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:((O,A)=>A(JSON.parse(O)));break;case hp:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var yl=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tx(s,n,l){const r=new URL(n,s);if(l)for(const[u,d]of Object.entries(l))d!==void 0&&r.searchParams.set(u,d);return r.toString()}async function ax(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function nx(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:u,body:d,headers:h}){const m=tx(s.baseUrl,r,u),p=await ax(s.auth),y=await n(m,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...p,...h},body:d?JSON.stringify(d):void 0}),b=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),w=x&&b?JSON.parse(b):b;if(!y.ok){const S=x?w:void 0,O=S?.error;throw new yl(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:y.status,headers:y.headers,data:w}}}}function Qr(s){return s.join("")}var sx=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:Qr(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,n){const l={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qr(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qr(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qr(s.namespace)}`}),!0}catch(n){if(n instanceof yl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(l){if(l instanceof yl&&l.status===409)return;throw l}}};function Js(s){return s.join("")}var ix=class{constructor(s,n="",l){this.client=s,this.prefix=n,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(s,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(l){if(l instanceof yl&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(l){if(l instanceof yl&&l.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw l}}},lx=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=nx({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new sx(this.client,n),this.tableOps=new ix(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},uo=class extends Error{constructor(s,n="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function co(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Ir=class extends uo{constructor(s,n,l,r="storage"){super(s,r,n,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pp=class extends uo{constructor(s,n,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const rx=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),ox=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Xc=s=>{if(Array.isArray(s))return s.map(l=>Xc(l));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Xc(r)}),n},ux=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function vl(s){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vl(s)}function cx(s,n){if(vl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function dx(s){var n=cx(s,"string");return vl(n)=="symbol"?n:n+""}function hx(s,n,l){return(n=dx(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function wg(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function ue(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?wg(Object(l),!0).forEach(function(r){hx(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):wg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const _g=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},fx=async(s,n,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const u=s,d=u.status||500;if(typeof u.json=="function")u.json().then(h=>{const m=h?.statusCode||h?.code||d+"";n(new Ir(_g(h),d,m,r))}).catch(()=>{if(r==="vectors"){const h=d+"";n(new Ir(u.statusText||`HTTP ${d} error`,d,h,r))}else{const h=d+"";n(new Ir(u.statusText||`HTTP ${d} error`,d,h,r))}});else{const h=d+"";n(new Ir(u.statusText||`HTTP ${d} error`,d,h,r))}}else n(new pp(_g(s),s,r))},mx=(s,n,l,r)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"||s==="HEAD"||!r?ue(ue({},u),l):(ox(r)?(u.headers=ue({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,n?.duplex&&(u.duplex=n.duplex),ue(ue({},u),l))};async function ul(s,n,l,r,u,d,h){return new Promise((m,p)=>{s(l,mx(n,r,u,d)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;if(h==="vectors"){const b=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!b||!b.includes("application/json"))return{}}return y.json()}).then(y=>m(y)).catch(y=>fx(y,p,r,h))})}function yp(s="storage"){return{get:async(n,l,r,u)=>ul(n,"GET",l,r,u,void 0,s),post:async(n,l,r,u,d)=>ul(n,"POST",l,u,d,r,s),put:async(n,l,r,u,d)=>ul(n,"PUT",l,u,d,r,s),head:async(n,l,r,u)=>ul(n,"HEAD",l,ue(ue({},r),{},{noResolveJson:!0}),u,void 0,s),remove:async(n,l,r,u,d)=>ul(n,"DELETE",l,u,d,r,s)}}const gx=yp("storage"),{get:bl,post:fa,put:Qc,head:px,remove:rd}=gx,Xt=yp("vectors");var ii=class{constructor(s,n={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.fetch=rx(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=ue(ue({},this.headers),{},{[s]:n}),this}async handleOperation(s){var n=this;try{return{data:await s(),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(co(l))return{data:null,error:l};throw l}}},yx=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(co(n))return{data:null,error:n};throw n}}};let vp;vp=Symbol.toStringTag;var vx=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[vp]="BlobDownloadBuilder",this.promise=null}asStream(){return new yx(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(co(n))return{data:null,error:n};throw n}}};const bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xx=class extends ii{constructor(s,n={},l,r){super(s,n,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,n,l,r){var u=this;return u.handleOperation(async()=>{let d;const h=ue(ue({},Sg),r);let m=ue(ue({},u.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",u.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),p&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(p))):(d=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),r?.headers&&(m=ue(ue({},m),r.headers));const y=u._removeEmptyFolders(n),b=u._getFinalPath(y),x=await(s=="PUT"?Qc:fa)(u.fetch,`${u.url}/object/${b}`,d,ue({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{path:y,id:x.Id,fullPath:x.Key}})}async upload(s,n,l){return this.uploadOrUpdate("POST",s,n,l)}async uploadToSignedUrl(s,n,l,r){var u=this;const d=u._removeEmptyFolders(s),h=u._getFinalPath(d),m=new URL(u.url+`/object/upload/sign/${h}`);return m.searchParams.set("token",n),u.handleOperation(async()=>{let p;const y=ue({upsert:Sg.upsert},r),b=ue(ue({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{path:d,fullPath:(await Qc(u.fetch,m.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(s,n){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const u=ue({},l.headers);n?.upsert&&(u["x-upsert"]="true");const d=await fa(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),h=new URL(l.url+d.url),m=h.searchParams.get("token");if(!m)throw new uo("No token returned by API");return{signedUrl:h.toString(),path:s,token:m}})}async update(s,n,l){return this.uploadOrUpdate("PUT",s,n,l)}async move(s,n,l){var r=this;return r.handleOperation(async()=>await fa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,n,l){var r=this;return r.handleOperation(async()=>({path:(await fa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,n,l){var r=this;return r.handleOperation(async()=>{let u=r._getFinalPath(s),d=await fa(r.fetch,`${r.url}/object/sign/${u}`,ue({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${h}`)}})}async createSignedUrls(s,n,l){var r=this;return r.handleOperation(async()=>{const u=await fa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:s},{headers:r.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u.map(h=>ue(ue({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${d}`):null}))})}download(s,n,l){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",h=this._getFinalPath(s),m=()=>bl(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0},l);return new vx(m,this.shouldThrowOnError)}async info(s){var n=this;const l=n._getFinalPath(s);return n.handleOperation(async()=>Xc(await bl(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})))}async exists(s){var n=this;const l=n._getFinalPath(s);try{return await px(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(co(r)&&r instanceof pp){const u=r.originalError;if([400,404].includes(u?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,n){const l=this._getFinalPath(s),r=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const d=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&r.push(h);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${m}`)}}}async remove(s){var n=this;return n.handleOperation(async()=>await rd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}))}async list(s,n,l){var r=this;return r.handleOperation(async()=>{const u=ue(ue(ue({},bx),n),{},{prefix:s||""});return await fa(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l)})}async listV2(s,n){var l=this;return l.handleOperation(async()=>{const r=ue({},s);return await fa(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const wx="2.97.0",Tl={"X-Client-Info":`storage-js/${wx}`};var _x=class extends ii{constructor(s,n={},l,r){const u=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),h=ue(ue({},Tl),n);super(d,h,l,"storage")}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=n.listBucketOptionsToQueryString(s);return await bl(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers})})}async getBucket(s){var n=this;return n.handleOperation(async()=>await bl(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}))}async createBucket(s,n={public:!1}){var l=this;return l.handleOperation(async()=>await fa(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,n){var l=this;return l.handleOperation(async()=>await Qc(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await rd(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Sx=class extends ii{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=ue(ue({},Tl),n);super(r,u,l,"storage")}async createBucket(s){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}))}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),u=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await bl(n.fetch,u,{headers:n.headers})})}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await rd(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}from(s){var n=this;if(!ux(s))throw new uo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new lx({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,d){const h=u[d];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(u,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},Ex=class extends ii{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=ue(ue({},Tl),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async createIndex(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{})}async getIndex(s,n){var l=this;return l.handleOperation(async()=>await Xt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers}))}async listIndexes(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}))}async deleteIndex(s,n){var l=this;return l.handleOperation(async()=>await Xt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers})||{})}},jx=class extends ii{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=ue(ue({},Tl),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async putVectors(s){var n=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{})}async getVectors(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}))}async listVectors(s){var n=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}))}async queryVectors(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}))}async deleteVectors(s){var n=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{})}},Tx=class extends ii{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=ue(ue({},Tl),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async createBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}async getBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}))}async listBuckets(s={}){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}},Nx=class extends Tx{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Ax(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,l=this;return n().call(l,s)}async getBucket(s){var n=()=>super.getBucket,l=this;return n().call(l,s)}async listBuckets(s={}){var n=()=>super.listBuckets,l=this;return n().call(l,s)}async deleteBucket(s){var n=()=>super.deleteBucket,l=this;return n().call(l,s)}},Ax=class extends Ex{constructor(s,n,l,r){super(s,n,r),this.vectorBucketName=l}async createIndex(s){var n=()=>super.createIndex,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,s)}index(s){return new Ox(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Ox=class extends jx{constructor(s,n,l,r,u){super(s,n,u),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var n=()=>super.putVectors,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var n=()=>super.getVectors,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,l=this;return n().call(l,ue(ue({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Rx=class extends _x{constructor(s,n={},l,r){super(s,n,l,r)}from(s){return new xx(this.url,this.headers,s,this.fetch)}get vectors(){return new Nx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sx(this.url+"/iceberg",this.headers,this.fetch)}};const bp="2.97.0",Ws=30*1e3,Ic=3,Mc=Ic*Ws,Cx="http://localhost:9999",kx="supabase.auth.token",Dx={"X-Client-Info":`gotrue-js/${bp}`},Pc="X-Supabase-Api-Version",xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ux=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mx=600*1e3;class xl extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ie(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class zx extends xl{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Lx(s){return ie(s)&&s.name==="AuthApiError"}class ns extends xl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Xa extends xl{constructor(n,l,r,u){super(n,r,u),this.name=l,this.status=r}}class Jt extends Xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zc(s){return ie(s)&&s.name==="AuthSessionMissingError"}class Xs extends Xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pr extends Xa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Zr extends Xa{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bx(s){return ie(s)&&s.name==="AuthImplicitGrantRedirectError"}class Eg extends Xa{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qx extends Xa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zc extends Xa{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Lc(s){return ie(s)&&s.name==="AuthRetryableFetchError"}class jg extends Xa{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Fc extends Xa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),Hx=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<Tg.length;n+=1)s[Tg[n].charCodeAt(0)]=-2;for(let n=0;n<ao.length;n+=1)s[ao[n].charCodeAt(0)]=n;return s})();function Ng(s,n,l){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(ao[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(ao[r]),n.queuedBits-=6}}function wp(s,n,l){const r=Hx[s];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Ag(s){const n=[],l=h=>{n.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{Vx(h,r,l)};for(let h=0;h<s.length;h+=1)wp(s.charCodeAt(h),u,d);return n.join("")}function $x(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Gx(s,n){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}$x(r,n)}}function Vx(s,n,l){if(n.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function ai(s){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<s.length;u+=1)wp(s.charCodeAt(u),l,r);return new Uint8Array(n)}function Yx(s){const n=[];return Gx(s,l=>n.push(l)),new Uint8Array(n)}function ss(s){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};return s.forEach(u=>Ng(u,l,r)),Ng(null,l,r),n.join("")}function Kx(s){return Math.round(Date.now()/1e3)+s}function Jx(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},_p=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function Xx(s){const n={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return l.searchParams.forEach((r,u)=>{n[u]=r}),n}const Sp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Qx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ei=async(s,n,l)=>{await s.setItem(n,JSON.stringify(l))},Fn=async(s,n)=>{const l=await s.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},_t=async(s,n)=>{await s.removeItem(n)};class ho{constructor(){this.promise=new ho.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}ho.promiseConstructor=Promise;function Fr(s){const n=s.split(".");if(n.length!==3)throw new Fc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Ux.test(n[r]))throw new Fc("JWT not in base64url format");return{header:JSON.parse(Ag(n[0])),payload:JSON.parse(Ag(n[1])),signature:ai(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ix(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Px(s,n){return new Promise((r,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await s(d);if(!n(d,null,h)){r(h);return}}catch(h){if(!n(d,h)){u(h);return}}})()})}function Zx(s){return("0"+s.toString(16)).substr(-2)}function Fx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,Zx).join("")}async function Wx(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function ew(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await Wx(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(s,n,l=!1){const r=Fx();let u=r;l&&(u+="/PASSWORD_RECOVERY"),await ei(s,`${n}-code-verifier`,u);const d=await ew(r);return[d,r===d?"plain":"s256"]}const tw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aw(s){const n=s.headers.get(Pc);if(!n||!n.match(tw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function nw(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function sw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(s){if(!iw.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bc(){const s={};return new Proxy(s,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lw(s,n){return new Proxy(s,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,u)}})}function Og(s){return JSON.parse(JSON.stringify(s))}const ts=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),rw=[502,503,504];async function Rg(s){var n;if(!Qx(s))throw new Zc(ts(s),0);if(rw.includes(s.status))throw new Zc(ts(s),s.status);let l;try{l=await s.json()}catch(d){throw new ns(ts(d),d)}let r;const u=aw(s);if(u&&u.getTime()>=xp["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new jg(ts(l),s.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new jg(ts(l),s.status,l.weak_password.reasons);throw new zx(ts(l),s.status||500,r)}const ow=(s,n,l,r)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};async function de(s,n,l,r){var u;const d=Object.assign({},r?.headers);d[Pc]||(d[Pc]=xp["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const h=(u=r?.query)!==null&&u!==void 0?u:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await uw(s,n,l+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function uw(s,n,l,r,u,d){const h=ow(n,r,u,d);let m;try{m=await s(l,Object.assign({},h))}catch(p){throw console.error(p),new Zc(ts(p),0)}if(m.ok||await Rg(m),r?.noResolveJson)return m;try{return await m.json()}catch(p){await Rg(p)}}function ha(s){var n;let l=null;hw(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=Kx(s.expires_in)));const r=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:l,user:r},error:null}}function Cg(s){const n=ha(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=s.weak_password),n}function An(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function cw(s){return{data:s,error:null}}function dw(s){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d}=s,h=oo(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function kg(s){return s}function hw(s){return s.access_token&&s.refresh_token&&s.expires_in}const qc=["global","local","others"];class fw{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=Sp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=qc[0]){if(qc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qc.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:An})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=oo(n,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r?.newEmail,delete u.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:dw,redirectTo:l?.redirectTo})}catch(l){if(ie(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:An})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,u,d,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:kg});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(O=>{const A=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(O.split(";")[1].split("=")[1]);y[`${E}Page`]=A}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ie(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Is(n);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:An})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Is(n);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:An})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Is(n);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:An})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Is(n.userId);try{const{data:l,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Is(n.userId),Is(n.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,u,d,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:kg});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(O=>{const A=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(O.split(";")[1].split("=")[1]);y[`${E}Page`]=A}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ie(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}}function Dg(s={}){return{getItem:n=>s[n]||null,setItem:(n,l)=>{s[n]=l},removeItem:n=>{delete s[n]}}}const Ps={debug:!!(globalThis&&_p()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ep extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ug extends Ep{}async function mw(s,n,l){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const r=new globalThis.AbortController;n>0&&setTimeout(()=>{r.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await l()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(n===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Ug(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ps.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}})}catch(u){throw u?.name==="AbortError"?new Ug(`Acquiring an exclusive Navigator LockManager lock "${s}" timed out waiting ${n}ms`):u}}function gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function pw(s){return parseInt(s,16)}function yw(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function vw(s){var n;const{chainId:l,domain:r,expirationTime:u,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:p,resources:y,scheme:b,uri:x,version:w}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=jp(s.address),O=b?`${b}://${r}`:r,A=s.statement?`${s.statement}
`:"",E=`${O} wants you to sign in with your Ethereum account:
${S}

${A}`;let U=`URI: ${x}
Version: ${w}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(u&&(U+=`
Expiration Time: ${u.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),p&&(U+=`
Request ID: ${p}`),y){let K=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);K+=`
- ${q}`}U+=K}return`${E}
${U}`}class ut extends Error{constructor({message:n,code:l,cause:r,name:u}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=u??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class no extends ut{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function bw({error:s,options:n}){var l,r,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new ut({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Tp(h)){if(d.rp.id!==h)return new ut({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function xw({error:s,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new ut({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Tp(r)){if(l.rpId!==r)return new ut({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class ww{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const _w=new ww;function Sw(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:l,excludeCredentials:r}=s,u=oo(s,["challenge","user","excludeCredentials"]),d=ai(n).buffer,h=Object.assign(Object.assign({},l),{id:ai(l.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:d,user:h});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const y=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:ai(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Ew(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:l}=s,r=oo(s,["challenge","allowCredentials"]),u=ai(n).buffer,d=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const m=l[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:ai(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function jw(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:ss(new Uint8Array(s.response.attestationObject)),clientDataJSON:ss(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Tw(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ss(new Uint8Array(u.authenticatorData)),clientDataJSON:ss(new Uint8Array(u.clientDataJSON)),signature:ss(new Uint8Array(u.signature)),userHandle:u.userHandle?ss(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Tp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Mg(){var s,n;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Nw(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new no("Browser returned unexpected credential type",n)}:{data:null,error:new no("Empty credential response",n)}}catch(n){return{data:null,error:bw({error:n,options:s})}}}async function Aw(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new no("Browser returned unexpected credential type",n)}:{data:null,error:new no("Empty credential response",n)}}catch(n){return{data:null,error:xw({error:n,options:s})}}}const Ow={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function so(...s){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of s)if(u)for(const d in u){const h=u[d];if(h!==void 0)if(Array.isArray(h))r[d]=h;else if(l(h))r[d]=h;else if(n(h)){const m=r[d];n(m)?r[d]=so(m,h):r[d]=so(h)}else r[d]=h}return r}function Cw(s,n){return so(Ow,s,n||{})}function kw(s,n){return so(Rw,s,n||{})}class Dw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:u},d){var h;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!m)return{data:null,error:p};const y=u??_w.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const x=r;if(x)b.name=`${b.id}:${x}`;else{const S=(await this.client.getUser()).data.user,O=((h=S?.user_metadata)===null||h===void 0?void 0:h.name)||S?.email||S?.id||"User";b.name=`${b.id}:${O}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=Cw(m.webauthn.credential_options.publicKey,d?.create),{data:x,error:w}=await Nw({publicKey:b,signal:y});return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const b=kw(m.webauthn.credential_options.publicKey,d?.request),{data:x,error:w}=await Aw(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:y}));return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(m){return ie(m)?{data:null,error:m}:{data:null,error:new ns("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!Mg())return{data:null,error:new ns("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:d});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:r,credential_response:p.credential_response}})}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new ns("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!Mg())return{data:null,error:new ns("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new ns("Unexpected error in register",h)}}}}gw();const Uw={url:Cx,storageKey:kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function zg(s,n,l){return await l()}const Zs={};class wl{get jwks(){var n,l;return(l=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Zs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Uw),n);if(this.storageKey=d.storageKey,this.instanceID=(l=wl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,wl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&St()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new fw({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Sp(d.fetch),this.lock=d.lock||zg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&St()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=mw:this.lock=zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:_p()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Dg(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}d.skipAutoInitialize||this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(St()&&(l=Xx(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),St()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Bx(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ie(l)?this._returnResult({error:l}):this._returnResult({error:new ns("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,u;try{const d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ha}),{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,u;try{let d;if("email"in n){const{email:b,password:x,options:w}=n;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await Qs(this.storage,this.storageKey)),d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:b,password:x,data:(l=w?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:O},xform:ha})}else if("phone"in n){const{phone:b,password:x,options:w}=n;d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ha})}else throw new Pr("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:h,options:m}=n;l=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Cg})}else if("phone"in n){const{phone:d,password:h,options:m}=n;l=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Cg})}else throw new Pr("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const d=new Xs;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,u,d,h,m,p,y,b,x,w;let S,O;if("message"in n)S=n.message,O=n.signature;else{const{chain:A,wallet:E,statement:U,options:K}=n;let q;if(St())if(typeof E=="object")q=E;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")q=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=E}const I=new URL((l=K?.url)!==null&&l!==void 0?l:window.location.href),ae=await q.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=jp(ae[0]);let Q=(r=K?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const z=await q.request({method:"eth_chainId"});Q=pw(z)}const pe={domain:I.host,address:$,statement:U,uri:I.href,version:"1",chainId:Q,nonce:(u=K?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(d=K?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=K?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=K?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=K?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=K?.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=vw(pe),O=await q.request({method:"personal_sign",params:[yw(S),$]})}try{const{data:A,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ha});if(E)throw E;if(!A||!A.session||!A.user){const U=new Xs;return this._returnResult({data:{user:null,session:null},error:U})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:E})}catch(A){if(ie(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var l,r,u,d,h,m,p,y,b,x,w,S;let O,A;if("message"in n)O=n.message,A=n.signature;else{const{chain:E,wallet:U,statement:K,options:q}=n;let I;if(St())if(typeof U=="object")I=U;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))I=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=U}const ae=new URL((l=q?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in I&&I.signIn){const $=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),K?{statement:K}:null));let Q;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")Q=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)Q=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)O=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),A=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ae.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(u=(r=q?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=q?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((h=q?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((x=(b=q?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...q.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const $=await I.signMessage(new TextEncoder().encode(O),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=$}}try{const{data:E,error:U}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ss(A)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ha});if(U)throw U;if(!E||!E.session||!E.user){const K=new Xs;return this._returnResult({data:{user:null,session:null},error:K})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:U})}catch(E){if(ie(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(n){const l=await Fn(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qx;const{data:d,error:h}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:ha});if(await _t(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const m=new Xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:u,access_token:d,nonce:h}=n,m=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ha}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new Xs;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,u,d,h;try{if("email"in n){const{email:m,options:p}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Qs(this.storage,this.storageKey));const{error:x}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:m,options:p}=n,{data:y,error:b}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new Pr("You must provide either an email or phone number.")}catch(m){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var l,r;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:m}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ha});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var l,r,u,d,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Qs(this.storage,this.storageKey));const y=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:cw});return!((d=y.data)===null||d===void 0)&&d.url&&St()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Jt;const{error:u}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:d}=n,{error:h}=await de(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:r,type:u,options:d}=n,{data:h,error:m}=await de(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Pr("You must provide either an email or phone number and a type")}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Mc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const h=await Fn(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Bc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=lw(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:An}):await this._useSession(async l=>{var r,u,d;const{data:h,error:m}=l;if(m)throw m;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:An})})}catch(l){if(ie(l))return zc(l)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:u,error:d}=r;if(d)throw d;if(!u.session)throw new Jt;const h=u.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await Qs(this.storage,this.storageKey));const{data:y,error:b}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:An});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Jt;const l=Date.now()/1e3;let r=l,u=!0,d=null;const{payload:h}=Fr(n.access_token);if(h.exp&&(r=h.exp,u=r<=l),u){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:h,error:m}=l;if(m)throw m;n=(r=h.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Jt;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!St())throw new Zr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Zr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Eg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Eg("No code detected.");const{data:K,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:m,expires_at:p,token_type:y}=n;if(!d||!m||!h||!y)throw new Zr("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(m);let w=b+x;p&&(w=parseInt(p));const S=w-b;S*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const O=w-x;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,b);const{data:A,error:E}=await this._getUser(d);if(E)throw E;const U={provider_token:r,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:w,refresh_token:h,token_type:y,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d&&!zc(d))return this._returnResult({error:d});const h=(r=u.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(Lx(m)&&(m.status===404||m.status===401||m.status===403)||zc(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=Jx(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,u;try{const{data:{session:d},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Qs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:u}=await this._useSession(async d=>{var h,m,p,y,b;const{data:x,error:w}=d;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return St()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:h,provider:m,token:p,access_token:y,nonce:b}=n,x=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ha}),{data:w,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Xs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(u){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:h}=l;if(h)throw h;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Px(async u=>(u>0&&await Ix(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ha})),(u,d)=>{const h=200*Math.pow(2,u);return d&&Lc(d)&&Date.now()+h-r<Ws})}catch(r){if(this._debug(l,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),St()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await Fn(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await ei(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h?.user)!==null&&n!==void 0?n:Bc()}else if(u&&!u.user&&!u.user){const h=await Fn(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await _t(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,u)):u.user=Bc()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Mc;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Mc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Lc(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ho;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new Jt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),ie(d)){const h={data:null,error:d};return Lc(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,l,r=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,l)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await ei(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const d=Og(u);await ei(this.storage,this.storageKey,d)}else{const u=Og(l);await ei(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ws}ms, refresh threshold is ${Ic} ticks`),u<=Ic&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ep)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const u=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,h]=await Qs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);u.push(d.toString())}return r?.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;return d?this._returnResult({data:null,error:d}):await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await de(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?jw(n.webauthn.credential_response):Tw(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const h=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Sw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ew(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var l,r,u,d;if(n)try{const{payload:S}=Fr(n);let O=null;S.aal&&(O=S.aal);let A=O;const{data:{user:E},error:U}=await this.getUser(n);if(U)return this._returnResult({data:null,error:U});((r=(l=E?.factors)===null||l===void 0?void 0:l.filter(I=>I.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const q=S.amr||[];return{data:{currentLevel:O,nextLevel:A,currentAuthenticationMethods:q},error:null}}catch(S){if(ie(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:h},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Fr(h.access_token);let y=null;p.aal&&(y=p.aal);let b=y;((d=(u=h.user.factors)===null||u===void 0?void 0:u.filter(S=>S.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const w=p.amr||[];return{data:{currentLevel:y,nextLevel:b,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&St()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const h=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&St()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(m=>m.kid===n);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+Mx>u)return r;const{data:d,error:h}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,r=d.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});r=S.session.access_token}const{header:u,payload:d,signature:h,raw:{header:m,payload:p}}=Fr(r);l?.allowExpired||nw(d.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:d,header:u,signature:h},error:null}}const b=sw(u.alg),x=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,Yx(`${m}.${p}`)))throw new Fc("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}wl.nextInstanceID={};const Mw=wl,zw="2.97.0";let dl="";typeof Deno<"u"?dl="deno":typeof document<"u"?dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dl="react-native":dl="node";const Lw={"X-Client-Info":`supabase-js-${dl}/${zw}`},Bw={headers:Lw},qw={schema:"public"},Hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$w={};function _l(s){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_l(s)}function Gw(s,n){if(_l(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Vw(s){var n=Gw(s,"string");return _l(n)=="symbol"?n:n+""}function Yw(s,n,l){return(n=Vw(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function Lg(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function We(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?Lg(Object(l),!0).forEach(function(r){Yw(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Lg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Kw=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Jw=()=>Headers,Xw=(s,n,l)=>{const r=Kw(l),u=Jw();return async(d,h)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:s;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),r(d,We(We({},h),{},{headers:y}))}};function Qw(s){return s.endsWith("/")?s:s+"/"}function Iw(s,n){var l,r;const{db:u,auth:d,realtime:h,global:m}=s,{db:p,auth:y,realtime:b,global:x}=n,w={db:We(We({},p),u),auth:We(We({},y),d),realtime:We(We({},b),h),storage:{},global:We(We(We({},x),m),{},{headers:We(We({},(l=x?.headers)!==null&&l!==void 0?l:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function Pw(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Zw=class extends Mw{constructor(s){super(s)}},Fw=class{constructor(s,n,l){var r,u;this.supabaseUrl=s,this.supabaseKey=n;const d=Pw(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:qw,realtime:$w,auth:We(We({},Hw),{},{storageKey:h}),global:Bw},p=Iw(l??{},m);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Xw(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(We({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Lb(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new Rx(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ob(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,l)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,storageKey:d,flowType:h,lock:m,debug:p,throwOnError:y},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zw({url:this.authUrl.href,headers:We(We({},w),b),storageKey:d,autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,flowType:h,lock:m,debug:p,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new ex(this.realtimeUrl.href,We(We({},s),{},{params:We(We({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ww=(s,n,l)=>new Fw(s,n,l);function e_(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_="https://vdohhkdcizlpcayuavdd.supabase.co",a_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkb2hoa2RjaXpscGNheXVhdmRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5NTc1MjksImV4cCI6MjA4NzUzMzUyOX0.rdCLXnWXQoTPmRGS07TYBgq3M4gxi-oh4pKuTNZHPVg",fe=Ww(t_,a_),n_=Object.freeze(Object.defineProperty({__proto__:null,supabase:fe},Symbol.toStringTag,{value:"Module"})),Np=R.createContext({}),s_=({children:s})=>{const[n,l]=R.useState(null),[r,u]=R.useState(null),[d,h]=R.useState(!0);R.useEffect(()=>{fe.auth.getSession().then(({data:{session:O}})=>{u(O),l(O?.user??null),h(!1)});const{data:{subscription:S}}=fe.auth.onAuthStateChange((O,A)=>{u(A),l(A?.user??null),h(!1)});return()=>S.unsubscribe()},[]);const w={user:n,session:r,loading:d,signUp:async(S,O,A)=>{const{data:E,error:U}=await fe.auth.signUp({email:S,password:O,options:{data:{full_name:A}}});return{data:E,error:U}},signIn:async(S,O)=>{const{data:A,error:E}=await fe.auth.signInWithPassword({email:S,password:O});return{data:A,error:E}},signInWithGoogle:async()=>{const{data:S,error:O}=await fe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:S,error:O}},signOut:async()=>{const{error:S}=await fe.auth.signOut();return{error:S}},resetPassword:async S=>{const{data:O,error:A}=await fe.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});return{data:O,error:A}}};return f.jsx(Np.Provider,{value:w,children:s})},fo=()=>{const s=R.useContext(Np);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},Bg=({children:s})=>{const{user:n,loading:l}=fo();return l?f.jsx("div",{className:"min-h-screen bg-[#09090f] flex items-center justify-center",children:f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):n?s:f.jsx($c,{to:"/login",replace:!0})},qg=()=>{const[s,n]=R.useState("login"),[l,r]=R.useState({fullName:"",email:"",password:"",confirmPassword:""}),[u,d]=R.useState(""),[h,m]=R.useState(""),[p,y]=R.useState(!1),[b,x]=R.useState(!1),{signIn:w,signUp:S,signInWithGoogle:O,resetPassword:A}=fo(),E=El(),U=$=>{r(Q=>({...Q,[$.target.name]:$.target.value})),d("")},K=async $=>{$.preventDefault(),d(""),m(""),y(!0);try{if(s==="login"){const{error:Q}=await w(l.email,l.password);if(Q)throw Q;E("/dashboard")}else if(s==="signup"){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters");const{error:Q}=await S(l.email,l.password,l.fullName);if(Q)throw Q;m("Account created! You can now sign in.")}else{const{error:Q}=await A(l.email);if(Q)throw Q;m("Password reset link sent to your email!")}}catch(Q){d(Q.message)}finally{y(!1)}},q=async()=>{y(!0);const{error:$}=await O();$&&(d($.message),y(!1))},I=$=>{n($),d(""),m("")},ae=`
    w-full rounded-2xl px-4 py-3.5 text-sm text-white
    placeholder-white/25 outline-none transition-all
    caret-emerald-400
  `;return f.jsxs("div",{className:"min-h-screen flex text-white relative overflow-hidden",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #07070f 0%, #0d0d1c 40%, #080812 100%)",minHeight:"100dvh"},children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:[f.jsx("div",{style:{position:"absolute",top:"-15%",left:"-10%",width:"70vw",height:"70vw",maxWidth:600,maxHeight:600,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.07) 0%, transparent 65%)",filter:"blur(50px)"}}),f.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-10%",width:"55vw",height:"55vw",maxWidth:500,maxHeight:500,borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.06) 0%, transparent 65%)",filter:"blur(50px)"}}),f.jsx("div",{style:{position:"absolute",top:"40%",left:"40%",width:"40vw",height:"40vw",maxWidth:350,maxHeight:350,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.03) 0%, transparent 65%)",filter:"blur(60px)"}})]}),f.jsxs("div",{className:"hidden lg:flex flex-col justify-between flex-1 p-14 relative overflow-hidden",style:{borderRight:"1px solid rgba(255,255,255,0.05)",background:"linear-gradient(160deg, rgba(12,16,24,0.8) 0%, rgba(8,10,18,0.9) 100%)"},children:[f.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[f.jsx("div",{className:"w-11 h-11 rounded-2xl flex items-center justify-center font-black text-xl",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#07070f",boxShadow:"0 6px 24px rgba(52,211,153,0.35)"},children:""}),f.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Spendly"})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h1",{className:"text-5xl xl:text-6xl font-black leading-[1.05] text-white/90 mb-6",style:{letterSpacing:"-0.03em"},children:["Track every",f.jsx("br",{}),f.jsx("span",{className:"italic",style:{background:"linear-gradient(135deg, #34d399 0%, #6ee7b7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"rupee."})]}),f.jsx("p",{className:"text-white/35 text-base leading-relaxed max-w-xs",children:"Smart expense tracking that shows you where your money goes  and where it should."}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:["Split bills","Track EMIs","Friend debts","Tag expenses"].map($=>f.jsx("span",{className:"text-xs font-semibold px-3 py-1.5 rounded-full",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.15)",color:"rgba(110,231,183,0.8)"},children:$},$))})]}),f.jsx("div",{className:"flex items-center gap-10 relative z-10",children:[["15k+","Tracked"],["4.9","Rating"],["100%","Private"]].map(([$,Q],pe)=>f.jsxs("div",{className:"flex items-center gap-10",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("strong",{className:"text-2xl font-black",style:{background:"linear-gradient(135deg, #34d399, #6ee7b7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:$}),f.jsx("span",{className:"text-white/30 text-[10px] uppercase tracking-[0.2em] font-semibold",children:Q})]}),pe<2&&f.jsx("div",{className:"w-px h-8",style:{background:"rgba(255,255,255,0.08)"}})]},pe))})]}),f.jsx("div",{className:"relative z-10 flex-1 lg:max-w-[480px] flex items-center justify-center p-5 sm:p-8",children:f.jsxs("div",{className:"w-full max-w-sm",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2.5 mb-8 lg:hidden",children:[f.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center font-black text-lg",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#07070f",boxShadow:"0 4px 16px rgba(52,211,153,0.3)"},children:""}),f.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Spendly"})]}),f.jsxs("div",{className:"rounded-3xl p-6 sm:p-7",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.09)",boxShadow:"0 24px 80px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.08)"},children:[s!=="forgot"&&f.jsx("div",{className:"flex p-1 rounded-2xl mb-6",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:[["login","Sign In"],["signup","Sign Up"]].map(([$,Q])=>f.jsx("button",{onClick:()=>I($),className:"flex-1 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200",style:s===$?{background:"rgba(255,255,255,0.1)",color:"#fff",boxShadow:"0 2px 12px rgba(0,0,0,0.2)"}:{color:"rgba(255,255,255,0.35)"},children:Q},$))}),s==="forgot"&&f.jsxs("div",{className:"mb-6",children:[f.jsx("button",{onClick:()=>I("login"),className:"text-emerald-400 text-sm mb-5 flex items-center gap-1.5 font-semibold hover:opacity-70 transition-opacity",children:" Back to Sign In"}),f.jsx("h2",{className:"text-2xl font-black mb-1",style:{letterSpacing:"-0.02em"},children:"Reset Password"}),f.jsx("p",{className:"text-white/35 text-sm",children:"We'll send a reset link to your email"})]}),s!=="forgot"&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-black",style:{letterSpacing:"-0.02em"},children:s==="login"?"Welcome back":"Create account"}),f.jsx("p",{className:"text-white/35 text-sm mt-1",children:s==="login"?"Sign in to your Spendly account":"Start tracking your expenses"})]}),f.jsxs("form",{onSubmit:K,className:"flex flex-col gap-3.5",children:[s==="signup"&&f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Full Name"}),f.jsx("input",{type:"text",name:"fullName",placeholder:"John Doe",value:l.fullName,onChange:U,required:!0,autoComplete:"name",className:ae,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:$=>{$.target.style.borderColor="rgba(52,211,153,0.5)",$.target.style.background="rgba(52,211,153,0.04)"},onBlur:$=>{$.target.style.borderColor="rgba(255,255,255,0.1)",$.target.style.background="rgba(255,255,255,0.06)"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Email"}),f.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",value:l.email,onChange:U,required:!0,autoComplete:"email",inputMode:"email",className:ae,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:$=>{$.target.style.borderColor="rgba(52,211,153,0.5)",$.target.style.background="rgba(52,211,153,0.04)"},onBlur:$=>{$.target.style.borderColor="rgba(255,255,255,0.1)",$.target.style.background="rgba(255,255,255,0.06)"}})]}),s!=="forgot"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em]",children:"Password"}),s==="login"&&f.jsx("button",{type:"button",onClick:()=>I("forgot"),className:"text-emerald-400 text-xs font-semibold hover:opacity-70 transition-opacity",children:"Forgot?"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:b?"text":"password",name:"password",placeholder:"",value:l.password,onChange:U,required:!0,autoComplete:s==="login"?"current-password":"new-password",className:`${ae} pr-12`,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:$=>{$.target.style.borderColor="rgba(52,211,153,0.5)",$.target.style.background="rgba(52,211,153,0.04)"},onBlur:$=>{$.target.style.borderColor="rgba(255,255,255,0.1)",$.target.style.background="rgba(255,255,255,0.06)"}}),f.jsx("button",{type:"button",onClick:()=>x($=>!$),className:"absolute right-3.5 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-xl text-white/30 hover:text-white/60 transition-all",style:{background:"rgba(255,255,255,0.05)"},children:b?"":""})]})]}),s==="signup"&&f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Confirm Password"}),f.jsx("input",{type:"password",name:"confirmPassword",placeholder:"",value:l.confirmPassword,onChange:U,required:!0,autoComplete:"new-password",className:ae,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:$=>{$.target.style.borderColor="rgba(52,211,153,0.5)",$.target.style.background="rgba(52,211,153,0.04)"},onBlur:$=>{$.target.style.borderColor="rgba(255,255,255,0.1)",$.target.style.background="rgba(255,255,255,0.06)"}})]}),u&&f.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm leading-snug font-medium",style:{background:"rgba(248,113,113,0.08)",border:"1px solid rgba(248,113,113,0.2)",color:"#f87171"},children:u}),h&&f.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm leading-snug font-medium",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.2)",color:"#34d399"},children:h}),f.jsxs("button",{type:"submit",disabled:p,className:"mt-1 w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#07070f",boxShadow:"0 6px 24px rgba(52,211,153,0.3)",fontSize:"15px"},children:[p&&f.jsx("span",{className:"w-4 h-4 border-2 border-[#07070f]/30 border-t-[#07070f] rounded-full animate-spin"}),s==="login"&&"Sign In",s==="signup"&&"Create Account",s==="forgot"&&"Send Reset Link"]})]}),s!=="forgot"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 my-5",children:[f.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(255,255,255,0.08)"}}),f.jsx("span",{className:"text-white/25 text-xs font-medium",children:"or continue with"}),f.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(255,255,255,0.08)"}})]}),f.jsxs("button",{onClick:q,disabled:p,className:"w-full py-3.5 text-sm font-semibold rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.8)"},onMouseEnter:$=>{$.target.style.background="rgba(255,255,255,0.09)",$.target.style.borderColor="rgba(255,255,255,0.18)"},onMouseLeave:$=>{$.target.style.background="rgba(255,255,255,0.05)",$.target.style.borderColor="rgba(255,255,255,0.1)"},children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]}),f.jsxs("p",{className:"text-center text-white/20 text-xs mt-5 leading-relaxed",children:["By continuing, you agree to our"," ",f.jsx("span",{className:"text-emerald-400/60 hover:text-emerald-400 cursor-pointer transition-colors",children:"Terms"})," ","&"," ",f.jsx("span",{className:"text-emerald-400/60 hover:text-emerald-400 cursor-pointer transition-colors",children:"Privacy Policy"})]})]})})]})},i_="modulepreload",l_=function(s){return"/"+s},Hg={},r_=function(n,l,r){let u=Promise.resolve();if(l&&l.length>0){let y=function(b){return Promise.all(b.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");u=y(l.map(b=>{if(b=l_(b),b in Hg)return;Hg[b]=!0;const x=b.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${w}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":i_,x||(S.as="script"),S.crossOrigin="",S.href=b,p&&S.setAttribute("nonce",p),document.head.appendChild(S),x)return new Promise((O,A)=>{S.addEventListener("load",O),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return u.then(m=>{for(const p of m||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})},Ap=new Date,ct=Ap.getMonth()+1,Et=Ap.getFullYear(),o_=async(s,n=ct,l=Et)=>{const{data:r,error:u}=await fe.from("budgets").select("*").eq("user_id",s).eq("month",n).eq("year",l).maybeSingle();return{data:r,error:u}},u_=async(s,n,l=ct,r=Et)=>{const{data:u,error:d}=await fe.from("budgets").upsert({user_id:s,month:l,year:r,amount:n},{onConflict:"user_id,month,year"}).select().single();return{data:u,error:d}},c_=async s=>{const{data:n,error:l}=await fe.from("tags").select("*").eq("user_id",s).order("name");return{data:n??[],error:l}},d_=async(s,n,l="#6ee7b7")=>{const{data:r,error:u}=await fe.from("tags").insert({user_id:s,name:n.trim(),color:l}).select().single();return{data:r,error:u}},h_=async s=>{const{error:n}=await fe.from("tags").delete().eq("id",s);return{error:n}},f_=async s=>{const{data:n,error:l}=await fe.from("friends").select("*").eq("user_id",s).order("name");return{data:n??[],error:l}},m_=async(s,n,l="")=>{const{data:r,error:u}=await fe.from("friends").insert({user_id:s,name:n,email:l}).select().single();return{data:r,error:u}},g_=async s=>{const{error:n}=await fe.from("friends").delete().eq("id",s);return{error:n}},$g=async(s,n)=>{const{data:l,error:r}=await fe.from("debts").select("*, transactions( id, title, date, total_amount, my_amount, note )").eq("user_id",s).eq("friend_id",n).order("created_at",{ascending:!1});if(r)return{data:[],error:r};let u={};try{const d=[...new Set((l??[]).map(h=>h.transaction_id).filter(Boolean))];if(d.length>0){const{data:h}=await fe.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(h??[]).forEach(m=>{u[m.transaction_id]||(u[m.transaction_id]=[]),m.tags&&u[m.transaction_id].push(m.tags)})}}catch{}return{data:(l??[]).map(d=>({...d,txn_tags:u[d.transaction_id]??[]})),error:null}},p_=async(s,n=ct,l=Et)=>{const{data:r,error:u}=await fe.from("transactions").select("*, debts( *, friends( id, name ) )").eq("user_id",s).eq("month",n).eq("year",l).order("created_at",{ascending:!1});if(u)return{data:[],error:u};let d={};try{const m=(r??[]).map(p=>p.id);if(m.length>0){const{data:p}=await fe.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",m);(p??[]).forEach(y=>{d[y.transaction_id]||(d[y.transaction_id]=[]),y.tags&&d[y.transaction_id].push(y.tags)})}}catch{}return{data:(r??[]).map(m=>({...m,txn_tags:d[m.id]??[]})),error:null}},y_=async(s,n,l=[])=>{const{data:r,error:u}=await fe.from("transactions").insert({user_id:s,title:n.title,total_amount:n.totalAmount,my_amount:n.myAmount,category:n.category||"General",note:n.note||"",date:n.date||new Date().toISOString().slice(0,10),month:n.month||ct,year:n.year||Et,...n.emi_id?{emi_id:n.emi_id}:{}}).select().single();return u||!r?{data:r,error:u}:(l.length>0&&await fe.from("transaction_tags").insert(l.map(d=>({transaction_id:r.id,tag_id:d}))),{data:r,error:null})},v_=async s=>{const{error:n}=await fe.from("transactions").delete().eq("id",s);return{error:n}},b_=async s=>{if(!s.length)return{error:null};const{error:n}=await fe.from("debts").insert(s);return{error:n}},x_=async s=>{const{data:n,error:l}=await fe.from("debts").select("*, friends( id, name, email ), transactions( id, title, date )").eq("user_id",s).eq("is_settled",!1).order("created_at",{ascending:!1});if(l)return{data:[],error:l};let r={};try{const d=[...new Set((n??[]).map(h=>h.transaction_id).filter(Boolean))];if(d.length>0){const{data:h}=await fe.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(h??[]).forEach(m=>{r[m.transaction_id]||(r[m.transaction_id]=[]),m.tags&&r[m.transaction_id].push(m.tags)})}}catch{}return{data:(n??[]).map(d=>({...d,txn_tags:r[d.transaction_id]??[]})),error:null}},w_=async s=>{const{data:n,error:l}=await fe.from("debts").select("*, friends( name ), transactions( title )").eq("id",s).single();if(l)return{data:null,error:l};const{data:r,error:u}=await fe.from("debts").update({is_settled:!0,settled_at:new Date().toISOString()}).eq("id",s).select().single();return u?{data:null,error:u}:(await fe.from("transactions").insert({user_id:n.user_id,title:`Collected: ${n.friends?.name}  ${n.transactions?.title}`,total_amount:Number(n.amount),my_amount:-Number(n.amount),category:"General",note:"Debt collected",date:new Date().toISOString().slice(0,10),month:ct,year:Et}),{data:r,error:null})},__=async(s,n)=>{const{data:l,error:r}=await fe.from("debts").select("*, friends( name ), transactions( title )").eq("user_id",s).eq("friend_id",n).eq("is_settled",!1);if(r)return{data:null,error:r};const{data:u,error:d}=await fe.from("debts").update({is_settled:!0,settled_at:new Date().toISOString()}).eq("user_id",s).eq("friend_id",n).eq("is_settled",!1).select();if(d)return{data:null,error:d};if(l&&l.length>0){const h=l.reduce((p,y)=>p+Number(y.amount),0),m=l[0].friends?.name||"Friend";await fe.from("transactions").insert({user_id:s,title:`Collected: ${m} (${l.length} debt${l.length>1?"s":""})`,total_amount:h,my_amount:-h,category:"General",note:"All debts collected",date:new Date().toISOString().slice(0,10),month:ct,year:Et})}return{data:u,error:null}},S_=async(s,n=ct,l=Et)=>{const{data:r,error:u}=await fe.from("winnings").select("*").eq("user_id",s).eq("month",n).eq("year",l).order("created_at",{ascending:!1});return{data:r??[],error:u}},Gg=async(s,n,l)=>{const{data:r,error:u}=await fe.from("winnings").insert({user_id:s,title:n,amount:l,month:ct,year:Et}).select().single();return{data:r,error:u}},E_=async s=>{const{error:n}=await fe.from("winnings").delete().eq("id",s);return{error:n}},j_=async s=>{const{data:n,error:l}=await fe.from("emis").select("*, emi_payments(*)").eq("user_id",s).eq("is_active",!0).order("created_at",{ascending:!1});return{data:n??[],error:l}},T_=async(s,n,l,r,u=ct,d=Et)=>{const{data:h,error:m}=await fe.from("emis").insert({user_id:s,title:n,amount:l,total_months:r,start_month:u,start_year:d}).select().single();return{data:h,error:m}},N_=async s=>{const{error:n}=await fe.from("emis").delete().eq("id",s);return{error:n}},A_=async(s,n,l,r,u=ct,d=Et)=>{const{data:h,error:m}=await fe.from("emi_payments").upsert({user_id:s,emi_id:n,month:u,year:d,amount:l},{onConflict:"emi_id,month,year"}).select().single();if(m)return{data:null,error:m};const p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],{data:y,error:b}=await fe.from("transactions").insert({user_id:s,title:`EMI: ${r}`,total_amount:l,my_amount:l,category:"Bills",note:`EMI payment for ${p[u-1]} ${d}`,date:new Date().toISOString().slice(0,10),month:u,year:d,emi_id:n}).select().single();return b?(await fe.from("emi_payments").delete().eq("emi_id",n).eq("month",u).eq("year",d),{data:null,error:b}):{data:{payment:h,txn:y},error:null}},O_=async(s,n=ct,l=Et)=>{await fe.from("transactions").delete().eq("emi_id",s).eq("month",n).eq("year",l);const{error:r}=await fe.from("emi_payments").delete().eq("emi_id",s).eq("month",n).eq("year",l);return{error:r}},Te=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:2})}`,wa=s=>{const n=Number(s);return Math.abs(n)>=1e5?`${(n/1e5).toFixed(1)}L`:Math.abs(n)>=1e3?`${(n/1e3).toFixed(1)}K`:Te(n)},Wn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R_={Food:"",Transport:"",Shopping:"",Entertainment:"",Health:"",Bills:"",Education:"",General:""},Vg=["#6ee7b7","#67e8f9","#a78bfa","#f9a8d4","#fcd34d","#86efac","#fb923c","#f87171","#60a5fa","#e879f9"],Op=s=>({background:s+"18",color:s,borderColor:s+"40"}),At="w-full bg-white/[0.06] border border-white/[0.12] rounded-2xl px-4 py-3.5 text-sm text-white placeholder-white/[0.25] outline-none focus:border-emerald-400/[0.50] focus:bg-emerald-400/[0.04] transition-all caret-emerald-400",ot="text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",Rp=()=>{if(document.getElementById("spendly-styles"))return;const s=document.createElement("style");s.id="spendly-styles",s.textContent=`
    @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800;900&display=swap');
    .spendly-scrollbar::-webkit-scrollbar { width: 3px; }
    .spendly-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .spendly-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 999px; }
    .spendly-no-scrollbar::-webkit-scrollbar { display: none; }
    .spendly-no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    @keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shimmer { 0%,100% { opacity: 0.4; } 50% { opacity: 0.8; } }
    .animate-slide-up { animation: slideUp 0.35s cubic-bezier(0.32,0.72,0,1) forwards; }
    .animate-fade-in { animation: fadeIn 0.25s ease forwards; }
    .animate-shimmer { animation: shimmer 1.8s ease infinite; }
    .glass-border { border: 1px solid rgba(255,255,255,0.08); }
    .tap-highlight { -webkit-tap-highlight-color: transparent; }
  `,document.head.appendChild(s)},jn=({open:s,onClose:n,title:l,wide:r,fullMobile:u=!1,children:d})=>(R.useEffect(()=>(Rp(),s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),s?u?f.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col sm:items-center sm:justify-center sm:bg-black/70 sm:backdrop-blur-md tap-highlight",children:[f.jsx("div",{className:"hidden sm:block fixed inset-0",onClick:n}),f.jsxs("div",{className:"relative flex flex-col w-full sm:max-w-lg sm:mx-4 sm:rounded-3xl sm:max-h-[85vh] animate-slide-up sm:animate-fade-in",style:{background:"linear-gradient(160deg, #0d0d1e 0%, #080812 100%)",borderTop:"1px solid rgba(255,255,255,0.1)",height:"100dvh",maxHeight:"100dvh"},children:[f.jsx("div",{className:"flex justify-center pt-3 pb-1 sm:hidden",children:f.jsx("div",{className:"w-10 h-1 rounded-full bg-white/15"})}),f.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/8 shrink-0",children:[f.jsx("h3",{className:"font-bold text-white text-base tracking-tight",children:l}),f.jsx("button",{onClick:n,className:"w-9 h-9 flex items-center justify-center rounded-full transition-all active:scale-90",style:{background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.1)"},children:f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:f.jsx("path",{d:"M1 1L13 13M13 1L1 13",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",strokeLinecap:"round"})})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain spendly-scrollbar px-5 py-5",style:{WebkitOverflowScrolling:"touch"},children:d}),f.jsx("div",{className:"shrink-0",style:{paddingBottom:"env(safe-area-inset-bottom, 8px)",minHeight:"8px"}})]})]}):f.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm tap-highlight",onClick:h=>h.target===h.currentTarget&&n(),children:f.jsxs("div",{className:`relative w-full ${r?"sm:max-w-2xl":"sm:max-w-md"} sm:mx-4 animate-slide-up sm:animate-fade-in`,style:{background:"linear-gradient(160deg, #0d0d1e 0%, #080812 100%)",borderRadius:"24px 24px 0 0",border:"1px solid rgba(255,255,255,0.1)",borderBottom:"none",boxShadow:"0 -20px 80px rgba(0,0,0,0.6)",maxHeight:"92dvh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[f.jsx("div",{className:"flex justify-center pt-3 pb-1 sm:hidden",children:f.jsx("div",{className:"w-10 h-1 rounded-full bg-white/15"})}),f.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/8 shrink-0",children:[f.jsx("h3",{className:"font-bold text-white text-base tracking-tight",children:l}),f.jsx("button",{onClick:n,className:"w-9 h-9 flex items-center justify-center rounded-full transition-all active:scale-90",style:{background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.1)"},children:f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:f.jsx("path",{d:"M1 1L13 13M13 1L1 13",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",strokeLinecap:"round"})})})]}),f.jsx("div",{className:"px-5 py-5 overflow-y-auto flex-1 overscroll-contain spendly-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:d}),f.jsx("div",{className:"shrink-0",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)",minHeight:"4px"}})]})}):null),hl=({tag:s,onRemove:n,small:l})=>f.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border font-semibold ${l?"text-[10px] px-2 py-0.5":"text-xs px-3 py-1"}`,style:Op(s.color),children:[s.name,n&&f.jsx("button",{onClick:()=>n(s.id),className:"hover:opacity-60 transition-opacity leading-none ml-0.5",children:""})]}),Yg=({allTags:s,selectedIds:n,onChange:l,onCreateTag:r})=>{const[u,d]=R.useState(""),[h,m]=R.useState(Vg[0]),[p,y]=R.useState(!1),[b,x]=R.useState(!1),w=R.useRef(null),S=A=>{l(n.includes(A)?n.filter(E=>E!==A):[...n,A])},O=async()=>{if(!u.trim())return;x(!0);const A=await r(u.trim(),h);A&&(l([...n,A.id]),d(""),y(!1)),x(!1)};return f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:[s.map(A=>f.jsxs("button",{type:"button",onClick:()=>S(A.id),className:`inline-flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full border font-semibold transition-all active:scale-95 tap-highlight ${n.includes(A.id)?"opacity-100 scale-105":"opacity-40 hover:opacity-70"}`,style:Op(A.color),children:[n.includes(A.id)&&f.jsx("span",{className:"text-[10px]",children:""}),A.name]},A.id)),f.jsx("button",{type:"button",onClick:()=>{y(A=>!A),setTimeout(()=>w.current?.focus(),100)},className:"text-xs px-3 py-1.5 rounded-full border border-dashed border-white/20 text-white/35 hover:text-white/60 hover:border-white/40 transition-all tap-highlight",children:p?" cancel":" new tag"})]}),p&&f.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)"},children:[f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Tag Name"}),f.jsx("input",{ref:w,className:At,placeholder:"e.g. Food, Trip, Work...",value:u,onChange:A=>d(A.target.value),onKeyDown:A=>A.key==="Enter"&&O(),autoComplete:"off",autoCorrect:"off",spellCheck:!1,style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Color"}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:Vg.map(A=>f.jsx("button",{type:"button",onClick:()=>m(A),className:`w-8 h-8 rounded-full transition-all active:scale-90 tap-highlight ${h===A?"scale-125 ring-2 ring-white/50 ring-offset-2 ring-offset-[#0d0d1a]":"opacity-60 hover:opacity-100"}`,style:{background:A}},A))})]}),f.jsx("button",{onClick:O,disabled:b||!u.trim(),className:"w-full py-3 bg-emerald-400 hover:bg-emerald-300 active:scale-[0.98] disabled:opacity-40 text-[#09090f] font-bold text-sm rounded-2xl transition-all tap-highlight",children:b?"...":`Add "${u||"tag"}"`})]})]})},C_=({friends:s,value:n,onChange:l,placeholder:r="Select friend"})=>{const[u,d]=R.useState(!1),h=R.useRef(null),m=s.find(p=>p.id===n);return R.useEffect(()=>{const p=y=>{h.current&&!h.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),f.jsxs("div",{ref:h,className:"relative flex-1",children:[f.jsxs("button",{type:"button",onClick:()=>d(p=>!p),className:"w-full flex items-center justify-between gap-2 bg-white/[0.06] border border-white/[0.12] rounded-2xl px-4 py-3.5 text-sm text-left outline-none focus:border-emerald-400/50 transition-all tap-highlight",style:{color:m?"#fff":"rgba(255,255,255,0.25)",fontSize:"16px"},children:[f.jsx("span",{className:"truncate",children:m?m.name:r}),f.jsx("svg",{className:`w-4 h-4 shrink-0 text-white/30 transition-transform ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),u&&f.jsx("div",{className:"absolute z-50 left-0 right-0 mt-1 rounded-2xl overflow-hidden",style:{background:"linear-gradient(160deg, #161628, #0d0d1e)",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 12px 40px rgba(0,0,0,0.7)"},children:s.map(p=>f.jsx("button",{type:"button",onClick:()=>{l(p.id),d(!1)},className:`w-full text-left px-4 py-3 text-sm transition-all hover:bg-white/[0.06] tap-highlight ${n===p.id?"text-emerald-400 bg-emerald-400/5":"text-white/80"}`,children:p.name},p.id))})]})},k_=({friend:s,open:n,onClose:l,onSettle:r,onSettleAll:u,onAddPreviousDebt:d,userId:h,friends:m})=>{const[p,y]=R.useState([]),[b,x]=R.useState(!1),[w,S]=R.useState(!1),[O,A]=R.useState("pending"),[E,U]=R.useState({title:"",amount:""}),[K,q]=R.useState(""),[I,ae]=R.useState(!1);R.useEffect(()=>{!n||!s||(x(!0),A("pending"),$g(h,s.id).then(({data:X})=>{y(X??[]),x(!1)}))},[n,s,h]);const $=p.filter(X=>!X.is_settled),Q=p.filter(X=>X.is_settled),pe=$.reduce((X,ee)=>X+Number(ee.amount),0),z=async()=>{window.confirm(`Mark all ${$.length} debts from ${s.name} as collected? (${Te(pe)} total)`)&&(S(!0),await u(s.id),y(X=>X.map(ee=>ee.is_settled?ee:{...ee,is_settled:!0,settled_at:new Date().toISOString()})),S(!1))},ne=async()=>{if(q(""),!E.title.trim())return q("Title is required");const X=parseFloat(E.amount);if(!X||isNaN(X)||X<=0)return q("Enter a valid amount");ae(!0),await d(s.id,E.title.trim(),X);const{data:ee}=await $g(h,s.id);y(ee??[]),U({title:"",amount:""}),ae(!1),A("pending")};return s?f.jsx(jn,{open:n,onClose:l,title:`${s.name}`,fullMobile:!0,children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(251,191,36,0.06)",border:"1px solid rgba(251,191,36,0.15)"},children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-white/35 uppercase tracking-widest mb-1",children:"Owes you"}),f.jsx("p",{className:"text-3xl font-black text-amber-300",children:Te(pe)}),f.jsxs("p",{className:"text-xs text-white/30 mt-1",children:[$.length," pending  ",Q.length," settled"]})]}),$.length>1&&f.jsxs("button",{onClick:z,disabled:w,className:"flex items-center gap-2 bg-emerald-400 hover:bg-emerald-300 active:scale-95 disabled:opacity-50 text-[#09090f] font-bold text-sm px-4 py-3 rounded-2xl transition-all shrink-0 tap-highlight",children:[w?f.jsx("span",{className:"w-4 h-4 border-2 border-[#09090f]/30 border-t-[#09090f] rounded-full animate-spin"}):"",f.jsx("span",{children:"Collect All"})]})]})}),f.jsx("div",{className:"flex gap-1 p-1 rounded-2xl",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:[{key:"pending",label:`Pending${$.length>0?` (${$.length})`:""}`},{key:"history",label:`History${Q.length>0?` (${Q.length})`:""}`},{key:"add-prev",label:"+ Past Debt"}].map(X=>f.jsx("button",{onClick:()=>A(X.key),className:`flex-1 py-2 rounded-xl text-xs font-semibold transition-all tap-highlight ${O===X.key?"bg-white/10 text-white":"text-white/35 hover:text-white/60"}`,children:X.label},X.key))}),b?f.jsx("div",{className:"flex justify-center py-16",children:f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):f.jsxs(f.Fragment,{children:[O==="pending"&&f.jsx("div",{className:"space-y-3",children:$.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-3xl mb-3",children:""}),f.jsxs("p",{className:"text-white/30 text-sm",children:["No pending debts from ",s.name]})]}):$.map(X=>{const ee=X.transactions,me=X.txn_tags||[],Ve=X.is_previous_debt;return f.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-0.5",children:[f.jsx("p",{className:"text-sm font-semibold text-white",children:ee?.title||X.title||"Previous debt"}),Ve&&f.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-semibold",style:{background:"rgba(167,139,250,0.12)",border:"1px solid rgba(167,139,250,0.2)",color:"#c4b5fd"},children:"Past"})]}),f.jsxs("p",{className:"text-xs text-white/30 mt-0.5",children:[ee?.date&&new Date(ee.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),X.created_at&&!ee?.date&&new Date(X.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),me.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:me.map(Ue=>f.jsx(hl,{tag:Ue,small:!0},Ue.id))})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[f.jsx("span",{className:"text-lg font-black text-amber-300",children:Te(X.amount)}),f.jsx("button",{onClick:async()=>{await r(X.id),y(Ue=>Ue.map(B=>B.id===X.id?{...B,is_settled:!0,settled_at:new Date().toISOString()}:B))},className:"text-xs bg-emerald-400/12 hover:bg-emerald-400/20 active:scale-95 text-emerald-400 border border-emerald-400/20 px-3 py-2 rounded-xl transition-all font-bold whitespace-nowrap tap-highlight",children:" Collected"})]})]})},X.id)})}),O==="history"&&f.jsx("div",{className:"space-y-2",children:Q.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-3xl mb-3",children:""}),f.jsx("p",{className:"text-white/30 text-sm",children:"No settled debts yet"})]}):Q.map(X=>{const ee=X.transactions,me=X.is_previous_debt;return f.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-2xl px-4 py-3 opacity-50",style:{background:"rgba(255,255,255,0.02)"},children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-sm text-white line-through",children:ee?.title||X.title||"Previous debt"}),me&&f.jsx("span",{className:"text-[10px] text-violet-300/60",children:"Past"})]}),f.jsx("p",{className:"text-xs text-white/30",children:X.settled_at&&new Date(X.settled_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),f.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[f.jsx("span",{className:"text-sm text-white/30 line-through",children:Te(X.amount)}),f.jsx("span",{className:"text-[10px] text-emerald-400/60 bg-emerald-400/8 px-2 py-0.5 rounded-full border border-emerald-400/15",children:"Settled"})]})]},X.id)})}),O==="add-prev"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(167,139,250,0.05)",border:"1px solid rgba(167,139,250,0.15)"},children:[f.jsx("p",{className:"text-sm font-semibold text-violet-300 mb-1",children:" What are past debts?"}),f.jsxs("p",{className:"text-xs text-white/40 leading-relaxed",children:["Record old debts that existed before you started using Spendly. These ",f.jsx("strong",{className:"text-white/60",children:"won't affect your balance or analytics"}),"  they only appear in this friend's debt list."]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"What was it for?"}),f.jsx("input",{className:At,placeholder:"e.g. Borrowed for petrol, Old dinner bill...",value:E.title,onChange:X=>U(ee=>({...ee,title:X.target.value})),style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Amount ()"}),f.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"0",value:E.amount,onChange:X=>U(ee=>({...ee,amount:X.target.value})),style:{fontSize:"16px"}})]}),K&&f.jsx("p",{className:"text-xs text-red-400 px-1",children:K}),f.jsxs("button",{onClick:ne,disabled:I,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2 tap-highlight",style:{background:"linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)",color:"#fff",boxShadow:"0 4px 20px rgba(139,92,246,0.25)"},children:[I&&f.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Add Past Debt for ",s.name]})]})]})]})]})}):null};function D_(){const{user:s,signOut:n}=fo(),l=El(),r=s?.user_metadata?.full_name||s?.email?.split("@")[0]||"User";R.useEffect(()=>{Rp()},[]);const[u,d]=R.useState(null),[h,m]=R.useState([]),[p,y]=R.useState([]),[b,x]=R.useState([]),[w,S]=R.useState([]),[O,A]=R.useState([]),[E,U]=R.useState([]),[K,q]=R.useState(!0),[I,ae]=R.useState(!1),[$,Q]=R.useState(!1),[pe,z]=R.useState(!1),[ne,X]=R.useState(!1),[ee,me]=R.useState(!1),[Ve,Ue]=R.useState(!1),[B,P]=R.useState(null),[ce,Ce]=R.useState(!1),[be,T]=R.useState(""),[V,Z]=R.useState("add"),[F,re]=R.useState({title:"",totalAmount:"",myAmount:"",category:"General",note:"",date:new Date().toISOString().slice(0,10)}),[xe,Re]=R.useState([]),[Je,Ye]=R.useState([]),[Qa,Lt]=R.useState(""),[ls,rs]=R.useState(!1),[ra,os]=R.useState(""),[us,Nl]=R.useState(""),[li,On]=R.useState(""),[pt,Ia]=R.useState({title:"",amount:"",totalMonths:""}),[Al,Pa]=R.useState(""),[ft,Ol]=R.useState(""),[ri,oi]=R.useState(!1),[Za,ui]=R.useState(""),[Rn,ci]=R.useState(!1),yt=R.useCallback(async()=>{if(!s)return;q(!0);const[j,J,W,he,Ae,Oe,ze]=await Promise.all([o_(s.id),p_(s.id),f_(s.id),c_(s.id),x_(s.id),S_(s.id),j_(s.id)]);d(j.data),m(J.data),y(W.data),x(he.data),S(Ae.data),A(Oe.data),U(ze.data),q(!1),oi(!1)},[s]);R.useEffect(()=>{yt()},[yt]);const Ea=u?Number(u.amount):0,Ot=O.reduce((j,J)=>j+Number(J.amount),0),at=Ea+Ot,mt=w.reduce((j,J)=>j+Number(J.amount),0),cs=E.reduce((j,J)=>{const W=(J.emi_payments||[]).find(he=>he.month===ct&&he.year===Et);return j+(W?Number(W.amount):0)},0),Cn=h.reduce((j,J)=>{const W=Number(J.my_amount);return W<0?j+W:j+Number(J.total_amount)},0),jt=at-Cn,kn=jt+mt,Bt=at>0?Math.min(Cn/at*100,100):0,Dn=O.filter(j=>j.title.startsWith("[Savings]")).reduce((j,J)=>j+Number(J.amount),0),ga=j=>(j.emi_payments||[]).length,Fa=j=>(j.emi_payments||[]).some(J=>J.month===ct&&J.year===Et),Wa=async()=>{const j=parseFloat(be);if(!(!be||isNaN(j)||j<=0))if(V==="add"){const J=Ea>0?"Salary added":"Opening balance",{error:W}=await Gg(s.id,J,j);W||(ae(!1),T(""),yt())}else{const{data:J}=await u_(s.id,j);J&&(d(J),ae(!1),T(""),yt())}},mo=async()=>{if(jt<=0)return;const j=Za.trim()?`[Savings] ${Za.trim()}`:`[Savings] Carried from ${Wn[ct-1]} ${Et}`,{error:J}=await Gg(s.id,j,jt);J||(Ce(!1),ui(""),ci(!1),yt())},di=async(j,J)=>{const{data:W,error:he}=await d_(s.id,j,J);return!he&&W?(x(Ae=>[...Ae,W].sort((Oe,ze)=>Oe.name.localeCompare(ze.name))),W):null},hi=async j=>{await h_(j),x(J=>J.filter(W=>W.id!==j))},pa=()=>{re({title:"",totalAmount:"",myAmount:"",category:"General",note:"",date:new Date().toISOString().slice(0,10)}),Ye([]),Lt(""),Re([])},fi=(j,J)=>{const W=J.reduce((he,Ae)=>he+(parseFloat(Ae.amount)||0),0);return String(Math.max(0,(parseFloat(j)||0)-W))},Rl=j=>{re(J=>({...J,totalAmount:j,myAmount:fi(j,Je)}))},Cl=()=>Ye(j=>[...j,{friendId:"",amount:""}]),mi=(j,J,W)=>{const he=Je.map((Ae,Oe)=>Oe===j?{...Ae,[J]:W}:Ae);Ye(he),J==="amount"&&re(Ae=>({...Ae,myAmount:fi(Ae.totalAmount,he)}))},gi=j=>{const J=Je.filter((W,he)=>he!==j);Ye(J),re(W=>({...W,myAmount:fi(W.totalAmount,J)}))},pi=async()=>{Lt("");const j=parseFloat(F.totalAmount),J=parseFloat(F.myAmount);if(!F.title.trim())return Lt("Title is required");if(isNaN(j)||j<=0)return Lt("Enter a valid total amount");if(isNaN(J)||J<0)return Lt("My share is invalid");if(J>j)return Lt("Your share can't exceed total");const W=Je.reduce((ze,we)=>ze+(parseFloat(we.amount)||0),0);if(Je.length>0&&Math.abs(W+J-j)>.01)return Lt(`Shares don't add up  ${Te(J)} + ${Te(W)}  ${Te(j)}`);rs(!0);const{data:he,error:Ae}=await y_(s.id,{...F,totalAmount:j,myAmount:J,month:ct,year:Et},xe);if(Ae){Lt(Ae.message),rs(!1);return}const Oe=Je.filter(ze=>ze.friendId&&parseFloat(ze.amount)>0).map(ze=>({user_id:s.id,transaction_id:he.id,friend_id:ze.friendId,amount:parseFloat(ze.amount)}));Oe.length&&await b_(Oe),rs(!1),Q(!1),pa(),yt()},yi=async()=>{if(On(""),!ra.trim())return On("Name is required");const{data:j,error:J}=await m_(s.id,ra.trim(),us.trim());if(J)return On(J.message);y(W=>[...W,j].sort((he,Ae)=>he.name.localeCompare(Ae.name))),os(""),Nl("")},kl=async j=>{await g_(j),y(J=>J.filter(W=>W.id!==j))},It=async j=>{await w_(j),yt()},nt=async j=>{await __(s.id,j),yt()},Tt=async(j,J,W)=>{const{supabase:he}=await r_(async()=>{const{supabase:Ae}=await Promise.resolve().then(()=>n_);return{supabase:Ae}},[]);await he.from("debts").insert({user_id:s.id,friend_id:j,transaction_id:null,amount:W,title:J,is_previous_debt:!0,is_settled:!1}),yt()},en=async()=>{if(Pa(""),!pt.title.trim())return Pa("Title is required");if(!pt.amount||isNaN(pt.amount)||parseFloat(pt.amount)<=0)return Pa("Enter a valid amount");if(!pt.totalMonths||isNaN(pt.totalMonths)||parseInt(pt.totalMonths)<=0)return Pa("Enter valid number of months");const{error:j}=await T_(s.id,pt.title.trim(),parseFloat(pt.amount),parseInt(pt.totalMonths));if(j)return Pa(j.message);Ia({title:"",amount:"",totalMonths:""}),Pa(""),yt()},ds=async j=>{Ol(j.id),Fa(j)?await O_(j.id):await A_(s.id,j.id,Number(j.amount),j.title),Ol(""),yt()},go=async j=>{await N_(j),yt()},po=async()=>{await n(),l("/login")};return f.jsxs("div",{className:"min-h-screen text-white tap-highlight",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #06060e 0%, #0c0c1a 50%, #070710 100%)",minHeight:"100dvh"},children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:0},children:[f.jsx("div",{style:{position:"absolute",top:"-15%",left:"-10%",width:"70vw",height:"70vw",maxWidth:600,maxHeight:600,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.05) 0%, transparent 70%)",filter:"blur(60px)"}}),f.jsx("div",{style:{position:"absolute",top:"35%",right:"-15%",width:"55vw",height:"55vw",maxWidth:450,maxHeight:450,borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.04) 0%, transparent 70%)",filter:"blur(60px)"}}),f.jsx("div",{style:{position:"absolute",bottom:"10%",left:"15%",width:"45vw",height:"45vw",maxWidth:350,maxHeight:350,borderRadius:"50%",background:"radial-gradient(circle, rgba(251,191,36,0.03) 0%, transparent 70%)",filter:"blur(60px)"}})]}),f.jsxs("nav",{className:"sticky top-0 z-40 flex items-center justify-between",style:{background:"rgba(6,6,14,0.85)",backdropFilter:"blur(32px)",WebkitBackdropFilter:"blur(32px)",borderBottom:"1px solid rgba(255,255,255,0.06)",paddingTop:"max(12px, env(safe-area-inset-top))",paddingBottom:"12px",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[f.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[f.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center font-black text-base shrink-0",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#06060e",boxShadow:"0 4px 16px rgba(52,211,153,0.3)"},children:""}),f.jsxs("div",{className:"min-w-0 leading-none",children:[f.jsx("div",{className:"font-bold tracking-tight text-sm text-white",children:"Spendly"}),f.jsxs("div",{className:"text-[10px] text-white/25 font-medium mt-0.5",children:[Wn[ct-1]," ",Et]})]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[f.jsx("button",{onClick:()=>me(!0),className:"hidden sm:flex items-center gap-1.5 text-xs text-white/45 hover:text-white px-3 py-2 rounded-xl transition-all",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:" Tags"}),f.jsx("button",{onClick:()=>Ue(!0),className:`hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all ${E.length>0?"text-violet-300 border-violet-400/15":"text-white/45 border-white/7"}`,style:{background:E.length>0?"rgba(167,139,250,0.07)":"rgba(255,255,255,0.05)"},children:" EMIs"}),f.jsx("button",{onClick:()=>z(!0),className:"hidden sm:flex items-center gap-1.5 text-xs text-white/45 hover:text-white px-3 py-2 rounded-xl transition-all",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:" Friends"}),f.jsxs("button",{onClick:()=>X(!0),className:`hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all ${w.length>0?"text-amber-300 border-amber-400/15":"text-white/45 border-white/7"}`,style:{background:w.length>0?"rgba(251,191,36,0.07)":"rgba(255,255,255,0.05)"},children:[" Debts",w.length>0&&f.jsx("span",{className:"bg-amber-400 text-[#06060e] text-[10px] font-black px-1.5 py-0.5 rounded-full",children:w.length})]}),f.jsx("button",{onClick:()=>l("/analytics"),className:"hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all text-violet-300 border-violet-400/15",style:{background:"rgba(167,139,250,0.07)"},children:" Analytics"}),f.jsx("div",{className:"hidden sm:block w-px h-4 bg-white/10 mx-1"}),f.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-emerald-400 text-xs font-black shrink-0",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:r.charAt(0).toUpperCase()}),f.jsx("button",{onClick:po,className:"text-xs text-white/35 hover:text-white/60 transition-colors font-medium tap-highlight",style:{minWidth:40,minHeight:40,display:"flex",alignItems:"center",justifyContent:"center"},children:"Out"})]})]}),f.jsx("main",{className:"relative z-10 max-w-2xl mx-auto px-3 sm:px-4 py-4 sm:py-6 space-y-3 sm:space-y-4",style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 32px)"},children:K?f.jsx("div",{className:"flex justify-center py-32",children:f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-5 sm:p-6",style:{background:"linear-gradient(145deg, rgba(14,26,20,0.97) 0%, rgba(9,12,18,0.99) 100%)",border:"1px solid rgba(52,211,153,0.12)",boxShadow:"0 24px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.06), 0 0 0 1px rgba(52,211,153,0.04) inset"},children:[f.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 rounded-full pointer-events-none",style:{background:"radial-gradient(circle, rgba(52,211,153,0.10) 0%, transparent 70%)",filter:"blur(30px)"}}),f.jsxs("div",{className:"flex items-start justify-between mb-5 relative",children:[f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsxs("p",{className:"text-[9px] font-bold text-emerald-400/50 uppercase tracking-[0.25em] mb-2.5",children:[Wn[ct-1]," ",Et,"  Balance"]}),f.jsx("p",{className:`text-4xl sm:text-5xl font-black tracking-tight leading-none ${jt<0?"text-red-400":"text-white"}`,children:at>0?wa(jt):f.jsx("span",{className:"text-white/15 text-2xl",children:"Set salary "})}),at>0&&f.jsxs("p",{className:"text-xs text-white/25 mt-2 flex flex-wrap items-center gap-1.5",children:[f.jsxs("span",{children:["of ",wa(at)]}),Dn>0&&f.jsxs("span",{className:"text-emerald-400/50",children:["incl. ",wa(Dn)," savings"]}),f.jsx("span",{className:"text-white/12",children:""}),f.jsxs("span",{className:"text-white/30",children:["spent ",wa(Math.max(Cn,0))]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 items-end ml-3 shrink-0",children:[f.jsx("button",{onClick:()=>{T(""),Z("add"),ae(!0)},className:"text-xs px-3.5 py-2.5 rounded-xl font-bold transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"},children:Ea>0?" Salary":"+ Salary"}),jt>0&&at>0&&f.jsx("button",{onClick:()=>Ce(!0),className:"text-xs px-3.5 py-2 rounded-xl font-bold transition-all active:scale-95 tap-highlight",style:{background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.15)",color:"#fbbf24"},children:" Save"})]})]}),at>0&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[f.jsxs("span",{className:"text-white/30 font-medium",children:[Bt.toFixed(0),"% used",cs>0&&f.jsxs("span",{className:"text-violet-300/50 ml-1",children:["+",wa(cs)," EMI"]})]}),f.jsxs("span",{className:`font-semibold text-xs ${Bt>85?"text-red-400":Bt>60?"text-amber-400":"text-emerald-400/60"}`,children:[wa(Math.max(Cn,0))," / ",wa(at)]})]}),f.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.05)"},children:f.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Bt}%`,background:Bt>85?"linear-gradient(90deg, #f87171, #ef4444)":Bt>60?"linear-gradient(90deg, #fbbf24, #f59e0b)":"linear-gradient(90deg, #34d399, #10b981)",boxShadow:Bt>85?"0 0 10px rgba(248,113,113,0.4)":Bt>60?"0 0 10px rgba(251,191,36,0.4)":"0 0 10px rgba(52,211,153,0.35)"}})})]}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"To Collect",val:wa(mt),color:"#fbbf24",border:"rgba(251,191,36,0.15)",bg:"rgba(251,191,36,0.05)",onClick:()=>X(!0)},{label:"If Collected",val:wa(kn),color:kn<0?"#f87171":"#34d399",border:"rgba(52,211,153,0.12)",bg:"rgba(52,211,153,0.04)",onClick:null},{label:"EMI / Mo",val:cs>0?wa(cs):"",color:"#a78bfa",border:"rgba(167,139,250,0.15)",bg:"rgba(167,139,250,0.05)",onClick:()=>Ue(!0)}].map(({label:j,val:J,color:W,border:he,bg:Ae,onClick:Oe})=>f.jsxs("button",{onClick:Oe,disabled:!Oe,className:"rounded-2xl p-3 text-center transition-all tap-highlight",style:{background:Ae,border:`1px solid ${he}`},children:[f.jsx("p",{className:"text-[9px] font-bold text-white/25 uppercase tracking-[0.15em] mb-1",children:j}),f.jsx("p",{className:"text-sm font-black truncate",style:{color:W},children:J})]},j))})]}),at===0&&f.jsx("button",{onClick:()=>{T(""),Z("add"),ae(!0)},className:"w-full mt-2 py-4 text-sm font-bold rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:" Set this month's salary"})]}),f.jsx("div",{className:"grid grid-cols-5 gap-1.5 sm:hidden",children:[{icon:"",label:"Tags",fn:()=>me(!0),active:!1},{icon:"",label:"Friends",fn:()=>z(!0),active:!1},{icon:"",label:`Debts${w.length>0?` ${w.length}`:""}`,fn:()=>X(!0),active:w.length>0},{icon:"",label:"EMIs",fn:()=>Ue(!0),active:E.length>0},{icon:"",label:"Stats",fn:()=>l("/analytics"),active:!0}].map(({icon:j,label:J,fn:W,active:he})=>f.jsxs("button",{onClick:W,className:"py-3.5 rounded-2xl text-center transition-all active:scale-95 tap-highlight",style:{background:he?"rgba(167,139,250,0.09)":"rgba(255,255,255,0.04)",border:he?"1px solid rgba(167,139,250,0.18)":"1px solid rgba(255,255,255,0.06)"},children:[f.jsx("div",{className:"text-base leading-none",children:j}),f.jsx("div",{className:`text-[9px] font-bold mt-1.5 ${he?"text-violet-300":"text-white/35"}`,children:J})]},J))}),w.length>0&&f.jsxs("div",{className:"rounded-3xl p-4 space-y-2.5",style:{background:"rgba(251,191,36,0.04)",border:"1px solid rgba(251,191,36,0.12)"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("p",{className:"text-sm font-bold text-amber-300 flex items-center gap-2",children:[" Pending",f.jsx("span",{className:"text-[10px] font-black bg-amber-400/15 border border-amber-400/20 text-amber-300 px-2 py-0.5 rounded-full",children:w.length})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-amber-300 text-sm",children:Te(mt)}),f.jsx("button",{onClick:()=>X(!0),className:"text-xs text-amber-300/40 hover:text-amber-300 transition-colors font-medium",children:"See all "})]})]}),w.slice(0,3).map(j=>{const J=j.txn_tags||[];return f.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-3.5 py-3 gap-3",style:{background:"rgba(0,0,0,0.25)"},children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-semibold text-white",children:j.friends?.name}),f.jsx("p",{className:"text-xs text-white/25 truncate",children:j.transactions?.title||j.title||"Previous debt"}),J.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:J.map(W=>f.jsx(hl,{tag:W,small:!0},W.id))})]}),f.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[f.jsx("span",{className:"text-sm font-bold text-amber-300",children:Te(j.amount)}),f.jsx("button",{onClick:()=>It(j.id),className:"w-9 h-9 flex items-center justify-center text-emerald-400 rounded-xl active:scale-90 transition-all tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:""})]})]},j.id)})]}),E.length>0&&f.jsxs("div",{className:"rounded-3xl p-4 space-y-2.5",style:{background:"rgba(139,92,246,0.04)",border:"1px solid rgba(139,92,246,0.12)"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("p",{className:"text-sm font-bold text-violet-300",children:" Running EMIs"}),f.jsx("button",{onClick:()=>Ue(!0),className:"text-xs text-violet-300/40 hover:text-violet-300 transition-colors font-medium",children:"Manage "})]}),E.map(j=>{const J=ga(j),W=Fa(j),he=j.total_months-J;return f.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-3.5 py-3 gap-3",style:{background:"rgba(0,0,0,0.25)"},children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-semibold text-white",children:j.title}),f.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[f.jsxs("p",{className:"text-xs text-white/25",children:[Te(j.amount),"/mo  ",J,"/",j.total_months]}),he>0&&f.jsxs("p",{className:"text-xs text-violet-300/45",children:[he," left"]}),he===0&&f.jsx("p",{className:"text-xs text-emerald-400/60",children:"Done "})]}),f.jsx("div",{className:"flex gap-0.5 mt-2 flex-wrap",children:Array.from({length:j.total_months}).map((Ae,Oe)=>f.jsx("div",{className:"w-2 h-2 rounded-full transition-all",style:{background:Oe<J||Oe===J&&W?"#34d399":"rgba(255,255,255,0.08)"}},Oe))})]}),f.jsx("button",{onClick:()=>ds(j),disabled:ft===j.id||he===0,className:"shrink-0 text-xs font-bold px-3 py-2.5 rounded-xl transition-all active:scale-95 disabled:opacity-40 tap-highlight",style:W?{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"}:{background:"rgba(167,139,250,0.10)",border:"1px solid rgba(167,139,250,0.18)",color:"#c4b5fd"},children:ft===j.id?f.jsx("span",{className:"w-3.5 h-3.5 border-2 border-current/30 border-t-current rounded-full animate-spin inline-block"}):W?" Paid":"Pay"})]},j.id)})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-base text-white",children:"Transactions"}),h.length>0&&f.jsxs("p",{className:"text-xs text-white/20 mt-0.5",children:[h.length," this month"]})]}),f.jsx("button",{onClick:()=>{pa(),Q(!0)},className:"flex items-center gap-1.5 font-bold text-sm px-4 py-2.5 rounded-2xl transition-all active:scale-95 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 16px rgba(52,211,153,0.22)"},children:"+ Add"})]}),h.length===0?f.jsxs("div",{className:"rounded-3xl p-12 flex flex-col items-center text-center",style:{border:"1px dashed rgba(255,255,255,0.07)"},children:[f.jsx("p",{className:"text-3xl mb-3",children:""}),f.jsx("p",{className:"text-white/25 text-sm mb-3",children:"No expenses this month"}),f.jsx("button",{onClick:()=>{pa(),Q(!0)},className:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors font-medium tap-highlight",children:"Add your first "})]}):f.jsx("div",{className:"space-y-2",children:(ri?h:h.slice(0,15)).map(j=>{const J=j.debts?.filter(we=>!we.is_settled)||[],W=J.reduce((we,Un)=>we+Number(Un.amount),0),he=j.txn_tags||[],Ae=!!j.emi_id,Oe=Number(j.my_amount)<0,ze=Math.abs(Number(j.my_amount));return f.jsxs("div",{className:"group flex items-start gap-3 rounded-2xl px-4 py-3.5 transition-all",style:{background:Oe?"rgba(52,211,153,0.04)":"rgba(255,255,255,0.025)",border:Oe?"1px solid rgba(52,211,153,0.10)":"1px solid rgba(255,255,255,0.05)"},children:[f.jsx("div",{className:"text-xl shrink-0 mt-0.5",children:Oe?"":Ae?"":R_[j.category]||""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[f.jsx("p",{className:"font-semibold text-sm text-white",children:j.title}),Oe&&f.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"},children:"Collected"}),Ae&&f.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold",style:{background:"rgba(167,139,250,0.10)",border:"1px solid rgba(167,139,250,0.18)",color:"#c4b5fd"},children:"EMI"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-0.5 text-xs text-white/25 mb-1.5",children:[f.jsx("span",{children:new Date(j.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),!Oe&&j.total_amount!==j.my_amount&&f.jsxs("span",{children:["paid ",Te(j.total_amount)]}),W>0&&f.jsxs("span",{className:"text-amber-300/60",children:[J.map(we=>we.friends?.name).join(", ")," owe",J.length===1?"s":""," ",Te(W)]}),j.note&&f.jsx("span",{className:"italic text-white/15",children:j.note})]}),he.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1",children:he.map(we=>f.jsx(hl,{tag:we,small:!0},we.id))})]}),f.jsxs("div",{className:"flex items-start gap-2 shrink-0 mt-0.5",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-sm font-bold",style:{color:Oe?"#34d399":"rgba(255,255,255,0.85)"},children:[Oe?"+":"",Te(ze)]}),!Oe&&j.total_amount!==j.my_amount&&f.jsxs("p",{className:"text-[10px] text-white/18",children:["of ",Te(j.total_amount)]})]}),!Ae&&!Oe&&f.jsx("button",{onClick:()=>{window.confirm("Delete this transaction?")&&v_(j.id).then(yt)},className:"opacity-0 group-hover:opacity-100 text-white/15 hover:text-red-400 text-xl transition-all leading-none mt-0.5 tap-highlight",children:""})]})]},j.id)})}),h.length>15&&f.jsx("button",{onClick:()=>oi(j=>!j),className:"w-full mt-2 py-3 text-xs font-semibold text-white/35 hover:text-white/60 transition-all rounded-2xl tap-highlight",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)"},children:ri?" Show less":`${h.length-15} more  Show all`})]})]})}),f.jsx(jn,{open:I,onClose:()=>{ae(!1),T("")},title:" Balance",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.12)"},children:[f.jsx("p",{className:"text-[9px] font-bold text-emerald-400/50 uppercase tracking-[0.15em] mb-1",children:"Current Balance"}),f.jsx("p",{className:`text-3xl font-black ${jt<0?"text-red-400":"text-white"}`,children:Te(jt)}),f.jsxs("p",{className:"text-xs text-white/20 mt-1",children:["In: ",Te(at),"  Spent: ",Te(Math.max(Cn,0))]})]}),f.jsx("div",{className:"flex gap-1 p-1 rounded-2xl",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)"},children:[{key:"add",label:"+ Add Money"},{key:"set",label:" Set Exact"}].map(j=>f.jsx("button",{onClick:()=>{Z(j.key),T("")},className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition-all tap-highlight ${V===j.key?"bg-emerald-400 text-[#06060e]":"text-white/35 hover:text-white/60"}`,children:j.label},j.key))}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:ot,children:V==="add"?"Amount to Add ()":"Set Base Salary ()"}),f.jsx("input",{className:At,type:"number",inputMode:"numeric",placeholder:"e.g. 45000",value:be,onChange:j=>T(j.target.value),autoFocus:!0,onKeyDown:j=>j.key==="Enter"&&Wa(),style:{fontSize:"16px"}})]}),V==="add"&&be&&!isNaN(parseFloat(be))&&parseFloat(be)>0&&f.jsxs("div",{className:"rounded-xl px-4 py-2.5 text-xs",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.10)"},children:[f.jsx("span",{className:"text-white/25",children:"New balance "}),f.jsx("span",{className:"text-emerald-400 font-bold",children:Te(jt+parseFloat(be))})]}),f.jsx("button",{onClick:Wa,disabled:!be||isNaN(parseFloat(be))||parseFloat(be)<=0,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:V==="add"?`Add ${be?Te(parseFloat(be)||0):"0"} to Balance`:"Set Salary"}),O.length>0&&f.jsxs("div",{className:"space-y-2 pt-1",children:[f.jsx("p",{className:ot,children:"Income This Month"}),O.map(j=>f.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-4 py-3",style:{background:"rgba(255,255,255,0.03)"},children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm font-semibold text-white",children:[j.title.replace("[Savings] ",""),j.title.startsWith("[Savings]")&&f.jsx("span",{className:"ml-1.5 text-[10px] text-emerald-400/60 bg-emerald-400/8 px-1.5 py-0.5 rounded-full border border-emerald-400/15",children:"Savings"})]}),f.jsx("p",{className:"text-xs text-white/20",children:new Date(j.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),f.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[f.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:["+",Te(j.amount)]}),f.jsx("button",{onClick:()=>E_(j.id).then(yt),className:"text-white/18 hover:text-red-400 transition-colors text-xl leading-none tap-highlight",children:""})]})]},j.id))]})]})}),f.jsx(jn,{open:ce,onClose:()=>{Ce(!1),ui(""),ci(!1)},title:" Carry as Savings",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.12)"},children:[f.jsx("p",{className:"text-xs text-white/35 mb-1",children:"Amount to carry forward"}),f.jsx("p",{className:"text-3xl font-black text-emerald-400",children:Te(jt)}),f.jsx("p",{className:"text-xs text-white/25 mt-1",children:"This will be added to your next month's balance as savings"})]}),f.jsxs("div",{className:"rounded-2xl p-4 space-y-1",style:{background:"rgba(251,191,36,0.05)",border:"1px solid rgba(251,191,36,0.12)"},children:[f.jsx("p",{className:"text-xs font-bold text-amber-300",children:" How this works"}),f.jsxs("p",{className:"text-xs text-white/35 leading-relaxed",children:["Your remaining balance of ",f.jsx("strong",{className:"text-white/60",children:Te(jt)}),` will be added as income in next month's balance under the label "Savings carried from `,Wn[ct-1],`". Your current month's spent/balance stays unchanged.`]})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Custom label (optional)"}),f.jsx("input",{className:At,placeholder:'e.g. "Saving up for trip"',value:Za,onChange:j=>ui(j.target.value),style:{fontSize:"16px"}})]}),f.jsxs("label",{className:"flex items-start gap-3 cursor-pointer tap-highlight",children:[f.jsx("div",{onClick:()=>ci(j=>!j),className:"w-5 h-5 rounded-md mt-0.5 flex items-center justify-center shrink-0 transition-all",style:{background:Rn?"#34d399":"rgba(255,255,255,0.06)",border:Rn?"none":"1px solid rgba(255,255,255,0.15)"},children:Rn&&f.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",children:f.jsx("path",{d:"M1 4L4 7L9 1",stroke:"#06060e",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsxs("span",{className:"text-xs text-white/40 leading-relaxed",children:["I understand this will add ",Te(jt)," to my balance for next month"]})]}),f.jsxs("button",{onClick:mo,disabled:!Rn||jt<=0,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:["Carry ",Te(jt)," as Savings "]})]})}),f.jsx(jn,{open:$,onClose:()=>{Q(!1),pa()},title:"Add Expense",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Title *"}),f.jsx("input",{className:At,type:"text",placeholder:"e.g. Dinner at Pizza Hut",value:F.title,onChange:j=>re(J=>({...J,title:j.target.value})),autoFocus:!0,style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Total Amount () *"}),f.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"0",value:F.totalAmount,onChange:j=>Rl(j.target.value),style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Date"}),f.jsx("input",{className:At,type:"date",value:F.date,onChange:j=>re(J=>({...J,date:j.target.value})),style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Tags"}),f.jsx(Yg,{allTags:b,selectedIds:xe,onChange:Re,onCreateTag:di})]}),f.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:ot,style:{margin:0},children:"Split with Friends"}),p.length>0?f.jsx("button",{type:"button",onClick:Cl,className:"text-xs font-bold text-emerald-400 px-3 py-1.5 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.16)"},children:"+ Add"}):f.jsx("button",{type:"button",onClick:()=>{Q(!1),z(!0)},className:"text-xs text-white/25 hover:text-emerald-400 transition-colors tap-highlight",children:"Add friends first "})]}),Je.map((j,J)=>f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx(C_,{friends:p,value:j.friendId,onChange:W=>mi(J,"friendId",W),placeholder:"Select friend"}),f.jsx("input",{className:`${At} w-28 shrink-0`,type:"number",inputMode:"decimal",placeholder:" share",value:j.amount,onChange:W=>mi(J,"amount",W.target.value),style:{fontSize:"16px"}}),f.jsx("button",{onClick:()=>gi(J),className:"w-9 h-9 flex items-center justify-center text-white/20 hover:text-red-400 text-xl transition-colors rounded-xl tap-highlight",style:{background:"rgba(255,255,255,0.04)"},children:""})]},J)),Je.length>0&&f.jsxs("div",{className:"pt-2 border-t border-white/5",children:[f.jsx("label",{className:ot,children:"My Share (auto)"}),f.jsx("input",{className:At,type:"number",inputMode:"decimal",value:F.myAmount,onChange:j=>re(J=>({...J,myAmount:j.target.value})),placeholder:"Auto",style:{fontSize:"16px",borderColor:"rgba(52,211,153,0.25)",background:"rgba(52,211,153,0.04)",color:"#6ee7b7"}})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Note (optional)"}),f.jsx("input",{className:At,type:"text",placeholder:"Any details...",value:F.note,onChange:j=>re(J=>({...J,note:j.target.value})),style:{fontSize:"16px"}})]}),Qa&&f.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm text-red-400 font-medium",style:{background:"rgba(248,113,113,0.07)",border:"1px solid rgba(248,113,113,0.18)"},children:Qa}),F.totalAmount&&f.jsxs("div",{className:"rounded-2xl px-4 py-3 space-y-2 text-xs",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.06)"},children:[f.jsx("p",{className:ot,style:{margin:"0 0 6px"},children:"Summary"}),f.jsxs("div",{className:"flex justify-between text-white/30",children:[f.jsx("span",{children:"Total paid"}),f.jsx("span",{className:"text-white font-bold",children:Te(F.totalAmount||0)})]}),f.jsxs("div",{className:"flex justify-between text-white/30",children:[f.jsx("span",{children:"Your share"}),f.jsx("span",{className:"text-emerald-400 font-bold",children:Te(F.myAmount||F.totalAmount||0)})]}),Je.filter(j=>j.amount&&j.friendId).map((j,J)=>{const W=p.find(he=>he.id===j.friendId);return f.jsxs("div",{className:"flex justify-between text-white/30",children:[f.jsxs("span",{children:[W?.name||"Friend"," owes"]}),f.jsx("span",{className:"text-amber-300 font-bold",children:Te(j.amount)})]},J)})]}),f.jsxs("button",{onClick:pi,disabled:ls,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:[ls&&f.jsx("span",{className:"w-4 h-4 border-2 border-[#06060e]/30 border-t-[#06060e] rounded-full animate-spin"}),"Save Expense"]})]})}),f.jsx(jn,{open:ee,onClose:()=>me(!1),title:" Manage Tags",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-white/35 leading-relaxed",children:"Tags help you categorise and filter your expenses across the app."}),b.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(j=>f.jsx(hl,{tag:j,onRemove:hi},j.id))}),f.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:f.jsx(Yg,{allTags:b,selectedIds:[],onChange:()=>{},onCreateTag:di})})]})}),f.jsx(jn,{open:pe,onClose:()=>z(!1),title:" Friends",fullMobile:!0,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[f.jsx("p",{className:ot,children:"Add New Friend"}),f.jsx("input",{className:At,placeholder:"Name *",value:ra,onChange:j=>os(j.target.value),onKeyDown:j=>j.key==="Enter"&&yi(),style:{fontSize:"16px"}}),f.jsx("input",{className:At,placeholder:"Email (optional)",value:us,onChange:j=>Nl(j.target.value),style:{fontSize:"16px"}}),f.jsx("button",{onClick:yi,className:"w-full py-3.5 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e"},children:"Add Friend"}),li&&f.jsx("p",{className:"text-red-400 text-xs",children:li})]}),p.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-3xl mb-3",children:""}),f.jsx("p",{className:"text-white/25 text-sm",children:"No friends added yet"})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:ot,children:[p.length," Friend",p.length!==1?"s":""]}),p.map(j=>{const J=w.filter(W=>W.friend_id===j.id).reduce((W,he)=>W+Number(he.amount),0);return f.jsx("div",{className:"rounded-2xl px-4 py-3.5",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-black shrink-0",style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.10)"},children:j.name.charAt(0).toUpperCase()}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"text-sm font-semibold truncate text-white",children:j.name}),j.email&&f.jsx("p",{className:"text-xs text-white/25 truncate",children:j.email})]})]}),J>0&&f.jsxs("p",{className:"text-xs text-amber-300 font-bold mt-2",children:["Owes ",Te(J)]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[f.jsx("button",{onClick:()=>{z(!1),P(j)},className:"text-xs font-bold text-emerald-400 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.15)"},children:"Debts"}),J>0&&f.jsx("button",{onClick:async()=>{window.confirm(`Collect all from ${j.name}? (${Te(J)})`)&&await nt(j.id)},className:"text-xs font-bold text-amber-300 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.15)"},children:" All"}),f.jsx("button",{onClick:()=>kl(j.id),className:"w-8 h-8 flex items-center justify-center text-white/18 hover:text-red-400 transition-colors text-lg tap-highlight",children:""})]})]})},j.id)})]})]})}),f.jsx(jn,{open:ne,onClose:()=>X(!1),title:" Pending Debts",fullMobile:!0,children:f.jsx("div",{className:"space-y-3",children:w.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("p",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-white/30 text-sm",children:"All clear  no pending debts!"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between pb-3",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[f.jsxs("span",{className:"text-xs text-white/30 font-medium",children:[w.length," pending"]}),f.jsxs("span",{className:"text-amber-300 font-bold text-sm",children:[Te(mt)," to collect"]})]}),w.map(j=>{const J=j.txn_tags||[];return f.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-2xl px-4 py-3.5",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.06)"},children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-semibold text-white",children:j.friends?.name}),f.jsx("p",{className:"text-xs text-white/25",children:j.transactions?.title||j.title||"Previous debt"}),f.jsx("p",{className:"text-xs text-white/18",children:j.transactions?.date&&new Date(j.transactions.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),J.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:J.map(W=>f.jsx(hl,{tag:W,small:!0},W.id))})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[f.jsx("span",{className:"text-base font-black text-amber-300",children:Te(j.amount)}),f.jsx("button",{onClick:()=>It(j.id),className:"text-xs font-bold text-emerald-400 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:" Collected"})]})]},j.id)})]})})}),f.jsx(k_,{friend:B,open:!!B,onClose:()=>{P(null),yt()},onSettle:It,onSettleAll:nt,onAddPreviousDebt:Tt,userId:s?.id,friends:p}),f.jsx(jn,{open:Ve,onClose:()=>Ue(!1),title:" Running EMIs",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[f.jsx("p",{className:ot,children:"New EMI"}),f.jsx("input",{className:At,placeholder:"e.g. iPhone 16 Pro, Bike loan",value:pt.title,onChange:j=>Ia(J=>({...J,title:j.target.value})),style:{fontSize:"16px"}}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Monthly ()"}),f.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"2500",value:pt.amount,onChange:j=>Ia(J=>({...J,amount:j.target.value})),style:{fontSize:"16px"}})]}),f.jsxs("div",{children:[f.jsx("label",{className:ot,children:"Months"}),f.jsx("input",{className:At,type:"number",inputMode:"numeric",placeholder:"12",value:pt.totalMonths,onChange:j=>Ia(J=>({...J,totalMonths:j.target.value})),style:{fontSize:"16px"}})]})]}),Al&&f.jsx("p",{className:"text-red-400 text-xs",children:Al}),f.jsx("button",{onClick:en,className:"w-full py-3.5 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)",color:"#fff",boxShadow:"0 4px 16px rgba(139,92,246,0.22)"},children:"+ Add EMI"})]}),E.length===0?f.jsx("p",{className:"text-center text-white/20 text-sm py-6",children:"No running EMIs"}):f.jsx("div",{className:"space-y-3",children:E.map(j=>{const J=ga(j),W=Fa(j),he=j.total_months-J,Ae=he*Number(j.amount),Oe=j.emi_payments||[];return f.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(139,92,246,0.12)"},children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-white",children:j.title}),f.jsxs("p",{className:"text-xs text-white/30 mt-0.5",children:[Te(j.amount),"/mo  ",j.total_months," months total"]})]}),f.jsx("button",{onClick:()=>go(j.id),className:"text-white/18 hover:text-red-400 transition-colors text-xl w-8 h-8 flex items-center justify-center tap-highlight",children:""})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-xs text-white/25 mb-1.5",children:[f.jsxs("span",{children:[J,"/",j.total_months," paid"]}),f.jsx("span",{className:"font-medium",children:he>0?`${Te(Ae)} left`:" Complete!"})]}),f.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.05)"},children:f.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Math.min(J/j.total_months*100,100)}%`,background:"linear-gradient(90deg, #a78bfa, #7c3aed)"}})})]}),f.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:j.total_months}).map((ze,we)=>{const Un=we<J,vi=we===J&&W,oa=we===J&&!W;return f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-bold transition-all",style:{background:Un||vi?"#34d399":oa?"rgba(167,139,250,0.2)":"rgba(255,255,255,0.06)",color:Un||vi?"#06060e":oa?"#c4b5fd":"rgba(255,255,255,0.2)",border:oa?"1px solid rgba(167,139,250,0.35)":"none"},children:we+1},we)})}),Oe.length>0&&f.jsxs("div",{className:"space-y-1 pt-2",style:{borderTop:"1px solid rgba(255,255,255,0.05)"},children:[f.jsx("p",{className:"text-[10px] text-white/20 uppercase tracking-widest font-bold mb-1.5",children:"History"}),[...Oe].sort((ze,we)=>we.year-ze.year||we.month-ze.month).map(ze=>f.jsxs("div",{className:"flex justify-between text-xs text-white/30",children:[f.jsxs("span",{children:[Wn[ze.month-1]," ",ze.year]}),f.jsx("span",{style:{color:"rgba(52,211,153,0.5)"},children:Te(ze.amount)})]},ze.id))]}),he>0&&f.jsx("button",{onClick:()=>ds(j),disabled:ft===j.id,className:"w-full py-3.5 text-sm font-bold rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 flex items-center justify-center gap-2 tap-highlight",style:W?{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"}:{background:"rgba(139,92,246,0.12)",border:"1px solid rgba(139,92,246,0.22)",color:"#c4b5fd"},children:ft===j.id?f.jsx("span",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}):W?` ${Wn[ct-1]} Paid  undo`:`Mark ${Wn[ct-1]} as Paid (${Te(j.amount)})`})]},j.id)})})]})})]})}const cl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Va=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:0})}`,Tn=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:2})}`;async function U_(s){const n=new Date,l=n.getFullYear();n.getMonth()+1;const{data:r,error:u}=await fe.from("transactions").select("id, title, total_amount, my_amount, category, date, month, year, emi_id").eq("user_id",s).gte("year",l-1).order("date",{ascending:!1});if(u||!r||r.length===0)return{months:[],tags:[],txns:[]};const d=r.map(E=>E.id);let h={};try{const{data:E}=await fe.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(E??[]).forEach(U=>{h[U.transaction_id]||(h[U.transaction_id]=[]),U.tags&&h[U.transaction_id].push(U.tags)})}catch{}let m={};try{const{data:E}=await fe.from("debts").select("transaction_id, amount, is_settled").eq("user_id",s).in("transaction_id",d);(E??[]).forEach(U=>{m[U.transaction_id]||(m[U.transaction_id]={hasUnsettled:!1,unsettledAmount:0}),U.is_settled||(m[U.transaction_id].hasUnsettled=!0,m[U.transaction_id].unsettledAmount+=Number(U.amount))})}catch{}const{data:p}=await fe.from("budgets").select("month, year, amount").eq("user_id",s).gte("year",l-1),y={};(p??[]).forEach(E=>{y[`${E.year}-${E.month}`]=Number(E.amount)});const b=r.map(E=>({...E,txn_tags:h[E.id]??[],debtInfo:m[E.id]??{hasUnsettled:!1,unsettledAmount:0}})),x=E=>Number(E.my_amount)<0?Number(E.my_amount):E.debtInfo?.hasUnsettled?Number(E.total_amount):Number(E.my_amount),w={};b.forEach(E=>{const U=`${E.year}-${String(E.month).padStart(2,"0")}`;w[U]||(w[U]={year:E.year,month:E.month,txns:[],total:0,budget:y[`${E.year}-${E.month}`]||0}),w[U].txns.push(E);const K=x(E);K>0&&(w[U].total+=K)});const S=Object.entries(w).sort(([E],[U])=>E.localeCompare(U)).map(([E,U])=>({key:E,...U})),O={};b.forEach(E=>E.txn_tags.forEach(U=>{O[U.id]=U}));const A=Object.values(O);return{months:S,tags:A,txns:b,spendOf:x}}function Kg({segments:s,size:n=120,thickness:l=22,label:r}){const u=(n-l)/2,d=2*Math.PI*u,h=n/2,m=n/2,p=s.reduce((b,x)=>b+x.value,0);let y=0;return f.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[f.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:[p===0?f.jsx("circle",{cx:h,cy:m,r:u,fill:"none",stroke:"rgba(255,255,255,0.06)",strokeWidth:l}):s.map((b,x)=>{const w=b.value/p,S=w*d,O=d-y*d;return y+=w,f.jsx("circle",{cx:h,cy:m,r:u,fill:"none",stroke:b.color,strokeWidth:l,strokeDasharray:`${S} ${d-S}`,strokeDashoffset:O,style:{transition:"stroke-dasharray 0.8s ease",transformOrigin:"center",transform:"rotate(-90deg)"}},x)}),f.jsx("circle",{cx:h,cy:m,r:u-l/2-2,fill:"#111118"})]}),r&&f.jsxs("div",{className:"absolute text-center pointer-events-none",children:[f.jsx("p",{className:"text-[10px] text-white/30 leading-tight",children:r.sub}),f.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:r.main})]})]})}function Jg({label:s,value:n,max:l,color:r,dot:u,pctOverride:d}){const h=d??(l>0?Math.min(n/l*100,100):0);return f.jsxs("div",{className:"flex items-center gap-3",children:[u?f.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:r}}):f.jsx("div",{className:"w-5 text-xs text-white/25 shrink-0 text-center",children:"#"}),f.jsx("div",{className:"w-24 text-xs text-white/50 truncate shrink-0",children:s}),f.jsx("div",{className:"flex-1 h-1.5 bg-white/6 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${h}%`,background:r}})}),f.jsx("div",{className:"text-xs font-medium text-white/70 w-16 text-right shrink-0",children:Tn(n)})]})}function M_(){const{user:s}=fo(),n=El(),[l,r]=R.useState(null),[u,d]=R.useState(!0),[h,m]=R.useState(null),[p,y]=R.useState("overview"),[b,x]=R.useState(null);R.useEffect(()=>{s&&U_(s.id).then(z=>{r(z),z.months.length>0&&m(z.months[z.months.length-1].key),d(!1)})},[s]);const w=l?.months.find(z=>z.key===h),S=l?.spendOf??(z=>Number(z.my_amount)),O=z=>{const ne={};return z.forEach(X=>{const ee=S(X);ee<=0||X.txn_tags.forEach(me=>{ne[me.id]||(ne[me.id]={tag:me,val:0,count:0}),ne[me.id].val+=ee,ne[me.id].count++})}),Object.values(ne).sort((X,ee)=>ee.val-X.val)},A=w?O(w.txns):[],E=(()=>{if(!w)return{};const z={};return w.txns.forEach(ne=>{const X=S(ne);if(X<=0)return;const ee=new Date(ne.date).getDate();z[ee]=(z[ee]||0)+X}),z})(),U=Math.max(...Object.values(E),1),K=l?.txns.filter(z=>S(z)>0)??[],q=K.reduce((z,ne)=>z+S(ne),0),I=l?.months.length?l.months.reduce((z,ne)=>z+Math.max(ne.total,0),0)/l.months.length:0,ae=Math.max(...l?.months.map(z=>Math.max(z.total,0))??[0],1),$=l?O(l.txns):[],Q=(()=>{if(!w)return[];const z=w.txns;return b?z.filter(ne=>ne.txn_tags.some(X=>X.id===b)):z})(),pe=w?new Date(w.year,w.month,0).getDate():31;return u?f.jsx("div",{className:"min-h-screen bg-[#09090f] flex items-center justify-center",children:f.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):!l||l.months.length===0?f.jsxs("div",{className:"min-h-screen bg-[#09090f] flex flex-col items-center justify-center text-center px-4",children:[f.jsx("p",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-white/40 mb-1",children:"No transaction data yet."}),f.jsx("p",{className:"text-white/20 text-sm mb-4",children:"Add some expenses on the dashboard first."}),f.jsx("button",{onClick:()=>n("/dashboard"),className:"text-sm text-emerald-400 hover:underline",children:" Back to Dashboard"})]}):f.jsxs("div",{className:"min-h-screen bg-[#09090f] text-white",style:{fontFamily:"'DM Sans', system-ui, sans-serif"},children:[f.jsxs("nav",{className:"sticky top-0 z-40 flex items-center justify-between px-5 py-3 border-b border-white/6 bg-[#09090f]/90 backdrop-blur-xl",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-1.5 text-white/40 hover:text-white transition-colors text-sm",children:[" ",f.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),f.jsx("div",{className:"w-px h-4 bg-white/10"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-7 h-7 bg-violet-400 rounded-lg flex items-center justify-center text-[#09090f] font-bold text-xs",children:""}),f.jsx("span",{className:"font-semibold tracking-tight",children:"Analytics"})]})]}),f.jsx("div",{className:"flex items-center gap-1 bg-white/5 border border-white/8 rounded-xl p-1",children:[{key:"overview",label:" Overview"},{key:"month",label:" Monthly"}].map(z=>f.jsx("button",{onClick:()=>y(z.key),className:`text-xs px-3 py-1.5 rounded-lg transition-all ${p===z.key?"bg-white/10 text-white":"text-white/35 hover:text-white/60"}`,children:z.label},z.key))})]}),f.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-7 space-y-6",children:[p==="overview"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Total Spent",val:Va(q),sub:`${K.length} transactions`,color:"text-white",border:"border-white/10"},{label:"Monthly Avg",val:Va(I),sub:`over ${l.months.length} month${l.months.length!==1?"s":""}`,color:"text-emerald-300",border:"border-emerald-400/20"},{label:"Top Tag",val:$[0]?.tag.name??"",sub:$[0]?Va($[0].val):"No tags yet",color:"text-violet-300",border:"border-violet-400/20",dot:$[0]?.tag.color},{label:"Highest Month",val:(()=>{const z=l.months.reduce((ne,X)=>X.total>ne.total?X:ne,l.months[0]);return`${cl[z.month-1]} ${z.year}`})(),sub:Va(Math.max(...l.months.map(z=>z.total))),color:"text-amber-300",border:"border-amber-400/20"}].map(({label:z,val:ne,sub:X,color:ee,border:me,dot:Ve})=>f.jsxs("div",{className:`bg-white/[0.025] border ${me} rounded-2xl p-4`,children:[f.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-wider mb-1",children:z}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[Ve&&f.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{background:Ve}}),f.jsx("p",{className:`text-xl font-bold ${ee} truncate`,children:ne})]}),X&&f.jsx("p",{className:"text-xs text-white/25 mt-0.5",children:X})]},z))}),f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Monthly Spend Trend"}),f.jsx("p",{className:"text-xs text-white/30 mb-5",children:"Click a bar to explore that month in detail"}),f.jsx("div",{className:"flex items-end gap-1.5",style:{height:120},children:l.months.map(z=>{const ne=Math.max(z.total,0),X=ne/ae*100,ee=z.key===h,me=z.budget>0&&ne>z.budget,Ve=z.budget>0?Math.min(z.budget/ae*100,100):null;return f.jsxs("button",{onClick:()=>{m(z.key),y("month")},className:"flex-1 flex flex-col items-center gap-1 group relative",style:{height:120},children:[Ve!==null&&f.jsx("div",{className:"absolute w-full border-t border-dashed border-white/20 pointer-events-none",style:{bottom:`${Ve+14}%`}}),f.jsx("div",{className:"w-full flex flex-col justify-end flex-1",children:f.jsx("div",{className:`w-full rounded-t-md transition-all duration-500 ${ee?"opacity-100":"opacity-45 group-hover:opacity-70"}`,style:{height:ne>0?`${Math.max(X,2)}%`:2,background:me?"linear-gradient(to top,#ef4444,#f87171)":ee?"linear-gradient(to top,#a78bfa,#c4b5fd)":"linear-gradient(to top,#6366f1,#818cf8)"}})}),f.jsx("span",{className:`text-[9px] leading-none transition-colors ${ee?"text-white":"text-white/30 group-hover:text-white/60"}`,children:cl[z.month-1]})]},z.key)})}),f.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-white/20",children:[f.jsx("span",{children:"0"}),f.jsx("span",{children:Va(ae/2)}),f.jsx("span",{children:Va(ae)})]})]}),$.length>0?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Spend by Tag  All Time"}),f.jsx("div",{className:"space-y-2.5",children:$.map(({tag:z,val:ne})=>f.jsx(Jg,{label:z.name,value:ne,max:$[0].val,color:z.color,dot:!0},z.id))})]}),f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Tag Distribution"}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(Kg,{segments:$.map(({tag:z,val:ne})=>({color:z.color,value:ne})),size:120,thickness:22}),f.jsx("div",{className:"flex-1 space-y-2",children:$.slice(0,7).map(({tag:z,val:ne})=>{const X=$.reduce((ee,me)=>ee+me.val,0);return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),f.jsx("span",{className:"text-xs text-white/50 flex-1 truncate",children:z.name}),f.jsxs("span",{className:"text-xs font-medium",style:{color:z.color},children:[X>0?(ne/X*100).toFixed(0):0,"%"]})]},z.id)})})]})]})]}),f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Tag Spend per Month"}),f.jsx("p",{className:"text-xs text-white/30 mb-4",children:"How much you spent on each tag every month"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("td",{className:"text-white/25 pr-4 pb-2 whitespace-nowrap",children:"Tag"}),l.months.map(z=>f.jsx("td",{className:"text-white/25 pb-2 text-center whitespace-nowrap px-1",children:cl[z.month-1]},z.key))]})}),f.jsx("tbody",{children:$.slice(0,8).map(({tag:z})=>f.jsxs("tr",{children:[f.jsx("td",{className:"pr-4 py-1.5 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),f.jsx("span",{style:{color:z.color},className:"font-medium",children:z.name})]})}),l.months.map(ne=>{const X=O(ne.txns).find(Ve=>Ve.tag.id===z.id)?.val??0,ee=$.find(Ve=>Ve.tag.id===z.id)?.val??1,me=ee>0?X/ee:0;return f.jsx("td",{className:"text-center px-1 py-1.5",children:X>0?f.jsx("div",{className:"mx-auto rounded px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",style:{background:z.color+Math.round(me*40+15).toString(16).padStart(2,"0"),color:z.color},children:Va(X)}):f.jsx("span",{className:"text-white/10",children:""})},ne.key)})]},z.id))})]})})]})]}):f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-8 text-center",children:[f.jsx("p",{className:"text-2xl mb-2",children:""}),f.jsx("p",{className:"text-white/40 text-sm",children:"No tags yet  add tags to your expenses to see a breakdown here."})]})]}),p==="month"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",style:{scrollbarWidth:"none"},children:l.months.map(z=>f.jsxs("button",{onClick:()=>{m(z.key),x(null)},className:`shrink-0 px-3 py-1.5 rounded-xl text-xs font-medium border transition-all ${z.key===h?"bg-violet-400/20 text-violet-300 border-violet-400/30":"bg-white/5 text-white/35 border-white/8 hover:text-white/60"}`,children:[cl[z.month-1]," ",z.year]},z.key))}),w&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-gradient-to-br from-violet-950/40 to-[#111118] border border-violet-500/15 rounded-2xl p-5",children:[f.jsxs("div",{className:"flex items-start justify-between mb-5",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-[10px] text-white/30 uppercase tracking-widest mb-1",children:[cl[w.month-1]," ",w.year]}),f.jsx("p",{className:"text-3xl font-bold",children:Tn(Math.max(w.total,0))}),(()=>{const z=w.txns.reduce((ne,X)=>ne+(X.debtInfo?.hasUnsettled?X.debtInfo.unsettledAmount:0),0);return z<=0?null:f.jsxs("p",{className:"text-xs mt-1 text-amber-300/80",children:[" Includes ",Tn(z)," pending from friends"]})})(),w.budget>0&&f.jsx("p",{className:`text-xs mt-1 ${w.total>w.budget?"text-red-400":"text-emerald-400"}`,children:w.total>w.budget?` Over budget by ${Tn(w.total-w.budget)}`:` ${Tn(w.budget-w.total)} under budget`})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-xs text-white/30 mb-0.5",children:[w.txns.length," transactions"]}),w.budget>0&&f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-xs text-white/25",children:["Budget: ",Va(w.budget)]}),f.jsx("div",{className:"mt-2 w-28 h-1.5 bg-white/8 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${w.total>w.budget?"bg-red-400":"bg-violet-400"}`,style:{width:`${Math.min(w.total/w.budget*100,100)}%`}})})]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-white/25 uppercase tracking-wider mb-2",children:"Daily spend"}),f.jsx("div",{className:"flex gap-px items-end",style:{height:36},children:Array.from({length:pe},(z,ne)=>{const X=ne+1,ee=E[X]||0,me=U>0?ee/U*100:0;return f.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative",style:{height:36},children:[f.jsx("div",{className:"w-full rounded-t-[1px]",style:{height:ee>0?`${Math.max(me,8)}%`:0,background:`rgba(167,139,250,${.25+me/100*.75})`,minHeight:ee>0?2:0}}),ee>0&&f.jsxs("div",{className:"absolute bottom-full mb-1 left-1/2 -translate-x-1/2 bg-[#1a1a2e] border border-white/15 rounded-lg px-2 py-1 text-[9px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[X,"  ",Va(ee)]})]},X)})}),f.jsxs("div",{className:"flex justify-between text-[9px] text-white/20 mt-1",children:[f.jsx("span",{children:"1"}),f.jsx("span",{children:Math.ceil(pe/2)}),f.jsx("span",{children:pe})]})]})]}),A.length>0?f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Spend by Tag"}),b&&f.jsx("button",{onClick:()=>x(null),className:"text-xs text-violet-300/60 hover:text-violet-300 transition-colors",children:" Clear"})]}),f.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:A.map(({tag:z,val:ne,count:X})=>f.jsxs("button",{onClick:()=>x(b===z.id?null:z.id),className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-xl border text-xs font-medium transition-all ${b===z.id?"opacity-100 scale-105":"opacity-55 hover:opacity-80"}`,style:{background:z.color+"15",borderColor:z.color+"35",color:z.color},children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{background:z.color}}),z.name,f.jsxs("span",{className:"opacity-50",children:[" ",X]})]},z.id))}),f.jsx("div",{className:"space-y-2.5",children:A.map(({tag:z,val:ne})=>f.jsx(Jg,{label:z.name,value:ne,max:A[0].val,color:z.color,dot:!0},z.id))})]}),f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Tag Distribution"}),f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(Kg,{segments:A.map(({tag:z,val:ne})=>({color:z.color,value:ne})),size:130,thickness:24}),f.jsx("div",{className:"w-full grid grid-cols-2 gap-x-4 gap-y-1.5",children:A.map(({tag:z,val:ne})=>{const X=A.reduce((ee,me)=>ee+me.val,0);return f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),f.jsx("span",{className:"text-[11px] text-white/40 flex-1 truncate",children:z.name}),f.jsxs("span",{className:"text-[11px] font-medium",style:{color:z.color},children:[X>0?(ne/X*100).toFixed(0):0,"%"]})]},z.id)})})]})]})]}):f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-6 text-center",children:[f.jsx("p",{className:"text-xl mb-2",children:""}),f.jsx("p",{className:"text-white/30 text-sm",children:"No tags used this month"})]}),f.jsxs("div",{className:"bg-white/[0.025] border border-white/8 rounded-2xl p-5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-sm font-semibold",children:["Transactions",f.jsxs("span",{className:"ml-2 text-xs text-white/25 font-normal",children:[Q.length," shown"]})]}),b&&f.jsx("button",{onClick:()=>x(null),className:"text-xs text-violet-300/60 hover:text-violet-300 transition-colors",children:" Clear filter"})]}),Q.length===0?f.jsx("p",{className:"text-white/20 text-sm text-center py-6",children:"No transactions match this filter"}):f.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:Q.map(z=>{const ne=Number(z.my_amount)<0,X=z.debtInfo?.hasUnsettled,ee=ne?Math.abs(Number(z.my_amount)):S(z);return f.jsxs("div",{className:`flex items-center gap-3 border rounded-xl px-3 py-2.5 transition-all ${ne?"bg-emerald-400/[0.04] border-emerald-400/15":X?"bg-amber-400/[0.03] border-amber-400/15":"bg-white/[0.02] hover:bg-white/[0.04] border-white/5"}`,children:[f.jsx("div",{className:"text-base shrink-0",children:ne?"":z.emi_id?"":""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-white truncate",children:z.title}),f.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap",children:[f.jsx("span",{className:"text-[10px] text-white/25",children:new Date(z.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),X&&f.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full border font-medium",style:{background:"rgba(251,191,36,0.1)",color:"#fbbf24",borderColor:"rgba(251,191,36,0.25)"},children:[" ",Tn(z.debtInfo.unsettledAmount)," pending"]}),z.txn_tags.map(me=>f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full border font-medium",style:{background:me.color+"15",color:me.color,borderColor:me.color+"30"},children:me.name},me.id))]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("p",{className:`text-sm font-semibold ${ne?"text-emerald-400":X?"text-white":""}`,children:[ne?"+":"",Tn(ee)]}),X&&f.jsxs("p",{className:"text-[10px] text-white/25",children:["my share: ",Tn(Number(z.my_amount))]})]})]},z.id)})})]})]})]})]})]})}function z_(){return f.jsx(pb,{children:f.jsx(s_,{children:f.jsxs(Jv,{children:[f.jsx(es,{path:"/login",element:f.jsx(qg,{})}),f.jsx(es,{path:"/signup",element:f.jsx(qg,{})}),f.jsx(es,{path:"/dashboard",element:f.jsx(Bg,{children:f.jsx(D_,{})})}),f.jsx(es,{path:"/analytics",element:f.jsx(Bg,{children:f.jsx(M_,{})})}),f.jsx(es,{path:"/",element:f.jsx($c,{to:"/dashboard",replace:!0})}),f.jsx(es,{path:"*",element:f.jsx($c,{to:"/dashboard",replace:!0})})]})})})}Iy.createRoot(document.getElementById("root")).render(f.jsx(R.StrictMode,{children:f.jsx(z_,{})}));
