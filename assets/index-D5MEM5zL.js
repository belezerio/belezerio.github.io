(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();var Tc={exports:{}},ol={};var Wm;function Vy(){if(Wm)return ol;Wm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:s,type:r,key:f,ref:u!==void 0?u:null,props:d}}return ol.Fragment=n,ol.jsx=l,ol.jsxs=l,ol}var e0;function Ky(){return e0||(e0=1,Tc.exports=Vy()),Tc.exports}var h=Ky(),Nc={exports:{}},ge={};var t0;function Jy(){if(t0)return ge;t0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function B(N,G,P){this.props=N,this.context=G,this.refs=_,this.updater=P||O}B.prototype.isReactComponent={},B.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function q(N,G,P){this.props=N,this.context=G,this.refs=_,this.updater=P||O}var Q=q.prototype=new Y;Q.constructor=q,S(Q,B.prototype),Q.isPureReactComponent=!0;var se=Array.isArray;function K(){}var I={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function _e(N,G,P){var F=P.ref;return{$$typeof:s,type:N,key:G,ref:F!==void 0?F:null,props:P}}function ht(N,G){return _e(N.type,G,N.props)}function ne(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function xe(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(P){return G[P]})}var z=/\/+/g;function W(N,G){return typeof N=="object"&&N!==null&&N.key!=null?xe(""+N.key):G.toString(36)}function Z(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function C(N,G,P,F,ue){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(we){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case s:case n:Ce=!0;break;case v:return Ce=N._init,C(Ce(N._payload),G,P,F,ue)}}if(Ce)return ue=ue(N),Ce=F===""?"."+W(N,0):F,se(ue)?(P="",Ce!=null&&(P=Ce.replace(z,"$&/")+"/"),C(ue,G,P,"",function(Pa){return Pa})):ue!=null&&(ne(ue)&&(ue=ht(ue,P+(ue.key==null||N&&N.key===ue.key?"":(""+ue.key).replace(z,"$&/")+"/")+Ce)),G.push(ue)),1;Ce=0;var Ke=F===""?".":F+":";if(se(N))for(var Ye=0;Ye<N.length;Ye++)F=N[Ye],we=Ke+W(F,Ye),Ce+=C(F,G,P,we,ue);else if(Ye=j(N),typeof Ye=="function")for(N=Ye.call(N),Ye=0;!(F=N.next()).done;)F=F.value,we=Ke+W(F,Ye++),Ce+=C(F,G,P,we,ue);else if(we==="object"){if(typeof N.then=="function")return C(Z(N),G,P,F,ue);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(N,G,P){if(N==null)return N;var F=[],ue=0;return C(N,F,"","",function(we){return G.call(P,we,ue++)}),F}function te(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(P){(N._status===0||N._status===-1)&&(N._status=1,N._result=P)},function(P){(N._status===0||N._status===-1)&&(N._status=2,N._result=P)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},pe={map:X,forEach:function(N,G,P){X(N,function(){G.apply(this,arguments)},P)},count:function(N){var G=0;return X(N,function(){G++}),G},toArray:function(N){return X(N,function(G){return G})||[]},only:function(N){if(!ne(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ge.Activity=x,ge.Children=pe,ge.Component=B,ge.Fragment=l,ge.Profiler=u,ge.PureComponent=q,ge.StrictMode=r,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},ge.cache=function(N){return function(){return N.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(N,G,P){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var F=S({},N.props),ue=N.key;if(G!=null)for(we in G.key!==void 0&&(ue=""+G.key),G)!oe.call(G,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&G.ref===void 0||(F[we]=G[we]);var we=arguments.length-2;if(we===1)F.children=P;else if(1<we){for(var Ce=Array(we),Ke=0;Ke<we;Ke++)Ce[Ke]=arguments[Ke+2];F.children=Ce}return _e(N.type,ue,F)},ge.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},ge.createElement=function(N,G,P){var F,ue={},we=null;if(G!=null)for(F in G.key!==void 0&&(we=""+G.key),G)oe.call(G,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ue[F]=G[F]);var Ce=arguments.length-2;if(Ce===1)ue.children=P;else if(1<Ce){for(var Ke=Array(Ce),Ye=0;Ye<Ce;Ye++)Ke[Ye]=arguments[Ye+2];ue.children=Ke}if(N&&N.defaultProps)for(F in Ce=N.defaultProps,Ce)ue[F]===void 0&&(ue[F]=Ce[F]);return _e(N,we,ue)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:m,render:N}},ge.isValidElement=ne,ge.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:te}},ge.memo=function(N,G){return{$$typeof:y,type:N,compare:G===void 0?null:G}},ge.startTransition=function(N){var G=I.T,P={};I.T=P;try{var F=N(),ue=I.S;ue!==null&&ue(P,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(K,be)}catch(we){be(we)}finally{G!==null&&P.types!==null&&(G.types=P.types),I.T=G}},ge.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ge.use=function(N){return I.H.use(N)},ge.useActionState=function(N,G,P){return I.H.useActionState(N,G,P)},ge.useCallback=function(N,G){return I.H.useCallback(N,G)},ge.useContext=function(N){return I.H.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N,G){return I.H.useDeferredValue(N,G)},ge.useEffect=function(N,G){return I.H.useEffect(N,G)},ge.useEffectEvent=function(N){return I.H.useEffectEvent(N)},ge.useId=function(){return I.H.useId()},ge.useImperativeHandle=function(N,G,P){return I.H.useImperativeHandle(N,G,P)},ge.useInsertionEffect=function(N,G){return I.H.useInsertionEffect(N,G)},ge.useLayoutEffect=function(N,G){return I.H.useLayoutEffect(N,G)},ge.useMemo=function(N,G){return I.H.useMemo(N,G)},ge.useOptimistic=function(N,G){return I.H.useOptimistic(N,G)},ge.useReducer=function(N,G,P){return I.H.useReducer(N,G,P)},ge.useRef=function(N){return I.H.useRef(N)},ge.useState=function(N){return I.H.useState(N)},ge.useSyncExternalStore=function(N,G,P){return I.H.useSyncExternalStore(N,G,P)},ge.useTransition=function(){return I.H.useTransition()},ge.version="19.2.4",ge}var a0;function ad(){return a0||(a0=1,Nc.exports=Jy()),Nc.exports}var k=ad(),Ac={exports:{}},ul={},kc={exports:{}},Oc={};var n0;function Xy(){return n0||(n0=1,(function(s){function n(C,X){var te=C.length;C.push(X);e:for(;0<te;){var be=te-1>>>1,pe=C[be];if(0<u(pe,X))C[be]=X,C[te]=pe,te=be;else break e}}function l(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var X=C[0],te=C.pop();if(te!==X){C[0]=te;e:for(var be=0,pe=C.length,N=pe>>>1;be<N;){var G=2*(be+1)-1,P=C[G],F=G+1,ue=C[F];if(0>u(P,te))F<pe&&0>u(ue,P)?(C[be]=ue,C[F]=te,be=F):(C[be]=P,C[G]=te,be=G);else if(F<pe&&0>u(ue,te))C[be]=ue,C[F]=te,be=F;else break e}}return X}function u(C,X){var te=C.sortIndex-X.sortIndex;return te!==0?te:C.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],v=1,x=null,w=3,j=!1,O=!1,S=!1,_=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Q(C){for(var X=l(y);X!==null;){if(X.callback===null)r(y);else if(X.startTime<=C)r(y),X.sortIndex=X.expirationTime,n(p,X);else break;X=l(y)}}function se(C){if(S=!1,Q(C),!O)if(l(p)!==null)O=!0,K||(K=!0,xe());else{var X=l(y);X!==null&&Z(se,X.startTime-C)}}var K=!1,I=-1,oe=5,_e=-1;function ht(){return _?!0:!(s.unstable_now()-_e<oe)}function ne(){if(_=!1,K){var C=s.unstable_now();_e=C;var X=!0;try{e:{O=!1,S&&(S=!1,Y(I),I=-1),j=!0;var te=w;try{t:{for(Q(C),x=l(p);x!==null&&!(x.expirationTime>C&&ht());){var be=x.callback;if(typeof be=="function"){x.callback=null,w=x.priorityLevel;var pe=be(x.expirationTime<=C);if(C=s.unstable_now(),typeof pe=="function"){x.callback=pe,Q(C),X=!0;break t}x===l(p)&&r(p),Q(C)}else r(p);x=l(p)}if(x!==null)X=!0;else{var N=l(y);N!==null&&Z(se,N.startTime-C),X=!1}}break e}finally{x=null,w=te,j=!1}X=void 0}}finally{X?xe():K=!1}}}var xe;if(typeof q=="function")xe=function(){q(ne)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=ne,xe=function(){W.postMessage(null)}}else xe=function(){B(ne,0)};function Z(C,X){I=B(function(){C(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(C){C.callback=null},s.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<C?Math.floor(1e3/C):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(C){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var te=w;w=X;try{return C()}finally{w=te}},s.unstable_requestPaint=function(){_=!0},s.unstable_runWithPriority=function(C,X){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var te=w;w=C;try{return X()}finally{w=te}},s.unstable_scheduleCallback=function(C,X,te){var be=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?be+te:be):te=be,C){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=te+pe,C={id:v++,callback:X,priorityLevel:C,startTime:te,expirationTime:pe,sortIndex:-1},te>be?(C.sortIndex=te,n(y,C),l(p)===null&&C===l(y)&&(S?(Y(I),I=-1):S=!0,Z(se,te-be))):(C.sortIndex=pe,n(p,C),O||j||(O=!0,K||(K=!0,xe()))),C},s.unstable_shouldYield=ht,s.unstable_wrapCallback=function(C){var X=w;return function(){var te=w;w=X;try{return C.apply(this,arguments)}finally{w=te}}}})(Oc)),Oc}var s0;function Iy(){return s0||(s0=1,kc.exports=Xy()),kc.exports}var Rc={exports:{}},Nt={};var i0;function Qy(){if(i0)return Nt;i0=1;var s=ad();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,y,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:p,containerInfo:y,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nt.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,v)},Nt.flushSync=function(p){var y=f.T,v=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=v,r.d.f()}},Nt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Nt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Nt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,x=m(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:j}):v==="script"&&r.d.X(p,{crossOrigin:x,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Nt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,x=m(v,y.crossOrigin);r.d.L(p,v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nt.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Nt.requestFormReset=function(p){r.d.r(p)},Nt.unstable_batchedUpdates=function(p,y){return p(y)},Nt.useFormState=function(p,y,v){return f.H.useFormState(p,y,v)},Nt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nt.version="19.2.4",Nt}var l0;function Py(){if(l0)return Rc.exports;l0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Rc.exports=Qy(),Rc.exports}var r0;function Zy(){if(r0)return ul;r0=1;var s=Iy(),n=ad(),l=Py();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return p(o),e;if(c===i)return p(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==i.return)a=o,i=c;else{for(var g=!1,b=o.child;b;){if(b===a){g=!0,a=o,i=c;break}if(b===i){g=!0,i=o,a=c;break}b=b.sibling}if(!g){for(b=c.child;b;){if(b===a){g=!0,a=c,i=o;break}if(b===i){g=!0,i=c,a=o;break}b=b.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case B:return"Profiler";case _:return"StrictMode";case se:return"Suspense";case K:return"SuspenseList";case _e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case q:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var Z=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},be=[],pe=-1;function N(e){return{current:e}}function G(e){0>pe||(e.current=be[pe],be[pe]=null,pe--)}function P(e,t){pe++,be[pe]=e.current,e.current=t}var F=N(null),ue=N(null),we=N(null),Ce=N(null);function Ke(e,t){switch(P(we,t),P(ue,e),P(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_m(t),e=Sm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(F),P(F,e)}function Ye(){G(F),G(ue),G(we)}function Pa(e){e.memoizedState!==null&&P(Ce,e);var t=F.current,a=Sm(t,e.type);t!==a&&(P(ue,e),P(F,a))}function Lt(e){ue.current===e&&(G(F),G(ue)),Ce.current===e&&(G(Ce),sl._currentValue=te)}var rs,os;function ra(e){if(rs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);rs=t&&t[1]||"",os=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+os}var us=!1;function cs(e,t){if(!e||us)return"";us=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var M=L}Reflect.construct(e,[],V)}else{try{V.call()}catch(L){M=L}e.call(V.prototype)}}else{try{throw Error()}catch(L){M=L}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),g=c[0],b=c[1];if(g&&b){var E=g.split(`
`),U=b.split(`
`);for(o=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(i===E.length||o===U.length)for(i=E.length-1,o=U.length-1;1<=i&&0<=o&&E[i]!==U[o];)o--;for(;1<=i&&0<=o;i--,o--)if(E[i]!==U[o]){if(i!==1||o!==1)do if(i--,o--,0>o||E[i]!==U[o]){var $=`
`+E[i].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=i&&0<=o);break}}}finally{us=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ra(a):""}function kl(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return ra("Activity");default:return""}}function oi(e){try{var t="",a=null;do t+=kl(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var On=Object.prototype.hasOwnProperty,pt=s.unstable_scheduleCallback,Za=s.unstable_cancelCallback,Ol=s.unstable_shouldYield,Fa=s.unstable_requestPaint,ft=s.unstable_now,Rl=s.unstable_getCurrentPriorityLevel,ui=s.unstable_ImmediatePriority,ci=s.unstable_UserBlockingPriority,Wa=s.unstable_NormalPriority,di=s.unstable_LowPriority,Rn=s.unstable_IdlePriority,hi=s.log,yt=s.unstable_setDisableYieldValue,Ea=null,kt=null;function tt(e){if(typeof hi=="function"&&yt(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ea,e)}catch{}}var mt=Math.clz32?Math.clz32:jt,ds=Math.log,Cn=Math.LN2;function jt(e){return e>>>=0,e===0?32:31-(ds(e)/Cn|0)|0}var Dn=256,Bt=262144,Un=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function en(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~c,i!==0?o=ga(i):(g&=b,g!==0?o=ga(g):a||(a=b&~e,a!==0&&(o=ga(a))))):(b=i&~c,b!==0?o=ga(b):g!==0?o=ga(g):a||(a=i&~e,a!==0&&(o=ga(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function tn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function po(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var e=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),e}function mi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function pa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gi(e,t,a,i,o,c){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,U=e.hiddenUpdates;for(a=g&~a;0<a;){var $=31-mt(a),V=1<<$;b[$]=0,E[$]=-1;var M=U[$];if(M!==null)for(U[$]=null,$=0;$<M.length;$++){var L=M[$];L!==null&&(L.lane&=-536870913)}a&=~V}i!==0&&Cl(e,i,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~t))}function Cl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-mt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Dl(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-mt(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function pi(e,t){var a=t&-t;return a=(a&42)!==0?1:yi(a),(a&(e.suspendedLanes|t))!==0?0:a}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vi(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Jm(e.type))}function Ul(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Qt=Math.random().toString(36).slice(2),at="__reactFiber$"+Qt,Tt="__reactProps$"+Qt,an="__reactContainer$"+Qt,hs="__reactEvents$"+Qt,yo="__reactListeners$"+Qt,bo="__reactHandles$"+Qt,T="__reactResources$"+Qt,J="__reactMarker$"+Qt;function ee(e){delete e[at],delete e[Tt],delete e[hs],delete e[yo],delete e[bo]}function fe(e){var t=e[at];if(t)return t;for(var a=e.parentNode;a;){if(t=a[an]||a[at]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Om(e);e!==null;){if(a=e[at])return a;e=Om(e)}return t}e=a,a=e.parentNode}return null}function Oe(e){if(e=e[at]||e[an]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Re(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ze(e){var t=e[T];return t||(t=e[T]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Se(e){e[J]=!0}var Mn=new Set,xi={};function oa(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(xi[e]=t,e=0;e<t.length;e++)Mn.add(t[e])}var Mg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},hd={};function zg(e){return On.call(hd,e)?!0:On.call(dd,e)?!1:Mg.test(e)?hd[e]=!0:(dd[e]=!0,!1)}function Ml(e,t,a){if(zg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ja(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lg(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){if(!e._valueTracker){var t=fd(e)?"checked":"value";e._valueTracker=Lg(e,t,""+e[t])}}function md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=fd(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bg=/[\n"\\]/g;function Zt(e){return e.replace(Bg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xo(e,t,a,i,o,c,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?wo(e,g,Pt(t)):a!=null?wo(e,g,Pt(a)):i!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Pt(b):e.removeAttribute("name")}function gd(e,t,a,i,o,c,g,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){vo(e);return}a=a!=null?""+Pt(a):"",t=t!=null?""+Pt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),vo(e)}function wo(e,t,a){t==="number"&&Ll(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Pt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function pd(e,t,a){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Pt(a):""}function yd(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(Z(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Pt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),vo(e)}function gs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||qg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function vd(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&bd(e,o,i)}else for(var c in t)t.hasOwnProperty(c)&&bd(e,c,t[c])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(e){return Hg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ta(){}var So=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,ys=null;function xd(e){var t=Oe(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[Tt]||null;if(!o)throw Error(r(90));xo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&md(i)}break e;case"textarea":pd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ms(e,!!a.multiple,t,!1)}}}var jo=!1;function wd(e,t,a){if(jo)return e(t,a);jo=!0;try{var i=e(t);return i}finally{if(jo=!1,(ps!==null||ys!==null)&&(jr(),ps&&(t=ps,e=ys,ys=ps=null,xd(t),e)))for(t=0;t<e.length;t++)xd(e[t])}}function wi(e,t){var a=e.stateNode;if(a===null)return null;var i=a[Tt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(Na)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){To=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{To=!1}var nn=null,No=null,ql=null;function _d(){if(ql)return ql;var e,t=No,a=t.length,i,o="value"in nn?nn.value:nn.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(i=1;i<=g&&t[a-i]===o[c-i];i++);return ql=o.slice(e,1<i?1-i:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Sd(){return!1}function Rt(e){function t(a,i,o,c,g){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Hl:Sd,this.isPropagationStopped=Sd,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Rt(zn),Si=x({},zn,{view:0,detail:0}),Gg=Rt(Si),Ao,ko,Ei,Yl=x({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Ao=e.screenX-Ei.screenX,ko=e.screenY-Ei.screenY):ko=Ao=0,Ei=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),Ed=Rt(Yl),Yg=x({},Yl,{dataTransfer:0}),Vg=Rt(Yg),Kg=x({},Si,{relatedTarget:0}),Oo=Rt(Kg),Jg=x({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=Rt(Jg),Ig=x({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qg=Rt(Ig),Pg=x({},zn,{data:0}),jd=Rt(Pg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wg[e])?!!t[e]:!1}function Ro(){return ep}var tp=x({},Si,{key:function(e){if(e.key){var t=Zg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ap=Rt(tp),np=x({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Rt(np),sp=x({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),ip=Rt(sp),lp=x({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=Rt(lp),op=x({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Rt(op),cp=x({},zn,{newState:0,oldState:0}),dp=Rt(cp),hp=[9,13,27,32],Co=Na&&"CompositionEvent"in window,ji=null;Na&&"documentMode"in document&&(ji=document.documentMode);var fp=Na&&"TextEvent"in window&&!ji,Nd=Na&&(!Co||ji&&8<ji&&11>=ji),Ad=" ",kd=!1;function Od(e,t){switch(e){case"keyup":return hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function mp(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(kd=!0,Ad);case"textInput":return e=t.data,e===Ad&&kd?null:e;default:return null}}function gp(e,t){if(bs)return e==="compositionend"||!Co&&Od(e,t)?(e=_d(),ql=No=nn=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pp[e.type]:t==="textarea"}function Dd(e,t,a,i){ps?ys?ys.push(i):ys=[i]:ps=i,t=Cr(t,"onChange"),0<t.length&&(a=new Gl("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Ti=null,Ni=null;function yp(e){pm(e,0)}function Vl(e){var t=Re(e);if(md(t))return e}function Ud(e,t){if(e==="change")return t}var Md=!1;if(Na){var Do;if(Na){var Uo="oninput"in document;if(!Uo){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Uo=typeof zd.oninput=="function"}Do=Uo}else Do=!1;Md=Do&&(!document.documentMode||9<document.documentMode)}function Ld(){Ti&&(Ti.detachEvent("onpropertychange",Bd),Ni=Ti=null)}function Bd(e){if(e.propertyName==="value"&&Vl(Ni)){var t=[];Dd(t,Ni,e,Eo(e)),wd(yp,t)}}function bp(e,t,a){e==="focusin"?(Ld(),Ti=t,Ni=a,Ti.attachEvent("onpropertychange",Bd)):e==="focusout"&&Ld()}function vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(Ni)}function xp(e,t){if(e==="click")return Vl(t)}function wp(e,t){if(e==="input"||e==="change")return Vl(t)}function _p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:_p;function Ai(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!On.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var a=qd(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qd(a)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ll(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ll(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sp=Na&&"documentMode"in document&&11>=document.documentMode,vs=null,zo=null,ki=null,Lo=!1;function Yd(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lo||vs==null||vs!==Ll(i)||(i=vs,"selectionStart"in i&&Mo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ki&&Ai(ki,i)||(ki=i,i=Cr(zo,"onSelect"),0<i.length&&(t=new Gl("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=vs)))}function Ln(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var xs={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},Bo={},Vd={};Na&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Bn(e){if(Bo[e])return Bo[e];if(!xs[e])return e;var t=xs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Vd)return Bo[e]=t[a];return e}var Kd=Bn("animationend"),Jd=Bn("animationiteration"),Xd=Bn("animationstart"),Ep=Bn("transitionrun"),jp=Bn("transitionstart"),Tp=Bn("transitioncancel"),Id=Bn("transitionend"),Qd=new Map,qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qo.push("scrollEnd");function ua(e,t){Qd.set(e,t),oa(t,[e])}var Kl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],ws=0,$o=0;function Jl(){for(var e=ws,t=$o=ws=0;t<e;){var a=Ft[t];Ft[t++]=null;var i=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var c=Ft[t];if(Ft[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}c!==0&&Pd(a,o,c)}}function Xl(e,t,a,i){Ft[ws++]=e,Ft[ws++]=t,Ft[ws++]=a,Ft[ws++]=i,$o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ho(e,t,a,i){return Xl(e,t,a,i),Il(e)}function qn(e,t){return Xl(e,null,null,t),Il(e)}function Pd(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,i=c.alternate,i!==null&&(i.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-mt(a),e=c.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),c):null}function Il(e){if(50<Zi)throw Zi=0,Pu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _s={};function Np(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,a,i){return new Np(e,t,a,i)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aa(e,t){var a=e.alternate;return a===null?(a=$t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ql(e,t,a,i,o,c){var g=0;if(i=e,typeof e=="function")Go(e)&&(g=1);else if(typeof e=="string")g=Cy(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _e:return e=$t(31,a,t,o),e.elementType=_e,e.lanes=c,e;case S:return $n(a.children,o,c,t);case _:g=8,o|=24;break;case B:return e=$t(12,a,t,o|2),e.elementType=B,e.lanes=c,e;case se:return e=$t(13,a,t,o),e.elementType=se,e.lanes=c,e;case K:return e=$t(19,a,t,o),e.elementType=K,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:g=10;break e;case Y:g=9;break e;case Q:g=11;break e;case I:g=14;break e;case oe:g=16,i=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=$t(g,a,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function $n(e,t,a,i){return e=$t(7,e,i,t),e.lanes=a,e}function Yo(e,t,a){return e=$t(6,e,null,t),e.lanes=a,e}function Fd(e){var t=$t(18,null,null,0);return t.stateNode=e,t}function Vo(e,t,a){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wd=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var a=Wd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:oi(t)},Wd.set(e,t),t)}return{value:e,source:t,stack:oi(t)}}var Ss=[],Es=0,Pl=null,Oi=0,ea=[],ta=0,sn=null,ya=1,ba="";function ka(e,t){Ss[Es++]=Oi,Ss[Es++]=Pl,Pl=e,Oi=t}function eh(e,t,a){ea[ta++]=ya,ea[ta++]=ba,ea[ta++]=sn,sn=e;var i=ya;e=ba;var o=32-mt(i)-1;i&=~(1<<o),a+=1;var c=32-mt(t)+o;if(30<c){var g=o-o%5;c=(i&(1<<g)-1).toString(32),i>>=g,o-=g,ya=1<<32-mt(t)+o|a<<o|i,ba=c+e}else ya=1<<c|a<<o|i,ba=e}function Ko(e){e.return!==null&&(ka(e,1),eh(e,1,0))}function Jo(e){for(;e===Pl;)Pl=Ss[--Es],Ss[Es]=null,Oi=Ss[--Es],Ss[Es]=null;for(;e===sn;)sn=ea[--ta],ea[ta]=null,ba=ea[--ta],ea[ta]=null,ya=ea[--ta],ea[ta]=null}function th(e,t){ea[ta++]=ya,ea[ta++]=ba,ea[ta++]=sn,ya=t.id,ba=t.overflow,sn=e}var bt=null,Je=null,ke=!1,ln=null,aa=!1,Xo=Error(r(519));function rn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Wt(t,e)),Xo}function ah(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[at]=e,t[Tt]=i,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<Wi.length;a++)je(Wi[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),gd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),yd(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||xm(t.textContent,a)?(i.popover!=null&&(je("beforetoggle",t),je("toggle",t)),i.onScroll!=null&&je("scroll",t),i.onScrollEnd!=null&&je("scrollend",t),i.onClick!=null&&(t.onclick=Ta),t=!0):t=!1,t||rn(e,!0)}function nh(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:bt=bt.return}}function js(e){if(e!==bt)return!1;if(!ke)return nh(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dc(e.type,e.memoizedProps)),a=!a),a&&Je&&rn(e),nh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=km(e)}else t===27?(t=Je,wn(e.type)?(e=pc,pc=null,Je=e):Je=t):Je=bt?sa(e.stateNode.nextSibling):null;return!0}function Hn(){Je=bt=null,ke=!1}function Io(){var e=ln;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),ln=null),e}function Ri(e){ln===null?ln=[e]:ln.push(e)}var Qo=N(null),Gn=null,Oa=null;function on(e,t,a){P(Qo,t._currentValue),t._currentValue=a}function Ra(e){e._currentValue=Qo.current,G(Qo)}function Po(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Zo(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var g=o.child;c=c.firstContext;e:for(;c!==null;){var b=c;c=o;for(var E=0;E<t.length;E++)if(b.context===t[E]){c.lanes|=a,b=c.alternate,b!==null&&(b.lanes|=a),Po(c.return,a,e),i||(g=null);break e}c=b.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(r(341));g.lanes|=a,c=g.alternate,c!==null&&(c.lanes|=a),Po(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Ts(e,t,a,i){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var b=o.type;qt(o.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(o===Ce.current){if(g=o.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}o=o.return}e!==null&&Zo(t,e,a,i),t.flags|=262144}function Zl(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yn(e){Gn=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return sh(Gn,e)}function Fl(e,t){return Gn===null&&Yn(e),sh(e,t)}function sh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Oa===null){if(e===null)throw Error(r(308));Oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oa=Oa.next=t;return a}var Ap=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},kp=s.unstable_scheduleCallback,Op=s.unstable_NormalPriority,nt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new Ap,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&kp(Op,function(){e.controller.abort()})}var Di=null,Wo=0,Ns=0,As=null;function Rp(e,t){if(Di===null){var a=Di=[];Wo=0,Ns=ac(),As={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Wo++,t.then(ih,ih),t}function ih(){if(--Wo===0&&Di!==null){As!==null&&(As.status="fulfilled");var e=Di;Di=null,Ns=0,As=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cp(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var lh=C.S;C.S=function(e,t){Vf=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rp(e,t),lh!==null&&lh(e,t)};var Vn=N(null);function eu(){var e=Vn.current;return e!==null?e:Ge.pooledCache}function Wl(e,t){t===null?P(Vn,Vn.current):P(Vn,t.pool)}function rh(){var e=eu();return e===null?null:{parent:nt._currentValue,pool:e}}var ks=Error(r(460)),tu=Error(r(474)),er=Error(r(542)),tr={then:function(){}};function oh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ta,Ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e;default:if(typeof t.status=="string")t.then(Ta,Ta);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e}throw Jn=t,ks}}function Kn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jn=a,ks):a}}var Jn=null;function ch(){if(Jn===null)throw Error(r(459));var e=Jn;return Jn=null,e}function dh(e){if(e===ks||e===er)throw Error(r(483))}var Os=null,Ui=0;function ar(e){var t=Ui;return Ui+=1,Os===null&&(Os=[]),uh(Os,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nr(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hh(e){function t(R,A){if(e){var D=R.deletions;D===null?(R.deletions=[A],R.flags|=16):D.push(A)}}function a(R,A){if(!e)return null;for(;A!==null;)t(R,A),A=A.sibling;return null}function i(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function o(R,A){return R=Aa(R,A),R.index=0,R.sibling=null,R}function c(R,A,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<A?(R.flags|=67108866,A):D):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,A,D,H){return A===null||A.tag!==6?(A=Yo(D,R.mode,H),A.return=R,A):(A=o(A,D),A.return=R,A)}function E(R,A,D,H){var re=D.type;return re===S?$(R,A,D.props.children,H,D.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===oe&&Kn(re)===A.type)?(A=o(A,D.props),Mi(A,D),A.return=R,A):(A=Ql(D.type,D.key,D.props,null,R.mode,H),Mi(A,D),A.return=R,A)}function U(R,A,D,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Vo(D,R.mode,H),A.return=R,A):(A=o(A,D.children||[]),A.return=R,A)}function $(R,A,D,H,re){return A===null||A.tag!==7?(A=$n(D,R.mode,H,re),A.return=R,A):(A=o(A,D),A.return=R,A)}function V(R,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Yo(""+A,R.mode,D),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case j:return D=Ql(A.type,A.key,A.props,null,R.mode,D),Mi(D,A),D.return=R,D;case O:return A=Vo(A,R.mode,D),A.return=R,A;case oe:return A=Kn(A),V(R,A,D)}if(Z(A)||xe(A))return A=$n(A,R.mode,D,null),A.return=R,A;if(typeof A.then=="function")return V(R,ar(A),D);if(A.$$typeof===q)return V(R,Fl(R,A),D);nr(R,A)}return null}function M(R,A,D,H){var re=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return re!==null?null:b(R,A,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return D.key===re?E(R,A,D,H):null;case O:return D.key===re?U(R,A,D,H):null;case oe:return D=Kn(D),M(R,A,D,H)}if(Z(D)||xe(D))return re!==null?null:$(R,A,D,H,null);if(typeof D.then=="function")return M(R,A,ar(D),H);if(D.$$typeof===q)return M(R,A,Fl(R,D),H);nr(R,D)}return null}function L(R,A,D,H,re){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(D)||null,b(A,R,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return R=R.get(H.key===null?D:H.key)||null,E(A,R,H,re);case O:return R=R.get(H.key===null?D:H.key)||null,U(A,R,H,re);case oe:return H=Kn(H),L(R,A,D,H,re)}if(Z(H)||xe(H))return R=R.get(D)||null,$(A,R,H,re,null);if(typeof H.then=="function")return L(R,A,D,ar(H),re);if(H.$$typeof===q)return L(R,A,D,Fl(A,H),re);nr(A,H)}return null}function ae(R,A,D,H){for(var re=null,De=null,ie=A,ve=A=0,Ne=null;ie!==null&&ve<D.length;ve++){ie.index>ve?(Ne=ie,ie=null):Ne=ie.sibling;var Ue=M(R,ie,D[ve],H);if(Ue===null){ie===null&&(ie=Ne);break}e&&ie&&Ue.alternate===null&&t(R,ie),A=c(Ue,A,ve),De===null?re=Ue:De.sibling=Ue,De=Ue,ie=Ne}if(ve===D.length)return a(R,ie),ke&&ka(R,ve),re;if(ie===null){for(;ve<D.length;ve++)ie=V(R,D[ve],H),ie!==null&&(A=c(ie,A,ve),De===null?re=ie:De.sibling=ie,De=ie);return ke&&ka(R,ve),re}for(ie=i(ie);ve<D.length;ve++)Ne=L(ie,R,ve,D[ve],H),Ne!==null&&(e&&Ne.alternate!==null&&ie.delete(Ne.key===null?ve:Ne.key),A=c(Ne,A,ve),De===null?re=Ne:De.sibling=Ne,De=Ne);return e&&ie.forEach(function(Tn){return t(R,Tn)}),ke&&ka(R,ve),re}function ce(R,A,D,H){if(D==null)throw Error(r(151));for(var re=null,De=null,ie=A,ve=A=0,Ne=null,Ue=D.next();ie!==null&&!Ue.done;ve++,Ue=D.next()){ie.index>ve?(Ne=ie,ie=null):Ne=ie.sibling;var Tn=M(R,ie,Ue.value,H);if(Tn===null){ie===null&&(ie=Ne);break}e&&ie&&Tn.alternate===null&&t(R,ie),A=c(Tn,A,ve),De===null?re=Tn:De.sibling=Tn,De=Tn,ie=Ne}if(Ue.done)return a(R,ie),ke&&ka(R,ve),re;if(ie===null){for(;!Ue.done;ve++,Ue=D.next())Ue=V(R,Ue.value,H),Ue!==null&&(A=c(Ue,A,ve),De===null?re=Ue:De.sibling=Ue,De=Ue);return ke&&ka(R,ve),re}for(ie=i(ie);!Ue.done;ve++,Ue=D.next())Ue=L(ie,R,ve,Ue.value,H),Ue!==null&&(e&&Ue.alternate!==null&&ie.delete(Ue.key===null?ve:Ue.key),A=c(Ue,A,ve),De===null?re=Ue:De.sibling=Ue,De=Ue);return e&&ie.forEach(function(Yy){return t(R,Yy)}),ke&&ka(R,ve),re}function He(R,A,D,H){if(typeof D=="object"&&D!==null&&D.type===S&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case j:e:{for(var re=D.key;A!==null;){if(A.key===re){if(re=D.type,re===S){if(A.tag===7){a(R,A.sibling),H=o(A,D.props.children),H.return=R,R=H;break e}}else if(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===oe&&Kn(re)===A.type){a(R,A.sibling),H=o(A,D.props),Mi(H,D),H.return=R,R=H;break e}a(R,A);break}else t(R,A);A=A.sibling}D.type===S?(H=$n(D.props.children,R.mode,H,D.key),H.return=R,R=H):(H=Ql(D.type,D.key,D.props,null,R.mode,H),Mi(H,D),H.return=R,R=H)}return g(R);case O:e:{for(re=D.key;A!==null;){if(A.key===re)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(R,A.sibling),H=o(A,D.children||[]),H.return=R,R=H;break e}else{a(R,A);break}else t(R,A);A=A.sibling}H=Vo(D,R.mode,H),H.return=R,R=H}return g(R);case oe:return D=Kn(D),He(R,A,D,H)}if(Z(D))return ae(R,A,D,H);if(xe(D)){if(re=xe(D),typeof re!="function")throw Error(r(150));return D=re.call(D),ce(R,A,D,H)}if(typeof D.then=="function")return He(R,A,ar(D),H);if(D.$$typeof===q)return He(R,A,Fl(R,D),H);nr(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(R,A.sibling),H=o(A,D),H.return=R,R=H):(a(R,A),H=Yo(D,R.mode,H),H.return=R,R=H),g(R)):a(R,A)}return function(R,A,D,H){try{Ui=0;var re=He(R,A,D,H);return Os=null,re}catch(ie){if(ie===ks||ie===er)throw ie;var De=$t(29,ie,null,R.mode);return De.lanes=H,De.return=R,De}}}var Xn=hh(!0),fh=hh(!1),un=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Me&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Il(e),Pd(e,null,a),t}return Xl(e,i,t,a),Il(e)}function zi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Dl(e,a)}}function su(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=g:c=c.next=g,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var iu=!1;function Li(){if(iu){var e=As;if(e!==null)throw e}}function Bi(e,t,a,i){iu=!1;var o=e.updateQueue;un=!1;var c=o.firstBaseUpdate,g=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var E=b,U=E.next;E.next=null,g===null?c=U:g.next=U,g=E;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==g&&(b===null?$.firstBaseUpdate=U:b.next=U,$.lastBaseUpdate=E))}if(c!==null){var V=o.baseState;g=0,$=U=E=null,b=c;do{var M=b.lane&-536870913,L=M!==b.lane;if(L?(Te&M)===M:(i&M)===M){M!==0&&M===Ns&&(iu=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=e,ce=b;M=t;var He=a;switch(ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){V=ae.call(He,V,M);break e}V=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,M=typeof ae=="function"?ae.call(He,V,M):ae,M==null)break e;V=x({},V,M);break e;case 2:un=!0}}M=b.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[M]:L.push(M))}else L={lane:M,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(U=$=L,E=V):$=$.next=L,g|=M;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);$===null&&(E=V),o.baseState=E,o.firstBaseUpdate=U,o.lastBaseUpdate=$,c===null&&(o.shared.lanes=0),pn|=g,e.lanes=g,e.memoizedState=V}}function mh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function gh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mh(a[e],t)}var Rs=N(null),sr=N(0);function ph(e,t){e=$a,P(sr,e),P(Rs,t),$a=e|t.baseLanes}function lu(){P(sr,$a),P(Rs,Rs.current)}function ru(){$a=sr.current,G(Rs),G(sr)}var Ht=N(null),na=null;function hn(e){var t=e.alternate;P(We,We.current&1),P(Ht,e),na===null&&(t===null||Rs.current!==null||t.memoizedState!==null)&&(na=e)}function ou(e){P(We,We.current),P(Ht,e),na===null&&(na=e)}function yh(e){e.tag===22?(P(We,We.current),P(Ht,e),na===null&&(na=e)):fn()}function fn(){P(We,We.current),P(Ht,Ht.current)}function Gt(e){G(Ht),na===e&&(na=null),G(We)}var We=N(0);function ir(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mc(a)||gc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=0,ye=null,qe=null,st=null,lr=!1,Cs=!1,In=!1,rr=0,qi=0,Ds=null,Dp=0;function Pe(){throw Error(r(321))}function uu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!qt(e[a],t[a]))return!1;return!0}function cu(e,t,a,i,o,c){return Ca=c,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?ef:ju,In=!1,c=a(i,o),In=!1,Cs&&(c=vh(t,a,i,o)),bh(e),c}function bh(e){C.H=Gi;var t=qe!==null&&qe.next!==null;if(Ca=0,st=qe=ye=null,lr=!1,qi=0,Ds=null,t)throw Error(r(300));e===null||it||(e=e.dependencies,e!==null&&Zl(e)&&(it=!0))}function vh(e,t,a,i){ye=e;var o=0;do{if(Cs&&(Ds=null),qi=0,Cs=!1,25<=o)throw Error(r(301));if(o+=1,st=qe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=tf,c=t(a,i)}while(Cs);return c}function Up(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?$i(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(ye.flags|=1024),t}function du(){var e=rr!==0;return rr=0,e}function hu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function fu(e){if(lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}lr=!1}Ca=0,st=qe=ye=null,Cs=!1,qi=rr=0,Ds=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ye.memoizedState=st=e:st=st.next=e,st}function et(){if(qe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=st===null?ye.memoizedState:st.next;if(t!==null)st=t,qe=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},st===null?ye.memoizedState=st=e:st=st.next=e}return st}function or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $i(e){var t=qi;return qi+=1,Ds===null&&(Ds=[]),e=uh(Ds,e,t),t=ye,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?ef:ju),e}function ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $i(e);if(e.$$typeof===q)return vt(e)}throw Error(r(438,String(e)))}function mu(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=or(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=ht;return t.index++,a}function Da(e,t){return typeof t=="function"?t(e):t}function cr(e){var t=et();return gu(t,qe,e)}function gu(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var o=e.baseQueue,c=i.pending;if(c!==null){if(o!==null){var g=o.next;o.next=c.next,c.next=g}t.baseQueue=o=c,i.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var b=g=null,E=null,U=t,$=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(Te&V)===V:(Ca&V)===V){var M=U.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===Ns&&($=!0);else if((Ca&M)===M){U=U.next,M===Ns&&($=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(b=E=V,g=c):E=E.next=V,ye.lanes|=M,pn|=M;V=U.action,In&&a(c,V),c=U.hasEagerState?U.eagerState:a(c,V)}else M={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(b=E=M,g=c):E=E.next=M,ye.lanes|=V,pn|=V;U=U.next}while(U!==null&&U!==t);if(E===null?g=c:E.next=b,!qt(c,e.memoizedState)&&(it=!0,$&&(a=As,a!==null)))throw a;e.memoizedState=c,e.baseState=g,e.baseQueue=E,i.lastRenderedState=c}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function pu(e){var t=et(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do c=e(c,g.action),g=g.next;while(g!==o);qt(c,t.memoizedState)||(it=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,i]}function xh(e,t,a){var i=ye,o=et(),c=ke;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var g=!qt((qe||o).memoizedState,a);if(g&&(o.memoizedState=a,it=!0),o=o.queue,vu(Sh.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||st!==null&&st.memoizedState.tag&1){if(i.flags|=2048,Us(9,{destroy:void 0},_h.bind(null,i,o,a,t),null),Ge===null)throw Error(r(349));c||(Ca&127)!==0||wh(i,t,a)}return a}function wh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=or(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _h(e,t,a,i){t.value=a,t.getSnapshot=i,Eh(t)&&jh(e)}function Sh(e,t,a){return a(function(){Eh(t)&&jh(e)})}function Eh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!qt(e,a)}catch{return!0}}function jh(e){var t=qn(e,2);t!==null&&zt(t,e,2)}function yu(e){var t=Ot();if(typeof e=="function"){var a=e;if(e=a(),In){tt(!0);try{a()}finally{tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t}function Th(e,t,a,i){return e.baseState=a,gu(e,qe,typeof i=="function"?i:Da)}function Mp(e,t,a,i,o){if(fr(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};C.T!==null?a(!0):c.isTransition=!1,i(c),a=t.pending,a===null?(c.next=t.pending=c,Nh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Nh(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var c=C.T,g={};C.T=g;try{var b=a(o,i),E=C.S;E!==null&&E(g,b),Ah(e,t,b)}catch(U){bu(e,t,U)}finally{c!==null&&g.types!==null&&(c.types=g.types),C.T=c}}else try{c=a(o,i),Ah(e,t,c)}catch(U){bu(e,t,U)}}function Ah(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){kh(e,t,i)},function(i){return bu(e,t,i)}):kh(e,t,a)}function kh(e,t,a){t.status="fulfilled",t.value=a,Oh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Nh(e,a)))}function bu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Oh(t),t=t.next;while(t!==i)}e.action=null}function Oh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rh(e,t){return t}function Ch(e,t){if(ke){var a=Ge.formState;if(a!==null){e:{var i=ye;if(ke){if(Je){t:{for(var o=Je,c=aa;o.nodeType!==8;){if(!c){o=null;break t}if(o=sa(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Je=sa(o.nextSibling),i=o.data==="F!";break e}}rn(i)}i=!1}i&&(t=a[0])}}return a=Ot(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:t},a.queue=i,a=Zh.bind(null,ye,i),i.dispatch=a,i=yu(!1),c=Eu.bind(null,ye,!1,i.queue),i=Ot(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=Mp.bind(null,ye,o,c,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Dh(e){var t=et();return Uh(t,qe,e)}function Uh(e,t,a){if(t=gu(e,t,Rh)[0],e=cr(Da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=$i(t)}catch(g){throw g===ks?er:g}else i=t;t=et();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Us(9,{destroy:void 0},zp.bind(null,o,a),null)),[i,c,e]}function zp(e,t){e.action=t}function Mh(e){var t=et(),a=qe;if(a!==null)return Uh(t,a,e);et(),t=t.memoizedState,a=et();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Us(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ye.updateQueue,t===null&&(t=or(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function zh(){return et().memoizedState}function dr(e,t,a,i){var o=Ot();ye.flags|=e,o.memoizedState=Us(1|t,{destroy:void 0},a,i===void 0?null:i)}function hr(e,t,a,i){var o=et();i=i===void 0?null:i;var c=o.memoizedState.inst;qe!==null&&i!==null&&uu(i,qe.memoizedState.deps)?o.memoizedState=Us(t,c,a,i):(ye.flags|=e,o.memoizedState=Us(1|t,c,a,i))}function Lh(e,t){dr(8390656,8,e,t)}function vu(e,t){hr(2048,8,e,t)}function Lp(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=or(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Bh(e){var t=et().memoizedState;return Lp({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function qh(e,t){return hr(4,2,e,t)}function $h(e,t){return hr(4,4,e,t)}function Hh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,a){a=a!=null?a.concat([e]):null,hr(4,4,Hh.bind(null,t,e),a)}function xu(){}function Yh(e,t){var a=et();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&uu(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Vh(e,t){var a=et();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&uu(t,i[1]))return i[0];if(i=e(),In){tt(!0);try{e()}finally{tt(!1)}}return a.memoizedState=[i,t],i}function wu(e,t,a){return a===void 0||(Ca&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Jf(),ye.lanes|=e,pn|=e,a)}function Kh(e,t,a,i){return qt(a,t)?a:Rs.current!==null?(e=wu(e,a,i),qt(e,t)||(it=!0),e):(Ca&42)===0||(Ca&1073741824)!==0&&(Te&261930)===0?(it=!0,e.memoizedState=a):(e=Jf(),ye.lanes|=e,pn|=e,t)}function Jh(e,t,a,i,o){var c=X.p;X.p=c!==0&&8>c?c:8;var g=C.T,b={};C.T=b,Eu(e,!1,t,a);try{var E=o(),U=C.S;if(U!==null&&U(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=Cp(E,i);Hi(e,t,$,Kt(e))}else Hi(e,t,i,Kt(e))}catch(V){Hi(e,t,{then:function(){},status:"rejected",reason:V},Kt())}finally{X.p=c,g!==null&&b.types!==null&&(g.types=b.types),C.T=g}}function Bp(){}function _u(e,t,a,i){if(e.tag!==5)throw Error(r(476));var o=Xh(e).queue;Jh(e,o,t,te,a===null?Bp:function(){return Ih(e),a(i)})}function Xh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ih(e){var t=Xh(e);t.next===null&&(t=e.alternate.memoizedState),Hi(e,t.next.queue,{},Kt())}function Su(){return vt(sl)}function Qh(){return et().memoizedState}function Ph(){return et().memoizedState}function qp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Kt();e=cn(a);var i=dn(t,e,a);i!==null&&(zt(i,t,a),zi(i,t,a)),t={cache:Fo()},e.payload=t;return}t=t.return}}function $p(e,t,a){var i=Kt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fr(e)?Fh(t,a):(a=Ho(e,t,a,i),a!==null&&(zt(a,e,i),Wh(a,t,i)))}function Zh(e,t,a){var i=Kt();Hi(e,t,a,i)}function Hi(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fr(e))Fh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,b=c(g,a);if(o.hasEagerState=!0,o.eagerState=b,qt(b,g))return Xl(e,t,o,0),Ge===null&&Jl(),!1}catch{}if(a=Ho(e,t,o,i),a!==null)return zt(a,e,i),Wh(a,t,i),!0}return!1}function Eu(e,t,a,i){if(i={lane:2,revertLane:ac(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},fr(e)){if(t)throw Error(r(479))}else t=Ho(e,a,i,2),t!==null&&zt(t,e,2)}function fr(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Fh(e,t){Cs=lr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Dl(e,a)}}var Gi={readContext:vt,use:ur,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Gi.useEffectEvent=Pe;var ef={readContext:vt,use:ur,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Lh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,dr(4194308,4,Hh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return dr(4194308,4,e,t)},useInsertionEffect:function(e,t){dr(4,2,e,t)},useMemo:function(e,t){var a=Ot();t=t===void 0?null:t;var i=e();if(In){tt(!0);try{e()}finally{tt(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=Ot();if(a!==void 0){var o=a(t);if(In){tt(!0);try{a(t)}finally{tt(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=$p.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=yu(e);var t=e.queue,a=Zh.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:xu,useDeferredValue:function(e,t){var a=Ot();return wu(a,e,t)},useTransition:function(){var e=yu(!1);return e=Jh.bind(null,ye,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ye,o=Ot();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ge===null)throw Error(r(349));(Te&127)!==0||wh(i,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Lh(Sh.bind(null,i,c,e),[e]),i.flags|=2048,Us(9,{destroy:void 0},_h.bind(null,i,c,a,t),null),a},useId:function(){var e=Ot(),t=Ge.identifierPrefix;if(ke){var a=ba,i=ya;a=(i&~(1<<32-mt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=rr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Dp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Su,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Eu.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:mu,useCacheRefresh:function(){return Ot().memoizedState=qp.bind(null,ye)},useEffectEvent:function(e){var t=Ot(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ju={readContext:vt,use:ur,useCallback:Yh,useContext:vt,useEffect:vu,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:$h,useMemo:Vh,useReducer:cr,useRef:zh,useState:function(){return cr(Da)},useDebugValue:xu,useDeferredValue:function(e,t){var a=et();return Kh(a,qe.memoizedState,e,t)},useTransition:function(){var e=cr(Da)[0],t=et().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:xh,useId:Qh,useHostTransitionStatus:Su,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var a=et();return Th(a,qe,e,t)},useMemoCache:mu,useCacheRefresh:Ph};ju.useEffectEvent=Bh;var tf={readContext:vt,use:ur,useCallback:Yh,useContext:vt,useEffect:vu,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:$h,useMemo:Vh,useReducer:pu,useRef:zh,useState:function(){return pu(Da)},useDebugValue:xu,useDeferredValue:function(e,t){var a=et();return qe===null?wu(a,e,t):Kh(a,qe.memoizedState,e,t)},useTransition:function(){var e=pu(Da)[0],t=et().memoizedState;return[typeof e=="boolean"?e:$i(e),t]},useSyncExternalStore:xh,useId:Qh,useHostTransitionStatus:Su,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var a=et();return qe!==null?Th(a,qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mu,useCacheRefresh:Ph};tf.useEffectEvent=Bh;function Tu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Kt(),o=cn(i);o.payload=t,a!=null&&(o.callback=a),t=dn(e,o,i),t!==null&&(zt(t,e,i),zi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Kt(),o=cn(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=dn(e,o,i),t!==null&&(zt(t,e,i),zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kt(),i=cn(a);i.tag=2,t!=null&&(i.callback=t),t=dn(e,i,a),t!==null&&(zt(t,e,a),zi(t,e,a))}};function af(e,t,a,i,o,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,g):t.prototype&&t.prototype.isPureReactComponent?!Ai(a,i)||!Ai(o,c):!0}function nf(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function Qn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function sf(e){Kl(e)}function lf(e){console.error(e)}function rf(e){Kl(e)}function mr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function of(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Au(e,t,a){return a=cn(a),a.tag=3,a.payload={element:null},a.callback=function(){mr(e,t)},a}function uf(e){return e=cn(e),e.tag=3,e}function cf(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;e.payload=function(){return o(c)},e.callback=function(){of(t,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){of(t,a,i),typeof o!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function Hp(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Ts(t,a,o,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return na===null?Tr():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===tr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Wu(e,i,o)),!1;case 22:return a.flags|=65536,i===tr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Wu(e,i,o)),!1}throw Error(r(435,a.tag))}return Wu(e,i,o),Tr(),!1}if(ke)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Xo&&(e=Error(r(422),{cause:i}),Ri(Wt(e,a)))):(i!==Xo&&(t=Error(r(423),{cause:i}),Ri(Wt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Wt(i,a),o=Au(e.stateNode,i,o),su(e,o),Ze!==4&&(Ze=2)),!1;var c=Error(r(520),{cause:i});if(c=Wt(c,a),Pi===null?Pi=[c]:Pi.push(c),Ze!==4&&(Ze=2),t===null)return!0;i=Wt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Au(a.stateNode,i,e),su(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(yn===null||!yn.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=uf(o),cf(o,e,a,i),su(a,o),!1}a=a.return}while(a!==null);return!1}var ku=Error(r(461)),it=!1;function xt(e,t,a,i){t.child=e===null?fh(t,null,a,i):Xn(t,e.child,a,i)}function df(e,t,a,i,o){a=a.render;var c=t.ref;if("ref"in i){var g={};for(var b in i)b!=="ref"&&(g[b]=i[b])}else g=i;return Yn(t),i=cu(e,t,a,g,c,o),b=du(),e!==null&&!it?(hu(e,t,o),Ua(e,t,o)):(ke&&b&&Ko(t),t.flags|=1,xt(e,t,i,o),t.child)}function hf(e,t,a,i,o){if(e===null){var c=a.type;return typeof c=="function"&&!Go(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,ff(e,t,c,i,o)):(e=Ql(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Lu(e,o)){var g=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ai,a(g,i)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,e=Aa(c,i),e.ref=t.ref,e.return=t,t.child=e}function ff(e,t,a,i,o){if(e!==null){var c=e.memoizedProps;if(Ai(c,i)&&e.ref===t.ref)if(it=!1,t.pendingProps=i=c,Lu(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Ua(e,t,o)}return Ou(e,t,a,i,o)}function mf(e,t,a,i){var o=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~c}else i=0,t.child=null;return gf(e,t,c,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wl(t,c!==null?c.cachePool:null),c!==null?ph(t,c):lu(),yh(t);else return i=t.lanes=536870912,gf(e,t,c!==null?c.baseLanes|a:a,a,i)}else c!==null?(Wl(t,c.cachePool),ph(t,c),fn(),t.memoizedState=null):(e!==null&&Wl(t,null),lu(),fn());return xt(e,t,o,a),t.child}function Yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gf(e,t,a,i,o){var c=eu();return c=c===null?null:{parent:nt._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Wl(t,null),lu(),yh(t),e!==null&&Ts(e,t,i,!0),t.childLanes=o,null}function gr(e,t){return t=yr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pf(e,t,a){return Xn(t,e.child,null,a),e=gr(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Gp(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(i.mode==="hidden")return e=gr(t,i),t.lanes=536870912,Yi(null,e);if(ou(t),(e=Je)?(e=Am(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sn!==null?{id:ya,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},a=Fd(e),a.return=t,t.child=a,bt=t,Je=null)):e=null,e===null)throw rn(t);return t.lanes=536870912,null}return gr(t,i)}var c=e.memoizedState;if(c!==null){var g=c.dehydrated;if(ou(t),o)if(t.flags&256)t.flags&=-257,t=pf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(it||Ts(e,t,a,!1),o=(a&e.childLanes)!==0,it||o){if(i=Ge,i!==null&&(g=pi(i,a),g!==0&&g!==c.retryLane))throw c.retryLane=g,qn(e,g),zt(i,e,g),ku;Tr(),t=pf(e,t,a)}else e=c.treeContext,Je=sa(g.nextSibling),bt=t,ke=!0,ln=null,aa=!1,e!==null&&th(t,e),t=gr(t,i),t.flags|=4096;return t}return e=Aa(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ou(e,t,a,i,o){return Yn(t),a=cu(e,t,a,i,void 0,o),i=du(),e!==null&&!it?(hu(e,t,o),Ua(e,t,o)):(ke&&i&&Ko(t),t.flags|=1,xt(e,t,a,o),t.child)}function yf(e,t,a,i,o,c){return Yn(t),t.updateQueue=null,a=vh(t,i,a,o),bh(e),i=du(),e!==null&&!it?(hu(e,t,c),Ua(e,t,c)):(ke&&i&&Ko(t),t.flags|=1,xt(e,t,a,c),t.child)}function bf(e,t,a,i,o){if(Yn(t),t.stateNode===null){var c=_s,g=a.contextType;typeof g=="object"&&g!==null&&(c=vt(g)),c=new a(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Nu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},au(t),g=a.contextType,c.context=typeof g=="object"&&g!==null?vt(g):_s,c.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Tu(t,a,g,i),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Nu.enqueueReplaceState(c,c.state,null),Bi(t,i,c,o),Li(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var b=t.memoizedProps,E=Qn(a,b);c.props=E;var U=c.context,$=a.contextType;g=_s,typeof $=="object"&&$!==null&&(g=vt($));var V=a.getDerivedStateFromProps;$=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||U!==g)&&nf(t,c,i,g),un=!1;var M=t.memoizedState;c.state=M,Bi(t,i,c,o),Li(),U=t.memoizedState,b||M!==U||un?(typeof V=="function"&&(Tu(t,a,V,i),U=t.memoizedState),(E=un||af(t,a,E,i,M,U,g))?($||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=U),c.props=i,c.state=U,c.context=g,i=E):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,nu(e,t),g=t.memoizedProps,$=Qn(a,g),c.props=$,V=t.pendingProps,M=c.context,U=a.contextType,E=_s,typeof U=="object"&&U!==null&&(E=vt(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==V||M!==E)&&nf(t,c,i,E),un=!1,M=t.memoizedState,c.state=M,Bi(t,i,c,o),Li();var L=t.memoizedState;g!==V||M!==L||un||e!==null&&e.dependencies!==null&&Zl(e.dependencies)?(typeof b=="function"&&(Tu(t,a,b,i),L=t.memoizedState),($=un||af(t,a,$,i,M,L,E)||e!==null&&e.dependencies!==null&&Zl(e.dependencies))?(U||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,L,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,L,E)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=L),c.props=i,c.state=L,c.context=E,i=$):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,pr(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=Xn(t,e.child,null,o),t.child=Xn(t,null,a,o)):xt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Ua(e,t,o),e}function vf(e,t,a,i){return Hn(),t.flags|=256,xt(e,t,a,i),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:rh()}}function Du(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function xf(e,t,a){var i=t.pendingProps,o=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(o?hn(t):fn(),(e=Je)?(e=Am(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sn!==null?{id:ya,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},a=Fd(e),a.return=t,t.child=a,bt=t,Je=null)):e=null,e===null)throw rn(t);return gc(e)?t.lanes=32:t.lanes=536870912,null}var b=i.children;return i=i.fallback,o?(fn(),o=t.mode,b=yr({mode:"hidden",children:b},o),i=$n(i,o,a,null),b.return=t,i.return=t,b.sibling=i,t.child=b,i=t.child,i.memoizedState=Cu(a),i.childLanes=Du(e,g,a),t.memoizedState=Ru,Yi(null,i)):(hn(t),Uu(t,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(c)t.flags&256?(hn(t),t.flags&=-257,t=Mu(e,t,a)):t.memoizedState!==null?(fn(),t.child=e.child,t.flags|=128,t=null):(fn(),b=i.fallback,o=t.mode,i=yr({mode:"visible",children:i.children},o),b=$n(b,o,a,null),b.flags|=2,i.return=t,b.return=t,i.sibling=b,t.child=i,Xn(t,e.child,null,a),i=t.child,i.memoizedState=Cu(a),i.childLanes=Du(e,g,a),t.memoizedState=Ru,t=Yi(null,i));else if(hn(t),gc(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var U=g.dgst;g=U,i=Error(r(419)),i.stack="",i.digest=g,Ri({value:i,source:null,stack:null}),t=Mu(e,t,a)}else if(it||Ts(e,t,a,!1),g=(a&e.childLanes)!==0,it||g){if(g=Ge,g!==null&&(i=pi(g,a),i!==0&&i!==E.retryLane))throw E.retryLane=i,qn(e,i),zt(g,e,i),ku;mc(b)||Tr(),t=Mu(e,t,a)}else mc(b)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Je=sa(b.nextSibling),bt=t,ke=!0,ln=null,aa=!1,e!==null&&th(t,e),t=Uu(t,i.children),t.flags|=4096);return t}return o?(fn(),b=i.fallback,o=t.mode,E=e.child,U=E.sibling,i=Aa(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,U!==null?b=Aa(U,b):(b=$n(b,o,a,null),b.flags|=2),b.return=t,i.return=t,i.sibling=b,t.child=i,Yi(null,i),i=t.child,b=e.child.memoizedState,b===null?b=Cu(a):(o=b.cachePool,o!==null?(E=nt._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=rh(),b={baseLanes:b.baseLanes|a,cachePool:o}),i.memoizedState=b,i.childLanes=Du(e,g,a),t.memoizedState=Ru,Yi(e.child,i)):(hn(t),a=e.child,e=a.sibling,a=Aa(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Uu(e,t){return t=yr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yr(e,t){return e=$t(22,e,null,t),e.lanes=0,e}function Mu(e,t,a){return Xn(t,e.child,null,a),e=Uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wf(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Po(e.return,t,a)}function zu(e,t,a,i,o,c){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:c}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=a,g.tailMode=o,g.treeForkCount=c)}function _f(e,t,a){var i=t.pendingProps,o=i.revealOrder,c=i.tail;i=i.children;var g=We.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,P(We,g),xt(e,t,i,a),i=ke?Oi:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,a,t);else if(e.tag===19)wf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&ir(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),zu(t,!1,o,a,c,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ir(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}zu(t,!0,a,null,c,i);break;case"together":zu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ts(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Lu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zl(e)))}function Yp(e,t,a){switch(t.tag){case 3:Ke(t,t.stateNode.containerInfo),on(t,nt,e.memoizedState.cache),Hn();break;case 27:case 5:Pa(t);break;case 4:Ke(t,t.stateNode.containerInfo);break;case 10:on(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ou(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(hn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?xf(e,t,a):(hn(t),e=Ua(e,t,a),e!==null?e.sibling:null);hn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Ts(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return _f(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(We,We.current),i)break;return null;case 22:return t.lanes=0,mf(e,t,a,t.pendingProps);case 24:on(t,nt,e.memoizedState.cache)}return Ua(e,t,a)}function Sf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Lu(e,a)&&(t.flags&128)===0)return it=!1,Yp(e,t,a);it=(e.flags&131072)!==0}else it=!1,ke&&(t.flags&1048576)!==0&&eh(t,Oi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Kn(t.elementType),t.type=e,typeof e=="function")Go(e)?(i=Qn(e,i),t.tag=1,t=bf(null,t,e,i,a)):(t.tag=0,t=Ou(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=df(null,t,e,i,a);break e}else if(o===I){t.tag=14,t=hf(null,t,e,i,a);break e}}throw t=W(e)||e,Error(r(306,t,""))}}return t;case 0:return Ou(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=Qn(i,t.pendingProps),bf(e,t,i,o,a);case 3:e:{if(Ke(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var c=t.memoizedState;o=c.element,nu(e,t),Bi(t,i,null,a);var g=t.memoizedState;if(i=g.cache,on(t,nt,i),i!==c.cache&&Zo(t,[nt],a,!0),Li(),i=g.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=vf(e,t,i,a);break e}else if(i!==o){o=Wt(Error(r(424)),t),Ri(o),t=vf(e,t,i,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Je=sa(e.firstChild),bt=t,ke=!0,ln=null,aa=!0,a=fh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hn(),i===o){t=Ua(e,t,a);break e}xt(e,t,i,a)}t=t.child}return t;case 26:return pr(e,t),e===null?(a=Um(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,i=Dr(we.current).createElement(a),i[at]=t,i[Tt]=e,wt(i,a,e),Se(i),t.stateNode=i):t.memoizedState=Um(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pa(t),e===null&&ke&&(i=t.stateNode=Rm(t.type,t.pendingProps,we.current),bt=t,aa=!0,o=Je,wn(t.type)?(pc=o,Je=sa(i.firstChild)):Je=o),xt(e,t,t.pendingProps.children,a),pr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((o=i=Je)&&(i=vy(i,t.type,t.pendingProps,aa),i!==null?(t.stateNode=i,bt=t,Je=sa(i.firstChild),aa=!1,o=!0):o=!1),o||rn(t)),Pa(t),o=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,i=c.children,dc(o,c)?i=null:g!==null&&dc(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=cu(e,t,Up,null,null,a),sl._currentValue=o),pr(e,t),xt(e,t,i,a),t.child;case 6:return e===null&&ke&&((e=a=Je)&&(a=xy(a,t.pendingProps,aa),a!==null?(t.stateNode=a,bt=t,Je=null,e=!0):e=!1),e||rn(t)),null;case 13:return xf(e,t,a);case 4:return Ke(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xn(t,null,i,a):xt(e,t,i,a),t.child;case 11:return df(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,on(t,t.type,i.value),xt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Yn(t),o=vt(o),i=i(o),t.flags|=1,xt(e,t,i,a),t.child;case 14:return hf(e,t,t.type,t.pendingProps,a);case 15:return ff(e,t,t.type,t.pendingProps,a);case 19:return _f(e,t,a);case 31:return Gp(e,t,a);case 22:return mf(e,t,a,t.pendingProps);case 24:return Yn(t),i=vt(nt),e===null?(o=eu(),o===null&&(o=Ge,c=Fo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:i,cache:o},au(t),on(t,nt,o)):((e.lanes&a)!==0&&(nu(e,t),Bi(t,null,null,a),Li()),o=e.memoizedState,c=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),on(t,nt,i)):(i=c.cache,on(t,nt,i),i!==o.cache&&Zo(t,[nt],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ma(e){e.flags|=4}function Bu(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Pf())e.flags|=8192;else throw Jn=tr,tu}else e.flags&=-16777217}function Ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qm(t))if(Pf())e.flags|=8192;else throw Jn=tr,tu}function br(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fi():536870912,e.lanes|=t,Bs|=t)}function Vi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Vp(e,t,a){var i=t.pendingProps;switch(Jo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ra(nt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(js(t)?Ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Io())),Xe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Ma(t),c!==null?(Xe(t),Ef(t,c)):(Xe(t),Bu(t,o,null,i,a))):c?c!==e.memoizedState?(Ma(t),Xe(t),Ef(t,c)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Ma(t),Xe(t),Bu(t,o,e,i,a)),null;case 27:if(Lt(t),a=we.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=F.current,js(t)?ah(t):(e=Rm(o,i,a),t.stateNode=e,Ma(t))}return Xe(t),null;case 5:if(Lt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(c=F.current,js(t))ah(t);else{var g=Dr(we.current);switch(c){case 1:c=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=g.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?g.createElement(o,{is:i.is}):g.createElement(o)}}c[at]=t,c[Tt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=c;e:switch(wt(c,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ma(t)}}return Xe(t),Bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ma(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=we.current,js(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=bt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[at]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||xm(e.nodeValue,a)),e||rn(t,!0)}else e=Dr(e).createTextNode(i),e[at]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=js(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[at]=t}else Hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=js(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[at]=t}else Hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else o=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),br(t,t.updateQueue),Xe(t),null);case 4:return Ye(),e===null&&lc(t.stateNode.containerInfo),Xe(t),null;case 10:return Ra(t.type),Xe(t),null;case 19:if(G(We),i=t.memoizedState,i===null)return Xe(t),null;if(o=(t.flags&128)!==0,c=i.rendering,c===null)if(o)Vi(i,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ir(e),c!==null){for(t.flags|=128,Vi(i,!1),e=c.updateQueue,t.updateQueue=e,br(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Zd(a,e),a=a.sibling;return P(We,We.current&1|2),ke&&ka(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ft()>Sr&&(t.flags|=128,o=!0,Vi(i,!1),t.lanes=4194304)}else{if(!o)if(e=ir(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,br(t,e),Vi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!ke)return Xe(t),null}else 2*ft()-i.renderingStartTime>Sr&&a!==536870912&&(t.flags|=128,o=!0,Vi(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,a=We.current,P(We,o?a&1|2:a&1),ke&&ka(t,i.treeForkCount),e):(Xe(t),null);case 22:case 23:return Gt(t),ru(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&br(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&G(Vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ra(nt),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Kp(e,t){switch(Jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(nt),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lt(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(r(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(We),null;case 4:return Ye(),null;case 10:return Ra(t.type),null;case 22:case 23:return Gt(t),ru(),e!==null&&G(Vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ra(nt),null;case 25:return null;default:return null}}function jf(e,t){switch(Jo(t),t.tag){case 3:Ra(nt),Ye();break;case 26:case 27:case 5:Lt(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:G(We);break;case 10:Ra(t.type);break;case 22:case 23:Gt(t),ru(),e!==null&&G(Vn);break;case 24:Ra(nt)}}function Ki(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var c=a.create,g=a.inst;i=c(),g.destroy=i}a=a.next}while(a!==o)}}catch(b){Be(t,t.return,b)}}function mn(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){var g=i.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,o=t;var E=a,U=b;try{U()}catch($){Be(o,E,$)}}}i=i.next}while(i!==c)}}catch($){Be(t,t.return,$)}}function Tf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{gh(t,a)}catch(i){Be(e,e.return,i)}}}function Nf(e,t,a){a.props=Qn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Be(e,t,i)}}function Ji(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Be(e,t,o)}}function va(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Be(e,t,o)}else a.current=null}function Af(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Be(e,e.return,o)}}function qu(e,t,a){try{var i=e.stateNode;fy(i,e.type,a,t),i[Tt]=t}catch(o){Be(e,e.return,o)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wn(e.type)||e.tag===4}function $u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ta));else if(i!==4&&(i===27&&wn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Hu(e,t,a),e=e.sibling;e!==null;)Hu(e,t,a),e=e.sibling}function vr(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&wn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vr(e,t,a),e=e.sibling;e!==null;)vr(e,t,a),e=e.sibling}function Of(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);wt(t,i,a),t[at]=e,t[Tt]=a}catch(c){Be(e,e.return,c)}}var za=!1,lt=!1,Gu=!1,Rf=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Jp(e,t){if(e=e.containerInfo,uc=$r,e=Gd(e),Mo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var g=0,b=-1,E=-1,U=0,$=0,V=e,M=null;t:for(;;){for(var L;V!==a||o!==0&&V.nodeType!==3||(b=g+o),V!==c||i!==0&&V.nodeType!==3||(E=g+i),V.nodeType===3&&(g+=V.nodeValue.length),(L=V.firstChild)!==null;)M=V,V=L;for(;;){if(V===e)break t;if(M===a&&++U===o&&(b=g),M===c&&++$===i&&(E=g),(L=V.nextSibling)!==null)break;V=M,M=V.parentNode}V=L}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(cc={focusedElem:e,selectionRange:a},$r=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,i=a.stateNode;try{var ae=Qn(a.type,o);e=i.getSnapshotBeforeUpdate(ae,c),i.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Be(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)fc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function Cf(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(e,a),i&4&&Ki(5,a);break;case 1:if(Ba(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Be(a,a.return,g)}else{var o=Qn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Be(a,a.return,g)}}i&64&&Tf(a),i&512&&Ji(a,a.return);break;case 3:if(Ba(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{gh(e,t)}catch(g){Be(a,a.return,g)}}break;case 27:t===null&&i&4&&Of(a);case 26:case 5:Ba(e,a),t===null&&i&4&&Af(a),i&512&&Ji(a,a.return);break;case 12:Ba(e,a);break;case 31:Ba(e,a),i&4&&Mf(e,a);break;case 13:Ba(e,a),i&4&&zf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ty.bind(null,a),wy(e,a))));break;case 22:if(i=a.memoizedState!==null||za,!i){t=t!==null&&t.memoizedState!==null||lt,o=za;var c=lt;za=i,(lt=t)&&!c?qa(e,a,(a.subtreeFlags&8772)!==0):Ba(e,a),za=o,lt=c}break;case 30:break;default:Ba(e,a)}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Ct=!1;function La(e,t,a){for(a=a.child;a!==null;)Uf(e,t,a),a=a.sibling}function Uf(e,t,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ea,a)}catch{}switch(a.tag){case 26:lt||va(a,t),La(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||va(a,t);var i=Ie,o=Ct;wn(a.type)&&(Ie=a.stateNode,Ct=!1),La(e,t,a),tl(a.stateNode),Ie=i,Ct=o;break;case 5:lt||va(a,t);case 6:if(i=Ie,o=Ct,Ie=null,La(e,t,a),Ie=i,Ct=o,Ie!==null)if(Ct)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(c){Be(a,t,c)}else try{Ie.removeChild(a.stateNode)}catch(c){Be(a,t,c)}break;case 18:Ie!==null&&(Ct?(e=Ie,Tm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Js(e)):Tm(Ie,a.stateNode));break;case 4:i=Ie,o=Ct,Ie=a.stateNode.containerInfo,Ct=!0,La(e,t,a),Ie=i,Ct=o;break;case 0:case 11:case 14:case 15:mn(2,a,t),lt||mn(4,a,t),La(e,t,a);break;case 1:lt||(va(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Nf(a,t,i)),La(e,t,a);break;case 21:La(e,t,a);break;case 22:lt=(i=lt)||a.memoizedState!==null,La(e,t,a),lt=i;break;default:La(e,t,a)}}function Mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Js(e)}catch(a){Be(t,t.return,a)}}}function zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Js(e)}catch(a){Be(t,t.return,a)}}function Xp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rf),t;default:throw Error(r(435,e.tag))}}function xr(e,t){var a=Xp(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=ay.bind(null,e,i);i.then(o,o)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],c=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(wn(b.type)){Ie=b.stateNode,Ct=!1;break e}break;case 5:Ie=b.stateNode,Ct=!1;break e;case 3:case 4:Ie=b.stateNode.containerInfo,Ct=!0;break e}b=b.return}if(Ie===null)throw Error(r(160));Uf(c,g,o),Ie=null,Ct=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lf(t,e),t=t.sibling}var ca=null;function Lf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Ut(e),i&4&&(mn(3,e,e.return),Ki(3,e),mn(5,e,e.return));break;case 1:Dt(t,e),Ut(e),i&512&&(lt||a===null||va(a,a.return)),i&64&&za&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=ca;if(Dt(t,e),Ut(e),i&512&&(lt||a===null||va(a,a.return)),i&4){var c=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":c=o.getElementsByTagName("title")[0],(!c||c[J]||c[at]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(i),o.head.insertBefore(c,o.querySelector("head > title"))),wt(c,i,a),c[at]=e,Se(c),i=c;break e;case"link":var g=Lm("link","href",o).get(i+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(c=g[b],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}c=o.createElement(i),wt(c,i,a),o.head.appendChild(c);break;case"meta":if(g=Lm("meta","content",o).get(i+(a.content||""))){for(b=0;b<g.length;b++)if(c=g[b],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}c=o.createElement(i),wt(c,i,a),o.head.appendChild(c);break;default:throw Error(r(468,i))}c[at]=e,Se(c),i=c}e.stateNode=i}else Bm(o,e.type,e.stateNode);else e.stateNode=zm(o,i,e.memoizedProps);else c!==i?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,i===null?Bm(o,e.type,e.stateNode):zm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&qu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),Ut(e),i&512&&(lt||a===null||va(a,a.return)),a!==null&&i&4&&qu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),Ut(e),i&512&&(lt||a===null||va(a,a.return)),e.flags&32){o=e.stateNode;try{gs(o,"")}catch(ae){Be(e,e.return,ae)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,qu(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Gu=!0);break;case 6:if(Dt(t,e),Ut(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(ae){Be(e,e.return,ae)}}break;case 3:if(zr=null,o=ca,ca=Ur(t.containerInfo),Dt(t,e),ca=o,Ut(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(ae){Be(e,e.return,ae)}Gu&&(Gu=!1,Bf(e));break;case 4:i=ca,ca=Ur(e.stateNode.containerInfo),Dt(t,e),Ut(e),ca=i;break;case 12:Dt(t,e),Ut(e);break;case 31:Dt(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xr(e,i)));break;case 13:Dt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_r=ft()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xr(e,i)));break;case 22:o=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,U=za,$=lt;if(za=U||o,lt=$||E,Dt(t,e),lt=$,za=U,Ut(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||E||za||lt||Pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(c=E.stateNode,o)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=E.stateNode;var V=E.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(ae){Be(E,E.return,ae)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(ae){Be(E,E.return,ae)}}}else if(t.tag===18){if(a===null){E=t;try{var L=E.stateNode;o?Nm(L,!0):Nm(E.stateNode,!1)}catch(ae){Be(E,E.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,xr(e,a))));break;case 19:Dt(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xr(e,i)));break;case 30:break;case 21:break;default:Dt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(kf(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=$u(e);vr(e,c,o);break;case 5:var g=a.stateNode;a.flags&32&&(gs(g,""),a.flags&=-33);var b=$u(e);vr(e,b,g);break;case 3:case 4:var E=a.stateNode.containerInfo,U=$u(e);Hu(e,U,E);break;default:throw Error(r(161))}}catch($){Be(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cf(e,t.alternate,t),t=t.sibling}function Pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mn(4,t,t.return),Pn(t);break;case 1:va(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Nf(t,t.return,a),Pn(t);break;case 27:tl(t.stateNode);case 26:case 5:va(t,t.return),Pn(t);break;case 22:t.memoizedState===null&&Pn(t);break;case 30:Pn(t);break;default:Pn(t)}e=e.sibling}}function qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,c=t,g=c.flags;switch(c.tag){case 0:case 11:case 15:qa(o,c,a),Ki(4,c);break;case 1:if(qa(o,c,a),i=c,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){Be(i,i.return,U)}if(i=c,o=i.updateQueue,o!==null){var b=i.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)mh(E[o],b)}catch(U){Be(i,i.return,U)}}a&&g&64&&Tf(c),Ji(c,c.return);break;case 27:Of(c);case 26:case 5:qa(o,c,a),a&&i===null&&g&4&&Af(c),Ji(c,c.return);break;case 12:qa(o,c,a);break;case 31:qa(o,c,a),a&&g&4&&Mf(o,c);break;case 13:qa(o,c,a),a&&g&4&&zf(o,c);break;case 22:c.memoizedState===null&&qa(o,c,a),Ji(c,c.return);break;case 30:break;default:qa(o,c,a)}t=t.sibling}}function Yu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ci(a))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function da(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qf(e,t,a,i),t=t.sibling}function qf(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,i),o&2048&&Ki(9,t);break;case 1:da(e,t,a,i);break;case 3:da(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(o&2048){da(e,t,a,i),e=t.stateNode;try{var c=t.memoizedProps,g=c.id,b=c.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Be(t,t.return,E)}}else da(e,t,a,i);break;case 31:da(e,t,a,i);break;case 13:da(e,t,a,i);break;case 23:break;case 22:c=t.stateNode,g=t.alternate,t.memoizedState!==null?c._visibility&2?da(e,t,a,i):Xi(e,t):c._visibility&2?da(e,t,a,i):(c._visibility|=2,Ms(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Yu(g,t);break;case 24:da(e,t,a,i),o&2048&&Vu(t.alternate,t);break;default:da(e,t,a,i)}}function Ms(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,g=t,b=a,E=i,U=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(c,g,b,E,o),Ki(8,g);break;case 23:break;case 22:var $=g.stateNode;g.memoizedState!==null?$._visibility&2?Ms(c,g,b,E,o):Xi(c,g):($._visibility|=2,Ms(c,g,b,E,o)),o&&U&2048&&Yu(g.alternate,g);break;case 24:Ms(c,g,b,E,o),o&&U&2048&&Vu(g.alternate,g);break;default:Ms(c,g,b,E,o)}t=t.sibling}}function Xi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:Xi(a,i),o&2048&&Yu(i.alternate,i);break;case 24:Xi(a,i),o&2048&&Vu(i.alternate,i);break;default:Xi(a,i)}t=t.sibling}}var Ii=8192;function zs(e,t,a){if(e.subtreeFlags&Ii)for(e=e.child;e!==null;)$f(e,t,a),e=e.sibling}function $f(e,t,a){switch(e.tag){case 26:zs(e,t,a),e.flags&Ii&&e.memoizedState!==null&&Dy(a,ca,e.memoizedState,e.memoizedProps);break;case 5:zs(e,t,a);break;case 3:case 4:var i=ca;ca=Ur(e.stateNode.containerInfo),zs(e,t,a),ca=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ii,Ii=16777216,zs(e,t,a),Ii=i):zs(e,t,a));break;default:zs(e,t,a)}}function Hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];gt=i,Yf(i,e)}Hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gf(e),e=e.sibling}function Gf(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&mn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wr(e)):Qi(e);break;default:Qi(e)}}function wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];gt=i,Yf(i,e)}Hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mn(8,t,t.return),wr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,wr(t));break;default:wr(t)}e=e.sibling}}function Yf(e,t){for(;gt!==null;){var a=gt;switch(a.tag){case 0:case 11:case 15:mn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ci(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,gt=i;else e:for(a=e;gt!==null;){i=gt;var o=i.sibling,c=i.return;if(Df(i),i===a){gt=null;break e}if(o!==null){o.return=c,gt=o;break e}gt=c}}}var Ip={getCacheForType:function(e){var t=vt(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(nt).controller.signal}},Qp=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ge=null,Ee=null,Te=0,Le=0,Yt=null,gn=!1,Ls=!1,Ku=!1,$a=0,Ze=0,pn=0,Zn=0,Ju=0,Vt=0,Bs=0,Pi=null,Mt=null,Xu=!1,_r=0,Vf=0,Sr=1/0,Er=null,yn=null,ct=0,bn=null,qs=null,Ha=0,Iu=0,Qu=null,Kf=null,Zi=0,Pu=null;function Kt(){return(Me&2)!==0&&Te!==0?Te&-Te:C.T!==null?ac():vi()}function Jf(){if(Vt===0)if((Te&536870912)===0||ke){var e=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),Vt=e}else Vt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),Vt}function zt(e,t,a){(e===Ge&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&($s(e,0),vn(e,Te,Vt,!1)),pa(e,a),((Me&2)===0||e!==Ge)&&(e===Ge&&((Me&2)===0&&(Zn|=a),Ze===4&&vn(e,Te,Vt,!1)),xa(e))}function Xf(e,t,a){if((Me&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||tn(e,t),o=i?Fp(e,t):Fu(e,t,!0),c=i;do{if(o===0){Ls&&!i&&vn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Pp(a)){o=Fu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;o=Pi;var E=b.current.memoizedState.isDehydrated;if(E&&($s(b,g).flags|=256),g=Fu(b,g,!1),g!==2){if(Ku&&!E){b.errorRecoveryDisabledLanes|=c,Zn|=c,o=4;break e}c=Mt,Mt=o,c!==null&&(Mt===null?Mt=c:Mt.push.apply(Mt,c))}o=g}if(c=!1,o!==2)continue}}if(o===1){$s(e,0),vn(e,t,0,!0);break}e:{switch(i=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:vn(i,t,Vt,!gn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=_r+300-ft(),10<o)){if(vn(i,t,Vt,!gn),en(i,0,!0)!==0)break e;Ha=t,i.timeoutHandle=Em(If.bind(null,i,a,Mt,Er,Xu,t,Vt,Zn,Bs,gn,c,"Throttled",-0,0),o);break e}If(i,a,Mt,Er,Xu,t,Vt,Zn,Bs,gn,c,null,-0,0)}}break}while(!0);xa(e)}function If(e,t,a,i,o,c,g,b,E,U,$,V,M,L){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},$f(t,c,V);var ae=(c&62914560)===c?_r-ft():(c&4194048)===c?Vf-ft():0;if(ae=Uy(V,ae),ae!==null){Ha=c,e.cancelPendingCommit=ae(am.bind(null,e,t,c,a,i,o,g,b,E,$,V,null,M,L)),vn(e,c,g,!U);return}}am(e,t,c,a,i,o,g,b,E)}function Pp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],c=o.getSnapshot;o=o.value;try{if(!qt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t,a,i){t&=~Ju,t&=~Zn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var c=31-mt(o),g=1<<c;i[c]=-1,o&=~g}a!==0&&Cl(e,a,t)}function jr(){return(Me&6)===0?(Fi(0),!1):!0}function Zu(){if(Ee!==null){if(Le===0)var e=Ee.return;else e=Ee,Oa=Gn=null,fu(e),Os=null,Ui=0,e=Ee;for(;e!==null;)jf(e.alternate,e),e=e.return;Ee=null}}function $s(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,py(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ha=0,Zu(),Ge=e,Ee=a=Aa(e.current,null),Te=t,Le=0,Yt=null,gn=!1,Ls=tn(e,t),Ku=!1,Bs=Vt=Ju=Zn=pn=Ze=0,Mt=Pi=null,Xu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-mt(i),c=1<<o;t|=e[o],i&=~c}return $a=t,Jl(),a}function Qf(e,t){ye=null,C.H=Gi,t===ks||t===er?(t=ch(),Le=3):t===tu?(t=ch(),Le=4):Le=t===ku?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,Ee===null&&(Ze=1,mr(e,Wt(t,e.current)))}function Pf(){var e=Ht.current;return e===null?!0:(Te&4194048)===Te?na===null:(Te&62914560)===Te||(Te&536870912)!==0?e===na:!1}function Zf(){var e=C.H;return C.H=Gi,e===null?Gi:e}function Ff(){var e=C.A;return C.A=Ip,e}function Tr(){Ze=4,gn||(Te&4194048)!==Te&&Ht.current!==null||(Ls=!0),(pn&134217727)===0&&(Zn&134217727)===0||Ge===null||vn(Ge,Te,Vt,!1)}function Fu(e,t,a){var i=Me;Me|=2;var o=Zf(),c=Ff();(Ge!==e||Te!==t)&&(Er=null,$s(e,t)),t=!1;var g=Ze;e:do try{if(Le!==0&&Ee!==null){var b=Ee,E=Yt;switch(Le){case 8:Zu(),g=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var U=Le;if(Le=0,Yt=null,Hs(e,b,E,U),a&&Ls){g=0;break e}break;default:U=Le,Le=0,Yt=null,Hs(e,b,E,U)}}Zp(),g=Ze;break}catch($){Qf(e,$)}while(!0);return t&&e.shellSuspendCounter++,Oa=Gn=null,Me=i,C.H=o,C.A=c,Ee===null&&(Ge=null,Te=0,Jl()),g}function Zp(){for(;Ee!==null;)Wf(Ee)}function Fp(e,t){var a=Me;Me|=2;var i=Zf(),o=Ff();Ge!==e||Te!==t?(Er=null,Sr=ft()+500,$s(e,t)):Ls=tn(e,t);e:do try{if(Le!==0&&Ee!==null){t=Ee;var c=Yt;t:switch(Le){case 1:Le=0,Yt=null,Hs(e,t,c,1);break;case 2:case 9:if(oh(c)){Le=0,Yt=null,em(t);break}t=function(){Le!==2&&Le!==9||Ge!==e||(Le=7),xa(e)},c.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:oh(c)?(Le=0,Yt=null,em(t)):(Le=0,Yt=null,Hs(e,t,c,7));break;case 5:var g=null;switch(Ee.tag){case 26:g=Ee.memoizedState;case 5:case 27:var b=Ee;if(g?qm(g):b.stateNode.complete){Le=0,Yt=null;var E=b.sibling;if(E!==null)Ee=E;else{var U=b.return;U!==null?(Ee=U,Nr(U)):Ee=null}break t}}Le=0,Yt=null,Hs(e,t,c,5);break;case 6:Le=0,Yt=null,Hs(e,t,c,6);break;case 8:Zu(),Ze=6;break e;default:throw Error(r(462))}}Wp();break}catch($){Qf(e,$)}while(!0);return Oa=Gn=null,C.H=i,C.A=o,Me=a,Ee!==null?0:(Ge=null,Te=0,Jl(),Ze)}function Wp(){for(;Ee!==null&&!Ol();)Wf(Ee)}function Wf(e){var t=Sf(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?Nr(e):Ee=t}function em(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=yf(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=yf(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:fu(t);default:jf(a,t),t=Ee=Zd(t,$a),t=Sf(a,t,$a)}e.memoizedProps=e.pendingProps,t===null?Nr(e):Ee=t}function Hs(e,t,a,i){Oa=Gn=null,fu(t),Os=null,Ui=0;var o=t.return;try{if(Hp(e,o,t,a,Te)){Ze=1,mr(e,Wt(a,e.current)),Ee=null;return}}catch(c){if(o!==null)throw Ee=o,c;Ze=1,mr(e,Wt(a,e.current)),Ee=null;return}t.flags&32768?(ke||i===1?e=!0:Ls||(Te&536870912)!==0?e=!1:(gn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ht.current,i!==null&&i.tag===13&&(i.flags|=16384))),tm(t,e)):Nr(t)}function Nr(e){var t=e;do{if((t.flags&32768)!==0){tm(t,gn);return}e=t.return;var a=Vp(t.alternate,t,$a);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ze===0&&(Ze=5)}function tm(e,t){do{var a=Kp(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);Ze=6,Ee=null}function am(e,t,a,i,o,c,g,b,E){e.cancelPendingCommit=null;do Ar();while(ct!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=$o,gi(e,a,c,g,b,E),e===Ge&&(Ee=Ge=null,Te=0),qs=t,bn=e,Ha=a,Iu=c,Qu=o,Kf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ny(Wa,function(){return rm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null,o=X.p,X.p=2,g=Me,Me|=4;try{Jp(e,t,a)}finally{Me=g,X.p=o,C.T=i}}ct=1,nm(),sm(),im()}}function nm(){if(ct===1){ct=0;var e=bn,t=qs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var i=X.p;X.p=2;var o=Me;Me|=4;try{Lf(t,e);var c=cc,g=Gd(e.containerInfo),b=c.focusedElem,E=c.selectionRange;if(g!==b&&b&&b.ownerDocument&&Hd(b.ownerDocument.documentElement,b)){if(E!==null&&Mo(b)){var U=E.start,$=E.end;if($===void 0&&($=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min($,b.value.length);else{var V=b.ownerDocument||document,M=V&&V.defaultView||window;if(M.getSelection){var L=M.getSelection(),ae=b.textContent.length,ce=Math.min(E.start,ae),He=E.end===void 0?ce:Math.min(E.end,ae);!L.extend&&ce>He&&(g=He,He=ce,ce=g);var R=$d(b,ce),A=$d(b,He);if(R&&A&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var D=V.createRange();D.setStart(R.node,R.offset),L.removeAllRanges(),ce>He?(L.addRange(D),L.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),L.addRange(D))}}}}for(V=[],L=b;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var H=V[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}$r=!!uc,cc=uc=null}finally{Me=o,X.p=i,C.T=a}}e.current=t,ct=2}}function sm(){if(ct===2){ct=0;var e=bn,t=qs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var i=X.p;X.p=2;var o=Me;Me|=4;try{Cf(e,t.alternate,t)}finally{Me=o,X.p=i,C.T=a}}ct=3}}function im(){if(ct===4||ct===3){ct=0,Fa();var e=bn,t=qs,a=Ha,i=Kf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,qs=bn=null,lm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(yn=null),bi(a),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ea,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=C.T,o=X.p,X.p=2,C.T=null;try{for(var c=e.onRecoverableError,g=0;g<i.length;g++){var b=i[g];c(b.value,{componentStack:b.stack})}}finally{C.T=t,X.p=o}}(Ha&3)!==0&&Ar(),xa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Pu?Zi++:(Zi=0,Pu=e):Zi=0,Fi(0)}}function lm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function Ar(){return nm(),sm(),im(),rm()}function rm(){if(ct!==5)return!1;var e=bn,t=Iu;Iu=0;var a=bi(Ha),i=C.T,o=X.p;try{X.p=32>a?32:a,C.T=null,a=Qu,Qu=null;var c=bn,g=Ha;if(ct=0,qs=bn=null,Ha=0,(Me&6)!==0)throw Error(r(331));var b=Me;if(Me|=4,Gf(c.current),qf(c,c.current,g,a),Me=b,Fi(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ea,c)}catch{}return!0}finally{X.p=o,C.T=i,lm(e,t)}}function om(e,t,a){t=Wt(a,t),t=Au(e.stateNode,t,2),e=dn(e,t,2),e!==null&&(pa(e,2),xa(e))}function Be(e,t,a){if(e.tag===3)om(e,e,a);else for(;t!==null;){if(t.tag===3){om(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yn===null||!yn.has(i))){e=Wt(a,e),a=uf(2),i=dn(t,a,2),i!==null&&(cf(a,i,t,e),pa(i,2),xa(i));break}}t=t.return}}function Wu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Qp;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(Ku=!0,o.add(a),e=ey.bind(null,e,t,a),t.then(e,e))}function ey(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Te&a)===a&&(Ze===4||Ze===3&&(Te&62914560)===Te&&300>ft()-_r?(Me&2)===0&&$s(e,0):Ju|=a,Bs===Te&&(Bs=0)),xa(e)}function um(e,t){t===0&&(t=fi()),e=qn(e,t),e!==null&&(pa(e,t),xa(e))}function ty(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),um(e,a)}function ay(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),um(e,a)}function ny(e,t){return pt(e,t)}var kr=null,Gs=null,ec=!1,Or=!1,tc=!1,xn=0;function xa(e){e!==Gs&&e.next===null&&(Gs===null?kr=Gs=e:Gs=Gs.next=e),Or=!0,ec||(ec=!0,iy())}function Fi(e,t){if(!tc&&Or){tc=!0;do for(var a=!1,i=kr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var c=0;else{var g=i.suspendedLanes,b=i.pingedLanes;c=(1<<31-mt(42|e)+1)-1,c&=o&~(g&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,fm(i,c))}else c=Te,c=en(i,i===Ge?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||tn(i,c)||(a=!0,fm(i,c));i=i.next}while(a);tc=!1}}function sy(){cm()}function cm(){Or=ec=!1;var e=0;xn!==0&&gy()&&(e=xn);for(var t=ft(),a=null,i=kr;i!==null;){var o=i.next,c=dm(i,t);c===0?(i.next=null,a===null?kr=o:a.next=o,o===null&&(Gs=a)):(a=i,(e!==0||(c&3)!==0)&&(Or=!0)),i=o}ct!==0&&ct!==5||Fi(e),xn!==0&&(xn=0)}function dm(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-mt(c),b=1<<g,E=o[g];E===-1?((b&a)===0||(b&i)!==0)&&(o[g]=po(b,t)):E<=t&&(e.expiredLanes|=b),c&=~b}if(t=Ge,a=Te,a=en(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Za(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||tn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Za(i),bi(a)){case 2:case 8:a=ci;break;case 32:a=Wa;break;case 268435456:a=Rn;break;default:a=Wa}return i=hm.bind(null,e),a=pt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Za(i),e.callbackPriority=2,e.callbackNode=null,2}function hm(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ar()&&e.callbackNode!==a)return null;var i=Te;return i=en(e,e===Ge?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xf(e,i,t),dm(e,ft()),e.callbackNode!=null&&e.callbackNode===a?hm.bind(null,e):null)}function fm(e,t){if(Ar())return null;Xf(e,t,!0)}function iy(){yy(function(){(Me&6)!==0?pt(ui,sy):cm()})}function ac(){if(xn===0){var e=Ns;e===0&&(e=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),xn=e}return xn}function mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bl(""+e)}function gm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ly(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var c=mm((o[Tt]||null).action),g=i.submitter;g&&(t=(t=g[Tt]||null)?mm(t.formAction):g.getAttribute("formAction"),t!==null&&(c=t,g=null));var b=new Gl("action","action",null,i,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(xn!==0){var E=g?gm(o,g):new FormData(o);_u(a,{pending:!0,data:E,method:o.method,action:c},null,E)}}else typeof c=="function"&&(b.preventDefault(),E=g?gm(o,g):new FormData(o),_u(a,{pending:!0,data:E,method:o.method,action:c},c,E))},currentTarget:o}]})}}for(var nc=0;nc<qo.length;nc++){var sc=qo[nc],ry=sc.toLowerCase(),oy=sc[0].toUpperCase()+sc.slice(1);ua(ry,"on"+oy)}ua(Kd,"onAnimationEnd"),ua(Jd,"onAnimationIteration"),ua(Xd,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(Ep,"onTransitionRun"),ua(jp,"onTransitionStart"),ua(Tp,"onTransitionCancel"),ua(Id,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function pm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var g=i.length-1;0<=g;g--){var b=i[g],E=b.instance,U=b.currentTarget;if(b=b.listener,E!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=U;try{c(o)}catch($){Kl($)}o.currentTarget=null,c=E}else for(g=0;g<i.length;g++){if(b=i[g],E=b.instance,U=b.currentTarget,b=b.listener,E!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=U;try{c(o)}catch($){Kl($)}o.currentTarget=null,c=E}}}}function je(e,t){var a=t[hs];a===void 0&&(a=t[hs]=new Set);var i=e+"__bubble";a.has(i)||(ym(t,e,2,!1),a.add(i))}function ic(e,t,a){var i=0;t&&(i|=4),ym(a,e,i,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[Rr]){e[Rr]=!0,Mn.forEach(function(a){a!=="selectionchange"&&(uy.has(a)||ic(a,!1,e),ic(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rr]||(t[Rr]=!0,ic("selectionchange",!1,t))}}function ym(e,t,a,i){switch(Jm(t)){case 2:var o=Ly;break;case 8:o=By;break;default:o=wc}a=o.bind(null,t,a,e),o=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function rc(e,t,a,i,o){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var b=i.stateNode.containerInfo;if(b===o)break;if(g===4)for(g=i.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;b!==null;){if(g=fe(b),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){i=c=g;continue e}b=b.parentNode}}i=i.return}wd(function(){var U=c,$=Eo(a),V=[];e:{var M=Qd.get(e);if(M!==void 0){var L=Gl,ae=e;switch(e){case"keypress":if($l(a)===0)break e;case"keydown":case"keyup":L=ap;break;case"focusin":ae="focus",L=Oo;break;case"focusout":ae="blur",L=Oo;break;case"beforeblur":case"afterblur":L=Oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ip;break;case Kd:case Jd:case Xd:L=Xg;break;case Id:L=rp;break;case"scroll":case"scrollend":L=Gg;break;case"wheel":L=up;break;case"copy":case"cut":case"paste":L=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Td;break;case"toggle":case"beforetoggle":L=dp}var ce=(t&4)!==0,He=!ce&&(e==="scroll"||e==="scrollend"),R=ce?M!==null?M+"Capture":null:M;ce=[];for(var A=U,D;A!==null;){var H=A;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||R===null||(H=wi(A,R),H!=null&&ce.push(el(A,H,D))),He)break;A=A.return}0<ce.length&&(M=new L(M,ae,null,a,$),V.push({event:M,listeners:ce}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&a!==So&&(ae=a.relatedTarget||a.fromElement)&&(fe(ae)||ae[an]))break e;if((L||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,L?(ae=a.relatedTarget||a.toElement,L=U,ae=ae?fe(ae):null,ae!==null&&(He=d(ae),ce=ae.tag,ae!==He||ce!==5&&ce!==27&&ce!==6)&&(ae=null)):(L=null,ae=U),L!==ae)){if(ce=Ed,H="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Td,H="onPointerLeave",R="onPointerEnter",A="pointer"),He=L==null?M:Re(L),D=ae==null?M:Re(ae),M=new ce(H,A+"leave",L,a,$),M.target=He,M.relatedTarget=D,H=null,fe($)===U&&(ce=new ce(R,A+"enter",ae,a,$),ce.target=D,ce.relatedTarget=He,H=ce),He=H,L&&ae)t:{for(ce=cy,R=L,A=ae,D=0,H=R;H;H=ce(H))D++;H=0;for(var re=A;re;re=ce(re))H++;for(;0<D-H;)R=ce(R),D--;for(;0<H-D;)A=ce(A),H--;for(;D--;){if(R===A||A!==null&&R===A.alternate){ce=R;break t}R=ce(R),A=ce(A)}ce=null}else ce=null;L!==null&&bm(V,M,L,ce,!1),ae!==null&&He!==null&&bm(V,He,ae,ce,!0)}}e:{if(M=U?Re(U):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var De=Ud;else if(Cd(M))if(Md)De=wp;else{De=vp;var ie=bp}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?U&&_o(U.elementType)&&(De=Ud):De=xp;if(De&&(De=De(e,U))){Dd(V,De,a,$);break e}ie&&ie(e,M,U),e==="focusout"&&U&&M.type==="number"&&U.memoizedProps.value!=null&&wo(M,"number",M.value)}switch(ie=U?Re(U):window,e){case"focusin":(Cd(ie)||ie.contentEditable==="true")&&(vs=ie,zo=U,ki=null);break;case"focusout":ki=zo=vs=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Yd(V,a,$);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":Yd(V,a,$)}var ve;if(Co)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else bs?Od(e,a)&&(Ne="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Nd&&a.locale!=="ko"&&(bs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&bs&&(ve=_d()):(nn=$,No="value"in nn?nn.value:nn.textContent,bs=!0)),ie=Cr(U,Ne),0<ie.length&&(Ne=new jd(Ne,e,null,a,$),V.push({event:Ne,listeners:ie}),ve?Ne.data=ve:(ve=Rd(a),ve!==null&&(Ne.data=ve)))),(ve=fp?mp(e,a):gp(e,a))&&(Ne=Cr(U,"onBeforeInput"),0<Ne.length&&(ie=new jd("onBeforeInput","beforeinput",null,a,$),V.push({event:ie,listeners:Ne}),ie.data=ve)),ly(V,e,U,a,$)}pm(V,t)})}function el(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Cr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=wi(e,a),o!=null&&i.unshift(el(e,o,c)),o=wi(e,t),o!=null&&i.push(el(e,o,c))),e.tag===3)return i;e=e.return}return[]}function cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,t,a,i,o){for(var c=t._reactName,g=[];a!==null&&a!==i;){var b=a,E=b.alternate,U=b.stateNode;if(b=b.tag,E!==null&&E===i)break;b!==5&&b!==26&&b!==27||U===null||(E=U,o?(U=wi(a,c),U!=null&&g.unshift(el(a,U,E))):o||(U=wi(a,c),U!=null&&g.push(el(a,U,E)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var dy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(dy,`
`).replace(hy,"")}function xm(e,t){return t=vm(t),vm(e)===t}function $e(e,t,a,i,o,c){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||gs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&gs(e,""+i);break;case"className":zl(e,"class",i);break;case"tabIndex":zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,a,i);break;case"style":vd(e,i,c);break;case"data":if(t!=="object"){zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Bl(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",o.name,o,null),$e(e,t,"formEncType",o.formEncType,o,null),$e(e,t,"formMethod",o.formMethod,o,null),$e(e,t,"formTarget",o.formTarget,o,null)):($e(e,t,"encType",o.encType,o,null),$e(e,t,"method",o.method,o,null),$e(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Bl(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Ta);break;case"onScroll":i!=null&&je("scroll",e);break;case"onScrollEnd":i!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Bl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":je("beforetoggle",e),je("toggle",e),Ml(e,"popover",i);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ml(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$g.get(a)||a,Ml(e,a,i))}}function oc(e,t,a,i,o,c){switch(a){case"style":vd(e,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?gs(e,i):(typeof i=="number"||typeof i=="bigint")&&gs(e,""+i);break;case"onScroll":i!=null&&je("scroll",e);break;case"onScrollEnd":i!=null&&je("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[Tt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof i=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Ml(e,a,i)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var i=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(g!=null)switch(c){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,c,g,a,null)}}o&&$e(e,t,"srcSet",a.srcSet,a,null),i&&$e(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var b=c=g=o=null,E=null,U=null;for(i in a)if(a.hasOwnProperty(i)){var $=a[i];if($!=null)switch(i){case"name":o=$;break;case"type":g=$;break;case"checked":E=$;break;case"defaultChecked":U=$;break;case"value":c=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,t));break;default:$e(e,t,i,$,a,null)}}gd(e,c,b,E,U,g,o,!1);return;case"select":je("invalid",e),i=g=c=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":c=b;break;case"defaultValue":g=b;break;case"multiple":i=b;default:$e(e,t,o,b,a,null)}t=c,a=g,e.multiple=!!i,t!=null?ms(e,!!i,t,!1):a!=null&&ms(e,!!i,a,!0);return;case"textarea":je("invalid",e),c=o=i=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":i=b;break;case"defaultValue":o=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:$e(e,t,g,b,a,null)}yd(e,i,o,c);return;case"option":for(E in a)a.hasOwnProperty(E)&&(i=a[E],i!=null)&&(E==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":$e(e,t,E,i,a,null));return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(i=0;i<Wi.length;i++)je(Wi[i],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(i=a[U],i!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,U,i,a,null)}return;default:if(_o(t)){for($ in a)a.hasOwnProperty($)&&(i=a[$],i!==void 0&&oc(e,t,$,i,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(i=a[b],i!=null&&$e(e,t,b,i,a,null))}function fy(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,g=null,b=null,E=null,U=null,$=null;for(L in a){var V=a[L];if(a.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=V;default:i.hasOwnProperty(L)||$e(e,t,L,null,i,V)}}for(var M in i){var L=i[M];if(V=a[M],i.hasOwnProperty(M)&&(L!=null||V!=null))switch(M){case"type":c=L;break;case"name":o=L;break;case"checked":U=L;break;case"defaultChecked":$=L;break;case"value":g=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:L!==V&&$e(e,t,M,L,i,V)}}xo(e,g,b,E,U,$,c,o);return;case"select":L=g=b=M=null;for(c in a)if(E=a[c],a.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":L=E;default:i.hasOwnProperty(c)||$e(e,t,c,null,i,E)}for(o in i)if(c=i[o],E=a[o],i.hasOwnProperty(o)&&(c!=null||E!=null))switch(o){case"value":M=c;break;case"defaultValue":b=c;break;case"multiple":g=c;default:c!==E&&$e(e,t,o,c,i,E)}t=b,a=g,i=L,M!=null?ms(e,!!a,M,!1):!!i!=!!a&&(t!=null?ms(e,!!a,t,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":L=M=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$e(e,t,b,null,i,o)}for(g in i)if(o=i[g],c=a[g],i.hasOwnProperty(g)&&(o!=null||c!=null))switch(g){case"value":M=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&$e(e,t,g,o,i,c)}pd(e,M,L);return;case"option":for(var ae in a)M=a[ae],a.hasOwnProperty(ae)&&M!=null&&!i.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:$e(e,t,ae,null,i,M));for(E in i)M=i[E],L=a[E],i.hasOwnProperty(E)&&M!==L&&(M!=null||L!=null)&&(E==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":$e(e,t,E,M,i,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)M=a[ce],a.hasOwnProperty(ce)&&M!=null&&!i.hasOwnProperty(ce)&&$e(e,t,ce,null,i,M);for(U in i)if(M=i[U],L=a[U],i.hasOwnProperty(U)&&M!==L&&(M!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:$e(e,t,U,M,i,L)}return;default:if(_o(t)){for(var He in a)M=a[He],a.hasOwnProperty(He)&&M!==void 0&&!i.hasOwnProperty(He)&&oc(e,t,He,void 0,i,M);for($ in i)M=i[$],L=a[$],!i.hasOwnProperty($)||M===L||M===void 0&&L===void 0||oc(e,t,$,M,i,L);return}}for(var R in a)M=a[R],a.hasOwnProperty(R)&&M!=null&&!i.hasOwnProperty(R)&&$e(e,t,R,null,i,M);for(V in i)M=i[V],L=a[V],!i.hasOwnProperty(V)||M===L||M==null&&L==null||$e(e,t,V,M,i,L)}function wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function my(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],c=o.transferSize,g=o.initiatorType,b=o.duration;if(c&&b&&wm(g)){for(g=0,b=o.responseEnd,i+=1;i<a.length;i++){var E=a[i],U=E.startTime;if(U>b)break;var $=E.transferSize,V=E.initiatorType;$&&wm(V)&&(E=E.responseEnd,g+=$*(E<b?1:(b-U)/(E-U)))}if(--i,t+=8*(c+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uc=null,cc=null;function Dr(e){return e.nodeType===9?e:e.ownerDocument}function _m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=null;function gy(){var e=window.event;return e&&e.type==="popstate"?e===hc?!1:(hc=e,!0):(hc=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(by)}:Em;function by(e){setTimeout(function(){throw e})}function wn(e){return e==="head"}function Tm(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),Js(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,tl(a);for(var c=a.firstChild;c;){var g=c.nextSibling,b=c.nodeName;c[J]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=g}}else a==="body"&&tl(e.ownerDocument.body);a=o}while(a);Js(t)}function Nm(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function fc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fc(a),ee(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vy(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[J])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function xy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function Am(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function mc(e){return e.data==="$?"||e.data==="$~"}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pc=null;function km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return sa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Rm(e,t,a){switch(t=Dr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function tl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ee(e)}var ia=new Map,Cm=new Set;function Ur(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ga=X.d;X.d={f:_y,r:Sy,D:Ey,C:jy,L:Ty,m:Ny,X:ky,S:Ay,M:Oy};function _y(){var e=Ga.f(),t=jr();return e||t}function Sy(e){var t=Oe(e);t!==null&&t.tag===5&&t.type==="form"?Ih(t):Ga.r(e)}var Ys=typeof document>"u"?null:document;function Dm(e,t,a){var i=Ys;if(i&&typeof t=="string"&&t){var o=Zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Cm.has(o)||(Cm.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),wt(t,"link",e),Se(t),i.head.appendChild(t)))}}function Ey(e){Ga.D(e),Dm("dns-prefetch",e,null)}function jy(e,t){Ga.C(e,t),Dm("preconnect",e,t)}function Ty(e,t,a){Ga.L(e,t,a);var i=Ys;if(i&&e&&t){var o='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Zt(a.imageSizes)+'"]')):o+='[href="'+Zt(e)+'"]';var c=o;switch(t){case"style":c=Vs(e);break;case"script":c=Ks(e)}ia.has(c)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ia.set(c,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(al(c))||t==="script"&&i.querySelector(nl(c))||(t=i.createElement("link"),wt(t,"link",e),Se(t),i.head.appendChild(t)))}}function Ny(e,t){Ga.m(e,t);var a=Ys;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Zt(i)+'"][href="'+Zt(e)+'"]',c=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ks(e)}if(!ia.has(c)&&(e=x({rel:"modulepreload",href:e},t),ia.set(c,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(c)))return}i=a.createElement("link"),wt(i,"link",e),Se(i),a.head.appendChild(i)}}}function Ay(e,t,a){Ga.S(e,t,a);var i=Ys;if(i&&e){var o=ze(i).hoistableStyles,c=Vs(e);t=t||"default";var g=o.get(c);if(!g){var b={loading:0,preload:null};if(g=i.querySelector(al(c)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ia.get(c))&&yc(e,a);var E=g=i.createElement("link");Se(E),wt(E,"link",e),E._p=new Promise(function(U,$){E.onload=U,E.onerror=$}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Mr(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:b},o.set(c,g)}}}function ky(e,t){Ga.X(e,t);var a=Ys;if(a&&e){var i=ze(a).hoistableScripts,o=Ks(e),c=i.get(o);c||(c=a.querySelector(nl(o)),c||(e=x({src:e,async:!0},t),(t=ia.get(o))&&bc(e,t),c=a.createElement("script"),Se(c),wt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function Oy(e,t){Ga.M(e,t);var a=Ys;if(a&&e){var i=ze(a).hoistableScripts,o=Ks(e),c=i.get(o);c||(c=a.querySelector(nl(o)),c||(e=x({src:e,async:!0,type:"module"},t),(t=ia.get(o))&&bc(e,t),c=a.createElement("script"),Se(c),wt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function Um(e,t,a,i){var o=(o=we.current)?Ur(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Vs(a.href),a=ze(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vs(a.href);var c=ze(o).hoistableStyles,g=c.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=o.querySelector(al(e)))&&!c._p&&(g.instance=c,g.state.loading=5),ia.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(e,a),c||Ry(o,e,a,g.state))),t&&i===null)throw Error(r(528,""));return g}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(a),a=ze(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Vs(e){return'href="'+Zt(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Ry(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),wt(t,"link",a),Se(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Zt(e)+'"]'}function nl(e){return"script[async]"+e}function zm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(i)return t.instance=i,Se(i),i;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Se(i),wt(i,"style",o),Mr(i,a.precedence,e),t.instance=i;case"stylesheet":o=Vs(a.href);var c=e.querySelector(al(o));if(c)return t.state.loading|=4,t.instance=c,Se(c),c;i=Mm(a),(o=ia.get(o))&&yc(i,o),c=(e.ownerDocument||e).createElement("link"),Se(c);var g=c;return g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),wt(c,"link",i),t.state.loading|=4,Mr(c,a.precedence,e),t.instance=c;case"script":return c=Ks(a.src),(o=e.querySelector(nl(c)))?(t.instance=o,Se(o),o):(i=a,(o=ia.get(c))&&(i=x({},a),bc(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Se(o),wt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Mr(i,a.precedence,e));return t.instance}function Mr(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,c=o,g=0;g<i.length;g++){var b=i[g];if(b.dataset.precedence===t)c=b;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zr=null;function Lm(e,t,a){if(zr===null){var i=new Map,o=zr=new Map;o.set(a,i)}else o=zr,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[J]||c[at]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(t)||"";g=e+g;var b=i.get(g);b?b.push(c):i.set(g,[c])}}return i}function Bm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Cy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dy(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Vs(i.href),c=t.querySelector(al(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Lr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,Se(c);return}c=t.ownerDocument||t,i=Mm(i),(o=ia.get(o))&&yc(i,o),c=c.createElement("link"),Se(c);var g=c;g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),wt(c,"link",i),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Lr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var vc=0;function Uy(e,t){return e.stylesheets&&e.count===0&&qr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&qr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&vc===0&&(vc=62500*my());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>vc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Lr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Br=null;function qr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Br=new Map,t.forEach(My,e),Br=null,Lr.call(e))}function My(e,t){if(!(t.state.loading&4)){var a=Br.get(e);if(a)var i=a.get(null);else{a=new Map,Br.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var g=o[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),c=a.get(g)||i,c===i&&a.set(null,o),a.set(g,o),this.count++,i=Lr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var sl={$$typeof:q,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function zy(e,t,a,i,o,c,g,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $m(e,t,a,i,o,c,g,b,E,U,$,V){return e=new zy(e,t,a,g,E,U,$,V,b),t=1,c===!0&&(t|=24),c=$t(3,null,null,t),e.current=c,c.stateNode=e,t=Fo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:a,cache:t},au(c),e}function Hm(e){return e?(e=_s,e):_s}function Gm(e,t,a,i,o,c){o=Hm(o),i.context===null?i.context=o:i.pendingContext=o,i=cn(t),i.payload={element:a},c=c===void 0?null:c,c!==null&&(i.callback=c),a=dn(e,i,t),a!==null&&(zt(a,e,t),zi(a,e,t))}function Ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function xc(e,t){Ym(e,t),(e=e.alternate)&&Ym(e,t)}function Vm(e){if(e.tag===13||e.tag===31){var t=qn(e,67108864);t!==null&&zt(t,e,67108864),xc(e,67108864)}}function Km(e){if(e.tag===13||e.tag===31){var t=Kt();t=yi(t);var a=qn(e,t);a!==null&&zt(a,e,t),xc(e,t)}}var $r=!0;function Ly(e,t,a,i){var o=C.T;C.T=null;var c=X.p;try{X.p=2,wc(e,t,a,i)}finally{X.p=c,C.T=o}}function By(e,t,a,i){var o=C.T;C.T=null;var c=X.p;try{X.p=8,wc(e,t,a,i)}finally{X.p=c,C.T=o}}function wc(e,t,a,i){if($r){var o=_c(i);if(o===null)rc(e,t,i,Hr,a),Xm(e,i);else if($y(o,e,t,a,i))i.stopPropagation();else if(Xm(e,i),t&4&&-1<qy.indexOf(e)){for(;o!==null;){var c=Oe(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=ga(c.pendingLanes);if(g!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var E=1<<31-mt(g);b.entanglements[1]|=E,g&=~E}xa(c),(Me&6)===0&&(Sr=ft()+500,Fi(0))}}break;case 31:case 13:b=qn(c,2),b!==null&&zt(b,c,2),jr(),xc(c,2)}if(c=_c(i),c===null&&rc(e,t,i,Hr,a),c===o)break;o=c}o!==null&&i.stopPropagation()}else rc(e,t,i,null,a)}}function _c(e){return e=Eo(e),Sc(e)}var Hr=null;function Sc(e){if(Hr=null,e=fe(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hr=e,null}function Jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case ui:return 2;case ci:return 8;case Wa:case di:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var Ec=!1,_n=null,Sn=null,En=null,il=new Map,ll=new Map,jn=[],qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function rl(e,t,a,i,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Oe(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $y(e,t,a,i,o){switch(t){case"focusin":return _n=rl(_n,e,t,a,i,o),!0;case"dragenter":return Sn=rl(Sn,e,t,a,i,o),!0;case"mouseover":return En=rl(En,e,t,a,i,o),!0;case"pointerover":var c=o.pointerId;return il.set(c,rl(il.get(c)||null,e,t,a,i,o)),!0;case"gotpointercapture":return c=o.pointerId,ll.set(c,rl(ll.get(c)||null,e,t,a,i,o)),!0}return!1}function Im(e){var t=fe(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ul(e.priority,function(){Km(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Ul(e.priority,function(){Km(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_c(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);So=i,a.target.dispatchEvent(i),So=null}else return t=Oe(a),t!==null&&Vm(t),e.blockedOn=a,!1;t.shift()}return!0}function Qm(e,t,a){Gr(e)&&a.delete(t)}function Hy(){Ec=!1,_n!==null&&Gr(_n)&&(_n=null),Sn!==null&&Gr(Sn)&&(Sn=null),En!==null&&Gr(En)&&(En=null),il.forEach(Qm),ll.forEach(Qm)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hy)))}var Vr=null;function Pm(e){Vr!==e&&(Vr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vr===e&&(Vr=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Sc(i||a)===null)continue;break}var c=Oe(a);c!==null&&(e.splice(t,3),t-=3,_u(c,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function Js(e){function t(E){return Yr(E,e)}_n!==null&&Yr(_n,e),Sn!==null&&Yr(Sn,e),En!==null&&Yr(En,e),il.forEach(t),ll.forEach(t);for(var a=0;a<jn.length;a++){var i=jn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Im(a),a.blockedOn===null&&jn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],c=a[i+1],g=o[Tt]||null;if(typeof c=="function")g||Pm(a);else if(g){var b=null;if(c&&c.hasAttribute("formAction")){if(o=c,g=c[Tt]||null)b=g.formAction;else if(Sc(o)!==null)continue}else b=g.action;typeof b=="function"?a[i+1]=b:(a.splice(i,3),i-=3),Pm(a)}}}function Zm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function jc(e){this._internalRoot=e}Kr.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Kt();Gm(a,i,e,t,null,null)},Kr.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),jr(),t[an]=null}};function Kr(e){this._internalRoot=e}Kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=vi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<jn.length&&t!==0&&t<jn[a].priority;a++);jn.splice(a,0,e),a===0&&Im(e)}};var Fm=n.version;if(Fm!=="19.2.4")throw Error(r(527,Fm,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Gy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{Ea=Jr.inject(Gy),kt=Jr}catch{}}return ul.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,i="",o=sf,c=lf,g=rf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=$m(e,1,!1,null,null,a,i,null,o,c,g,Zm),e[an]=t.current,lc(e),new jc(t)},ul.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var i=!1,o="",c=sf,g=lf,b=rf,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=$m(e,1,!0,t,a??null,i,o,E,c,g,b,Zm),t.context=Hm(null),a=t.current,i=Kt(),i=yi(i),o=cn(i),o.callback=null,dn(a,o,i),a=i,t.current.lanes=a,pa(t,a),xa(t),e[an]=t.current,lc(e),new Kr(t)},ul.version="19.2.4",ul}var o0;function Fy(){if(o0)return Ac.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ac.exports=Zy(),Ac.exports}var Wy=Fy();var u0="popstate";function c0(s){return typeof s=="object"&&s!=null&&"pathname"in s&&"search"in s&&"hash"in s&&"state"in s&&"key"in s}function eb(s={}){function n(u,d){let{pathname:f="/",search:m="",hash:p=""}=ls(u.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gc("",{pathname:f,search:m,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(u,d){let f=u.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=u.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof d=="string"?d:yl(d))}function r(u,d){la(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return ab(n,l,r,s)}function Qe(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function la(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function d0(s,n){return{usr:s.state,key:s.key,idx:n,masked:s.unstable_mask?{pathname:s.pathname,search:s.search,hash:s.hash}:void 0}}function Gc(s,n,l=null,r,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?ls(n):n,state:l,key:n&&n.key||r||tb(),unstable_mask:u}}function yl({pathname:s="/",search:n="",hash:l=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function ls(s){let n={};if(s){let l=s.indexOf("#");l>=0&&(n.hash=s.substring(l),s=s.substring(0,l));let r=s.indexOf("?");r>=0&&(n.search=s.substring(r),s=s.substring(0,r)),s&&(n.pathname=s)}return n}function ab(s,n,l,r={}){let{window:u=document.defaultView,v5Compat:d=!1}=r,f=u.history,m="POP",p=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function x(){m="POP";let _=v(),B=_==null?null:_-y;y=_,p&&p({action:m,location:S.location,delta:B})}function w(_,B){m="PUSH";let Y=c0(_)?_:Gc(S.location,_,B);l&&l(Y,_),y=v()+1;let q=d0(Y,y),Q=S.createHref(Y.unstable_mask||Y);try{f.pushState(q,"",Q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;u.location.assign(Q)}d&&p&&p({action:m,location:S.location,delta:1})}function j(_,B){m="REPLACE";let Y=c0(_)?_:Gc(S.location,_,B);l&&l(Y,_),y=v();let q=d0(Y,y),Q=S.createHref(Y.unstable_mask||Y);f.replaceState(q,"",Q),d&&p&&p({action:m,location:S.location,delta:0})}function O(_){return nb(_)}let S={get action(){return m},get location(){return s(u,f)},listen(_){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(u0,x),p=_,()=>{u.removeEventListener(u0,x),p=null}},createHref(_){return n(u,_)},createURL:O,encodeLocation(_){let B=O(_);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:j,go(_){return f.go(_)}};return S}function nb(s,n=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(l,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:yl(s);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function Z0(s,n,l="/"){return sb(s,n,l,!1)}function sb(s,n,l,r){let u=typeof n=="string"?ls(n):n,d=Xa(u.pathname||"/",l);if(d==null)return null;let f=F0(s);ib(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=pb(d);m=mb(f[p],y,r)}return m}function F0(s,n=[],l=[],r="",u=!1){let d=(f,m,p=u,y)=>{let v={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;Qe(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let x=_a([r,v.relativePath]),w=l.concat(v);f.children&&f.children.length>0&&(Qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),F0(f.children,n,w,x,p)),!(f.path==null&&!f.index)&&n.push({path:x,score:hb(x,f.index),routesMeta:w})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))d(f,m);else for(let p of W0(f.path))d(f,m,!0,p)}),n}function W0(s){let n=s.split("/");if(n.length===0)return[];let[l,...r]=n,u=l.endsWith("?"),d=l.replace(/\?$/,"");if(r.length===0)return u?[d,""]:[d];let f=W0(r.join("/")),m=[];return m.push(...f.map(p=>p===""?d:[d,p].join("/"))),u&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function ib(s){s.sort((n,l)=>n.score!==l.score?l.score-n.score:fb(n.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var lb=/^:[\w-]+$/,rb=3,ob=2,ub=1,cb=10,db=-2,h0=s=>s==="*";function hb(s,n){let l=s.split("/"),r=l.length;return l.some(h0)&&(r+=db),n&&(r+=ob),l.filter(u=>!h0(u)).reduce((u,d)=>u+(lb.test(d)?rb:d===""?ub:cb),r)}function fb(s,n){return s.length===n.length&&s.slice(0,-1).every((r,u)=>r===n[u])?s[s.length-1]-n[n.length-1]:0}function mb(s,n,l=!1){let{routesMeta:r}=s,u={},d="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,v=d==="/"?n:n.slice(d.length)||"/",x=no({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),w=p.route;if(!x&&y&&l&&!r[r.length-1].route.index&&(x=no({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),f.push({params:u,pathname:_a([d,x.pathname]),pathnameBase:xb(_a([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=_a([d,x.pathnameBase]))}return f}function no(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,r]=gb(s.path,s.caseSensitive,s.end),u=n.match(l);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:x},w)=>{if(v==="*"){let O=m[w]||"";f=d.slice(0,d.length-O.length).replace(/(.)\/+$/,"$1")}const j=m[w];return x&&!j?y[v]=void 0:y[v]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:f,pattern:s}}function gb(s,n=!1,l=!0){la(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p,y,v)=>{if(r.push({paramName:m,isOptional:p!=null}),p){let x=v.charAt(y+f.length);return x&&x!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),r]}function pb(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return la(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function Xa(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let l=n.endsWith("/")?n.length-1:n.length,r=s.charAt(l);return r&&r!=="/"?null:s.slice(l)||"/"}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bb(s,n="/"){let{pathname:l,search:r="",hash:u=""}=typeof s=="string"?ls(s):s,d;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?d=f0(l.substring(1),"/"):d=f0(l,n)):d=n,{pathname:d,search:wb(r),hash:_b(u)}}function f0(s,n){let l=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Cc(s,n,l,r){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vb(s){return s.filter((n,l)=>l===0||n.route.path&&n.route.path.length>0)}function nd(s){let n=vb(s);return n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase)}function ro(s,n,l,r=!1){let u;typeof s=="string"?u=ls(s):(u={...s},Qe(!u.pathname||!u.pathname.includes("?"),Cc("?","pathname","search",u)),Qe(!u.pathname||!u.pathname.includes("#"),Cc("#","pathname","hash",u)),Qe(!u.search||!u.search.includes("#"),Cc("#","search","hash",u)));let d=s===""||u.pathname==="",f=d?"/":u.pathname,m;if(f==null)m=l;else{let x=n.length-1;if(!r&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}m=x>=0?n[x]:"/"}let p=bb(u,m),y=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var _a=s=>s.join("/").replace(/\/\/+/g,"/"),xb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,_b=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Sb=class{constructor(s,n,l,r=!1){this.status=s,this.statusText=n||"",this.internal=r,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Eb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function jb(s){return s.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tg(s,n){let l=s;if(typeof l!="string"||!yb.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let r=l,u=!1;if(eg)try{let d=new URL(window.location.href),f=l.startsWith("//")?new URL(d.protocol+l):new URL(l),m=Xa(f.pathname,n);f.origin===d.origin&&m!=null?l=m+f.search+f.hash:u=!0}catch{la(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ag=["POST","PUT","PATCH","DELETE"];new Set(ag);var Tb=["GET",...ag];new Set(Tb);var ii=k.createContext(null);ii.displayName="DataRouter";var oo=k.createContext(null);oo.displayName="DataRouterState";var Nb=k.createContext(!1),ng=k.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var Ab=k.createContext(new Map);Ab.displayName="Fetchers";var kb=k.createContext(null);kb.displayName="Await";var It=k.createContext(null);It.displayName="Navigation";var jl=k.createContext(null);jl.displayName="Location";var Sa=k.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var sd=k.createContext(null);sd.displayName="RouteError";var sg="REACT_ROUTER_ERROR",Ob="REDIRECT",Rb="ROUTE_ERROR_RESPONSE";function Cb(s){if(s.startsWith(`${sg}:${Ob}:{`))try{let n=JSON.parse(s.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function Db(s){if(s.startsWith(`${sg}:${Rb}:{`))try{let n=JSON.parse(s.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Sb(n.status,n.statusText,n.data)}catch{}}function Ub(s,{relative:n}={}){Qe(li(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=k.useContext(It),{hash:u,pathname:d,search:f}=Nl(s,{relative:n}),m=d;return l!=="/"&&(m=d==="/"?l:_a([l,d])),r.createHref({pathname:m,search:f,hash:u})}function li(){return k.useContext(jl)!=null}function Ia(){return Qe(li(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(jl).location}var ig="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lg(s){k.useContext(It).static||k.useLayoutEffect(s)}function Tl(){let{isDataRoute:s}=k.useContext(Sa);return s?Xb():Mb()}function Mb(){Qe(li(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(ii),{basename:n,navigator:l}=k.useContext(It),{matches:r}=k.useContext(Sa),{pathname:u}=Ia(),d=JSON.stringify(nd(r)),f=k.useRef(!1);return lg(()=>{f.current=!0}),k.useCallback((p,y={})=>{if(la(f.current,ig),!f.current)return;if(typeof p=="number"){l.go(p);return}let v=ro(p,JSON.parse(d),u,y.relative==="path");s==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:_a([n,v.pathname])),(y.replace?l.replace:l.push)(v,y.state,y)},[n,l,d,u,s])}k.createContext(null);function Nl(s,{relative:n}={}){let{matches:l}=k.useContext(Sa),{pathname:r}=Ia(),u=JSON.stringify(nd(l));return k.useMemo(()=>ro(s,JSON.parse(u),r,n==="path"),[s,u,r,n])}function zb(s,n){return rg(s,n)}function rg(s,n,l){Qe(li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=k.useContext(It),{matches:u}=k.useContext(Sa),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",y=d&&d.route;{let _=y&&y.path||"";ug(m,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=Ia(),x;if(n){let _=typeof n=="string"?ls(n):n;Qe(p==="/"||_.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),x=_}else x=v;let w=x.pathname||"/",j=w;if(p!=="/"){let _=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let O=Z0(s,{pathname:j});la(y||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),la(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Hb(O&&O.map(_=>Object.assign({},_,{params:Object.assign({},f,_.params),pathname:_a([p,r.encodeLocation?r.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:_a([p,r.encodeLocation?r.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,l);return n&&S?k.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...x},navigationType:"POP"}},S):S}function Lb(){let s=Jb(),n=Eb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:d},"ErrorBoundary")," or"," ",k.createElement("code",{style:d},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),l?k.createElement("pre",{style:u},l):null,f)}var Bb=k.createElement(Lb,null),og=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.onError?this.props.onError(s,n):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const l=Db(s.digest);l&&(s=l)}let n=s!==void 0?k.createElement(Sa.Provider,{value:this.props.routeContext},k.createElement(sd.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?k.createElement(qb,{error:s},n):n}};og.contextType=Nb;var Dc=new WeakMap;function qb({children:s,error:n}){let{basename:l}=k.useContext(It);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=Cb(n.digest);if(r){let u=Dc.get(n);if(u)throw u;let d=tg(r.location,l);if(eg&&!Dc.get(n))if(d.isExternal||r.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:r.replace}));throw Dc.set(n,f),f}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return s}function $b({routeContext:s,match:n,children:l}){let r=k.useContext(ii);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Sa.Provider,{value:s},l)}function Hb(s,n=[],l){let r=l?.state;if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Qe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(l&&r){f=r.renderFallback;for(let v=0;v<u.length;v++){let x=u[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:w,errors:j}=r,O=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||O){l.isStatic&&(f=!0),m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}}let p=l?.onError,y=r&&p?(v,x)=>{p(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:jb(r.matches),errorInfo:x})}:void 0;return u.reduceRight((v,x,w)=>{let j,O=!1,S=null,_=null;r&&(j=d&&x.route.id?d[x.route.id]:void 0,S=x.route.errorElement||Bb,f&&(m<0&&w===0?(ug("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,_=null):m===w&&(O=!0,_=x.route.hydrateFallbackElement||null)));let B=n.concat(u.slice(0,w+1)),Y=()=>{let q;return j?q=S:O?q=_:x.route.Component?q=k.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=v,k.createElement($b,{match:x,routeContext:{outlet:v,matches:B,isDataRoute:r!=null},children:q})};return r&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?k.createElement(og,{location:r.location,revalidation:r.revalidation,component:S,error:j,children:Y(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:y}):Y()},null)}function id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(s){let n=k.useContext(ii);return Qe(n,id(s)),n}function Yb(s){let n=k.useContext(oo);return Qe(n,id(s)),n}function Vb(s){let n=k.useContext(Sa);return Qe(n,id(s)),n}function ld(s){let n=Vb(s),l=n.matches[n.matches.length-1];return Qe(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function Kb(){return ld("useRouteId")}function Jb(){let s=k.useContext(sd),n=Yb("useRouteError"),l=ld("useRouteError");return s!==void 0?s:n.errors?.[l]}function Xb(){let{router:s}=Gb("useNavigate"),n=ld("useNavigate"),l=k.useRef(!1);return lg(()=>{l.current=!0}),k.useCallback(async(u,d={})=>{la(l.current,ig),l.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:n,...d}))},[s,n])}var m0={};function ug(s,n,l){!n&&!m0[s]&&(m0[s]=!0,la(!1,l))}k.memo(Ib);function Ib({routes:s,future:n,state:l,isStatic:r,onError:u}){return rg(s,void 0,{state:l,isStatic:r,onError:u})}function Yc({to:s,replace:n,state:l,relative:r}){Qe(li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=k.useContext(It);la(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=k.useContext(Sa),{pathname:f}=Ia(),m=Tl(),p=ro(s,nd(d),f,r==="path"),y=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(y),{replace:n,state:l,relative:r})},[m,y,r,n,l]),null}function ts(s){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qb({basename:s="/",children:n=null,location:l,navigationType:r="POP",navigator:u,static:d=!1,unstable_useTransitions:f}){Qe(!li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:u,static:d,unstable_useTransitions:f,future:{}}),[m,u,d,f]);typeof l=="string"&&(l=ls(l));let{pathname:y="/",search:v="",hash:x="",state:w=null,key:j="default",unstable_mask:O}=l,S=k.useMemo(()=>{let _=Xa(y,m);return _==null?null:{location:{pathname:_,search:v,hash:x,state:w,key:j,unstable_mask:O},navigationType:r}},[m,y,v,x,w,j,r,O]);return la(S!=null,`<Router basename="${m}"> is not able to match the URL "${y}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(It.Provider,{value:p},k.createElement(jl.Provider,{children:n,value:S}))}function Pb({children:s,location:n}){return zb(Vc(s),n)}function Vc(s,n=[]){let l=[];return k.Children.forEach(s,(r,u)=>{if(!k.isValidElement(r))return;let d=[...n,u];if(r.type===k.Fragment){l.push.apply(l,Vc(r.props.children,d));return}Qe(r.type===ts,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Vc(r.props.children,d)),l.push(f)}),l}var to="get",ao="application/x-www-form-urlencoded";function uo(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Zb(s){return uo(s)&&s.tagName.toLowerCase()==="button"}function Fb(s){return uo(s)&&s.tagName.toLowerCase()==="form"}function Wb(s){return uo(s)&&s.tagName.toLowerCase()==="input"}function ev(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tv(s,n){return s.button===0&&(!n||n==="_self")&&!ev(s)}var Xr=null;function av(){if(Xr===null)try{new FormData(document.createElement("form"),0),Xr=!1}catch{Xr=!0}return Xr}var nv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uc(s){return s!=null&&!nv.has(s)?(la(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):s}function sv(s,n){let l,r,u,d,f;if(Fb(s)){let m=s.getAttribute("action");r=m?Xa(m,n):null,l=s.getAttribute("method")||to,u=Uc(s.getAttribute("enctype"))||ao,d=new FormData(s)}else if(Zb(s)||Wb(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?Xa(p,n):null,l=s.getAttribute("formmethod")||m.getAttribute("method")||to,u=Uc(s.getAttribute("formenctype"))||Uc(m.getAttribute("enctype"))||ao,d=new FormData(m,s),!av()){let{name:y,type:v,value:x}=s;if(v==="image"){let w=y?`${y}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else y&&d.append(y,x)}}else{if(uo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=to,r=null,u=ao,f=s}return d&&u==="text/plain"&&(f=d,d=void 0),{action:r,method:l.toLowerCase(),encType:u,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rd(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function iv(s,n,l,r){let u=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${r}`:u.pathname=`${u.pathname}.${r}`:u.pathname==="/"?u.pathname=`_root.${r}`:n&&Xa(u.pathname,n)==="/"?u.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${r}`,u}async function lv(s,n){if(s.id in n)return n[s.id];try{let l=await import(s.module);return n[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ov(s,n,l){let r=await Promise.all(s.map(async u=>{let d=n.routes[u.route.id];if(d){let f=await lv(d,l);return f.links?f.links():[]}return[]}));return hv(r.flat(1).filter(rv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function g0(s,n,l,r,u,d){let f=(p,y)=>l[y]?p.route.id!==l[y].route.id:!0,m=(p,y)=>l[y].pathname!==p.pathname||l[y].route.path?.endsWith("*")&&l[y].params["*"]!==p.params["*"];return d==="assets"?n.filter((p,y)=>f(p,y)||m(p,y)):d==="data"?n.filter((p,y)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function uv(s,n,{includeHydrateFallback:l}={}){return cv(s.map(r=>{let u=n.routes[r.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function cv(s){return[...new Set(s)]}function dv(s){let n={},l=Object.keys(s).sort();for(let r of l)n[r]=s[r];return n}function hv(s,n){let l=new Set;return new Set(n),s.reduce((r,u)=>{let d=JSON.stringify(dv(u));return l.has(d)||(l.add(d),r.push({key:d,link:u})),r},[])}function cg(){let s=k.useContext(ii);return rd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function fv(){let s=k.useContext(oo);return rd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var od=k.createContext(void 0);od.displayName="FrameworkContext";function dg(){let s=k.useContext(od);return rd(s,"You must render this element inside a <HydratedRouter> element"),s}function mv(s,n){let l=k.useContext(od),[r,u]=k.useState(!1),[d,f]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:x}=n,w=k.useRef(null);k.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let S=B=>{B.forEach(Y=>{f(Y.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[s]),k.useEffect(()=>{if(r){let S=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(S)}}},[r]);let j=()=>{u(!0)},O=()=>{u(!1),f(!1)};return l?s!=="intent"?[d,w,{}]:[d,w,{onFocus:cl(m,j),onBlur:cl(p,O),onMouseEnter:cl(y,j),onMouseLeave:cl(v,O),onTouchStart:cl(x,j)}]:[!1,w,{}]}function cl(s,n){return l=>{s&&s(l),l.defaultPrevented||n(l)}}function gv({page:s,...n}){let{router:l}=cg(),r=k.useMemo(()=>Z0(l.routes,s,l.basename),[l.routes,s,l.basename]);return r?k.createElement(yv,{page:s,matches:r,...n}):null}function pv(s){let{manifest:n,routeModules:l}=dg(),[r,u]=k.useState([]);return k.useEffect(()=>{let d=!1;return ov(s,n,l).then(f=>{d||u(f)}),()=>{d=!0}},[s,n,l]),r}function yv({page:s,matches:n,...l}){let r=Ia(),{future:u,manifest:d,routeModules:f}=dg(),{basename:m}=cg(),{loaderData:p,matches:y}=fv(),v=k.useMemo(()=>g0(s,n,y,d,r,"data"),[s,n,y,d,r]),x=k.useMemo(()=>g0(s,n,y,d,r,"assets"),[s,n,y,d,r]),w=k.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let S=new Set,_=!1;if(n.forEach(Y=>{let q=d.routes[Y.route.id];!q||!q.hasLoader||(!v.some(Q=>Q.route.id===Y.route.id)&&Y.route.id in p&&f[Y.route.id]?.shouldRevalidate||q.hasClientLoader?_=!0:S.add(Y.route.id))}),S.size===0)return[];let B=iv(s,m,u.unstable_trailingSlashAwareDataRequests,"data");return _&&S.size>0&&B.searchParams.set("_routes",n.filter(Y=>S.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[B.pathname+B.search]},[m,u.unstable_trailingSlashAwareDataRequests,p,r,d,v,n,s,f]),j=k.useMemo(()=>uv(x,d),[x,d]),O=pv(x);return k.createElement(k.Fragment,null,w.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...l})),j.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...l})),O.map(({key:S,link:_})=>k.createElement("link",{key:S,nonce:l.nonce,..._,crossOrigin:_.crossOrigin??l.crossOrigin})))}function bv(...s){return n=>{s.forEach(l=>{typeof l=="function"?l(n):l!=null&&(l.current=n)})}}var vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vv&&(window.__reactRouterVersion="7.13.1")}catch{}function xv({basename:s,children:n,unstable_useTransitions:l,window:r}){let u=k.useRef();u.current==null&&(u.current=eb({window:r,v5Compat:!0}));let d=u.current,[f,m]=k.useState({action:d.action,location:d.location}),p=k.useCallback(y=>{l===!1?m(y):k.startTransition(()=>m(y))},[l]);return k.useLayoutEffect(()=>d.listen(p),[d,p]),k.createElement(Qb,{basename:s,children:n,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:l})}var hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=k.forwardRef(function({onClick:n,discover:l="render",prefetch:r="none",relative:u,reloadDocument:d,replace:f,unstable_mask:m,state:p,target:y,to:v,preventScrollReset:x,viewTransition:w,unstable_defaultShouldRevalidate:j,...O},S){let{basename:_,navigator:B,unstable_useTransitions:Y}=k.useContext(It),q=typeof v=="string"&&hg.test(v),Q=tg(v,_);v=Q.to;let se=Ub(v,{relative:u}),K=Ia(),I=null;if(m){let Z=ro(m,[],K.unstable_mask?K.unstable_mask.pathname:"/",!0);_!=="/"&&(Z.pathname=Z.pathname==="/"?_:_a([_,Z.pathname])),I=B.createHref(Z)}let[oe,_e,ht]=mv(r,O),ne=Ev(v,{replace:f,unstable_mask:m,state:p,target:y,preventScrollReset:x,relative:u,viewTransition:w,unstable_defaultShouldRevalidate:j,unstable_useTransitions:Y});function xe(Z){n&&n(Z),Z.defaultPrevented||ne(Z)}let z=!(Q.isExternal||d),W=k.createElement("a",{...O,...ht,href:(z?I:void 0)||Q.absoluteURL||se,onClick:z?xe:n,ref:bv(S,_e),target:y,"data-discover":!q&&l==="render"?"true":void 0});return oe&&!q?k.createElement(k.Fragment,null,W,k.createElement(gv,{page:se})):W});fg.displayName="Link";var wv=k.forwardRef(function({"aria-current":n="page",caseSensitive:l=!1,className:r="",end:u=!1,style:d,to:f,viewTransition:m,children:p,...y},v){let x=Nl(f,{relative:y.relative}),w=Ia(),j=k.useContext(oo),{navigator:O,basename:S}=k.useContext(It),_=j!=null&&kv(x)&&m===!0,B=O.encodeLocation?O.encodeLocation(x).pathname:x.pathname,Y=w.pathname,q=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(Y=Y.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&S&&(q=Xa(q,S)||q);const Q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let se=Y===B||!u&&Y.startsWith(B)&&Y.charAt(Q)==="/",K=q!=null&&(q===B||!u&&q.startsWith(B)&&q.charAt(B.length)==="/"),I={isActive:se,isPending:K,isTransitioning:_},oe=se?n:void 0,_e;typeof r=="function"?_e=r(I):_e=[r,se?"active":null,K?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ht=typeof d=="function"?d(I):d;return k.createElement(fg,{...y,"aria-current":oe,className:_e,ref:v,style:ht,to:f,viewTransition:m},typeof p=="function"?p(I):p)});wv.displayName="NavLink";var _v=k.forwardRef(({discover:s="render",fetcherKey:n,navigate:l,reloadDocument:r,replace:u,state:d,method:f=to,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:w,...j},O)=>{let{unstable_useTransitions:S}=k.useContext(It),_=Nv(),B=Av(m,{relative:y}),Y=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&hg.test(m),Q=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let K=se.nativeEvent.submitter,I=K?.getAttribute("formmethod")||f,oe=()=>_(K||se.currentTarget,{fetcherKey:n,method:I,navigate:l,replace:u,state:d,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:w});S&&l!==!1?k.startTransition(()=>oe()):oe()};return k.createElement("form",{ref:O,method:Y,action:B,onSubmit:r?p:Q,...j,"data-discover":!q&&s==="render"?"true":void 0})});_v.displayName="Form";function Sv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mg(s){let n=k.useContext(ii);return Qe(n,Sv(s)),n}function Ev(s,{target:n,replace:l,unstable_mask:r,state:u,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y}={}){let v=Tl(),x=Ia(),w=Nl(s,{relative:f});return k.useCallback(j=>{if(tv(j,n)){j.preventDefault();let O=l!==void 0?l:yl(x)===yl(w),S=()=>v(s,{replace:O,unstable_mask:r,state:u,preventScrollReset:d,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p});y?k.startTransition(()=>S()):S()}},[x,v,w,l,r,u,n,s,d,f,m,p,y])}var jv=0,Tv=()=>`__${String(++jv)}__`;function Nv(){let{router:s}=mg("useSubmit"),{basename:n}=k.useContext(It),l=Kb(),r=s.fetch,u=s.navigate;return k.useCallback(async(d,f={})=>{let{action:m,method:p,encType:y,formData:v,body:x}=sv(d,n);if(f.navigate===!1){let w=f.fetcherKey||Tv();await r(w,l,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await u(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:l,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,u,n,l])}function Av(s,{relative:n}={}){let{basename:l}=k.useContext(It),r=k.useContext(Sa);Qe(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),d={...Nl(s||".",{relative:n})},f=Ia();if(s==null){d.search=f.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let v=m.toString();d.search=v?`?${v}`:""}}return(!s||s===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(d.pathname=d.pathname==="/"?l:_a([l,d.pathname])),yl(d)}function kv(s,{relative:n}={}){let l=k.useContext(ng);Qe(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mg("useViewTransitionState"),u=Nl(s,{relative:n});if(!l.isTransitioning)return!1;let d=Xa(l.currentLocation.pathname,r)||l.currentLocation.pathname,f=Xa(l.nextLocation.pathname,r)||l.nextLocation.pathname;return no(u.pathname,f)!=null||no(u.pathname,d)!=null}function co(s,n){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(s);u<r.length;u++)n.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(s,r[u])&&(l[r[u]]=s[r[u]]);return l}function Ov(s,n,l,r){function u(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function m(v){try{y(r.next(v))}catch(x){f(x)}}function p(v){try{y(r.throw(v))}catch(x){f(x)}}function y(v){v.done?d(v.value):u(v.value).then(m,p)}y((r=r.apply(s,n||[])).next())})}const Rv=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class ud extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Cv extends ud{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class p0 extends ud{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class y0 extends ud{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Kc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Kc||(Kc={}));class Dv{constructor(n,{headers:l={},customFetch:r,region:u=Kc.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=Rv(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Ov(this,arguments,void 0,function*(l,r={}){var u;let d,f;try{const{headers:m,method:p,body:y,signal:v,timeout:x}=r;let w={},{region:j}=r;j||(j=this.region);const O=new URL(`${this.url}/${l}`);j&&j!=="any"&&(w["x-region"]=j,O.searchParams.set("forceFunctionRegion",j));let S;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",S=y):typeof y=="string"?(w["Content-Type"]="text/plain",S=y):typeof FormData<"u"&&y instanceof FormData?S=y:(w["Content-Type"]="application/json",S=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?S=JSON.stringify(y):S=y;let _=v;x&&(f=new AbortController,d=setTimeout(()=>f.abort(),x),v?(_=f.signal,v.addEventListener("abort",()=>f.abort())):_=f.signal);const B=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:S,signal:_}).catch(se=>{throw new Cv(se)}),Y=B.headers.get("x-relay-error");if(Y&&Y==="true")throw new p0(B);if(!B.ok)throw new y0(B);let q=((u=B.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return q==="application/json"?Q=yield B.json():q==="application/octet-stream"||q==="application/pdf"?Q=yield B.blob():q==="text/event-stream"?Q=B:q==="multipart/form-data"?Q=yield B.formData():Q=yield B.text(),{data:Q,error:null,response:B}}catch(m){return{data:null,error:m,response:m instanceof y0||m instanceof p0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Uv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Mv=class{constructor(s){var n,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,p=null,y=d.status,v=d.statusText;if(d.ok){var x,w;if(l.method!=="HEAD"){var j;const B=await d.text();B===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((j=l.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?m=B:m=JSON.parse(B))}const S=(x=l.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),_=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");S&&_&&_.length>1&&(p=parseInt(_[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,y=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var O;const S=await d.text();try{f=JSON.parse(S),Array.isArray(f)&&d.status===404&&(m=[],f=null,y=200,v="OK")}catch{d.status===404&&S===""?(y=204,v="No Content"):f={message:S}}if(f&&l.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&l.shouldThrowOnError)throw new Uv(f)}return{error:f,data:m,count:p,status:y,statusText:v}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let m="",p="",y="";const v=d?.cause;if(v){var x,w,j,O;const B=(x=v?.message)!==null&&x!==void 0?x:"",Y=(w=v?.code)!==null&&w!==void 0?w:"";m=`${(j=d?.name)!==null&&j!==void 0?j:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(O=v?.name)!==null&&O!==void 0?O:"Error"}: ${B}`,Y&&(m+=` (${Y})`),v?.stack&&(m+=`
${v.stack}`)}else{var S;m=(S=d?.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(y="",p="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",p="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(p+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:p,code:y},data:null,count:null,status:0,statusText:""}})),u.then(s,n)}returns(){return this}overrideTypes(){return this}},zv=class extends Mv{select(s){let n=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,n,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:d="text"}={}){var f;const m=[s?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const b0=new RegExp("[,()]");var ei=class extends zv{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&b0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&b0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${n}`),this}match(s){return Object.entries(s).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(s,n,l){return this.url.searchParams.append(s,`not.${n}.${l}`),this}or(s,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,n,l){return this.url.searchParams.append(s,`${n}.${l}`),this}},Lv=class{constructor(s,{headers:n={},schema:l,fetch:r,urlLengthLimit:u=8e3}){this.url=s,this.headers=new Headers(n),this.schema=l,this.fetch=r,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:l=!1,count:r}=n??{},u=l?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),r&&p.append("Prefer",`count=${r}`),new ei({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:n,defaultToNull:l=!0}={}){var r;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),l||f.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);d.searchParams.set("columns",p.join(","))}}return new ei({method:u,url:d,headers:f,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var d;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),u||p.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);m.searchParams.set("columns",v.join(","))}}return new ei({method:f,url:m,headers:p,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:n}={}){var l;const r="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new ei({method:r,url:u,headers:d,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var n;const l="DELETE",{url:r,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new ei({method:l,url:r,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function bl(s){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bl(s)}function Bv(s,n){if(bl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function qv(s){var n=Bv(s,"string");return bl(n)=="symbol"?n:n+""}function $v(s,n,l){return(n=qv(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function v0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function Ir(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?v0(Object(l),!0).forEach(function(r){$v(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):v0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Hv=class gg{constructor(n,{headers:l={},schema:r,fetch:u,timeout:d,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=f;const m=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(p,y)=>{const v=new AbortController,x=setTimeout(()=>v.abort(),d),w=y?.signal;if(w){if(w.aborted)return clearTimeout(x),m(p,y);const j=()=>{clearTimeout(x),v.abort()};return w.addEventListener("abort",j,{once:!0}),m(p,Ir(Ir({},y),{},{signal:v.signal})).finally(()=>{clearTimeout(x),w.removeEventListener("abort",j)})}return m(p,Ir(Ir({},y),{},{signal:v.signal})).finally(()=>clearTimeout(x))}:this.fetch=m}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new gg(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,l={},{head:r=!1,get:u=!1,count:d}={}){var f;let m;const p=new URL(`${this.url}/rpc/${n}`);let y;const v=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(v)),x=r&&Object.values(l).some(v);x?(m="POST",y=l):r||u?(m=r?"HEAD":"GET",Object.entries(l).filter(([j,O])=>O!==void 0).map(([j,O])=>[j,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([j,O])=>{p.searchParams.append(j,O)})):(m="POST",y=l);const w=new Headers(this.headers);return x?w.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&w.set("Prefer",`count=${d}`),new ei({method:m,url:p,headers:w,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class Gv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const u=r.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Yv="2.97.0",Vv=`realtime-js/${Yv}`,Kv="1.0.0",pg="2.0.0",x0=pg,Jc=1e4,Jv=1e3,Xv=100;var An;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(An||(An={}));var dt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(dt||(dt={}));var ma;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ma||(ma={}));var Xc;(function(s){s.websocket="websocket"})(Xc||(Xc={}));var ns;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ns||(ns={}));class Iv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var l,r;const u=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var u,d;const f=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+y.length+x.length,j=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(j),S=0;O.setUint8(S++,this.KINDS.userBroadcastPush),O.setUint8(S++,p.length),O.setUint8(S++,m.length),O.setUint8(S++,f.length),O.setUint8(S++,y.length),O.setUint8(S++,x.length),O.setUint8(S++,l),Array.from(p,B=>O.setUint8(S++,B.charCodeAt(0))),Array.from(m,B=>O.setUint8(S++,B.charCodeAt(0))),Array.from(f,B=>O.setUint8(S++,B.charCodeAt(0))),Array.from(y,B=>O.setUint8(S++,B.charCodeAt(0))),Array.from(x,B=>O.setUint8(S++,B.charCodeAt(0)));var _=new Uint8Array(j.byteLength+r.byteLength);return _.set(new Uint8Array(j),0),_.set(new Uint8Array(r),j.byteLength),_.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[u,d,f,m,p]=r;return l({join_ref:u,ref:d,topic:f,event:m,payload:p})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),u=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,u)}_decodeUserBroadcast(n,l,r){const u=l.getUint8(1),d=l.getUint8(2),f=l.getUint8(3),m=l.getUint8(4);let p=this.HEADER_LENGTH+4;const y=r.decode(n.slice(p,p+u));p=p+u;const v=r.decode(n.slice(p,p+d));p=p+d;const x=r.decode(n.slice(p,p+f));p=p+f;const w=n.slice(p,n.byteLength),j=m===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,O={type:this.BROADCAST_EVENT,event:v,payload:j};return f>0&&(O.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class yg{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ve||(Ve={}));const w0=(s,n,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Qv(f,s,n,u),d),{}):{}},Qv=(s,n,l,r)=>{const u=n.find(m=>m.name===s),d=u?.type,f=l[s];return d&&!r.includes(d)?bg(d,f):Ic(f)},bg=(s,n)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return Wv(n,l)}switch(s){case Ve.bool:return Pv(n);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return Zv(n);case Ve.json:case Ve.jsonb:return Fv(n);case Ve.timestamp:return ex(n);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ic(n);default:return Ic(n)}},Ic=s=>s,Pv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Zv=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},Fv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Wv=(s,n)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let d;const f=s.slice(1,l);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>bg(n,m))}return s},ex=s=>typeof s=="string"?s.replace(" ","T"):s,vg=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Mc{constructor(n,l,r={},u=Jc){this.channel=n,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(_0||(_0={}));class gl{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,u,d,f),this.pendingDiffs.forEach(p=>{this.state=gl.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=gl.syncDiff(this.state,u,d,f),m())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,u){const d=this.cloneDeep(n),f=this.transformState(l),m={},p={};return this.map(d,(y,v)=>{f[y]||(p[y]=v)}),this.map(f,(y,v)=>{const x=d[y];if(x){const w=v.map(_=>_.presence_ref),j=x.map(_=>_.presence_ref),O=v.filter(_=>j.indexOf(_.presence_ref)<0),S=x.filter(_=>w.indexOf(_.presence_ref)<0);O.length>0&&(m[y]=O),S.length>0&&(p[y]=S)}else m[y]=v}),this.syncDiff(d,{joins:m,leaves:p},r,u)}static syncDiff(n,l,r,u){const{joins:d,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(d,(m,p)=>{var y;const v=(y=n[m])!==null&&y!==void 0?y:[];if(n[m]=this.cloneDeep(p),v.length>0){const x=n[m].map(j=>j.presence_ref),w=v.filter(j=>x.indexOf(j.presence_ref)<0);n[m].unshift(...w)}r(m,v,p)}),this.map(f,(m,p)=>{let y=n[m];if(!y)return;const v=p.map(x=>x.presence_ref);y=y.filter(x=>v.indexOf(x.presence_ref)<0),n[m]=y,u(m,y,p),y.length===0&&delete n[m]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const u=n[r];return"metas"in u?l[r]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(S0||(S0={}));var pl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(pl||(pl={}));var Ka;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ka||(Ka={}));class ni{constructor(n,l={config:{}},r){var u,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,ma.join,this.params,this.timeout),this.rejoinTimer=new yg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new gl(this),this.broadcastEndpointURL=vg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,y=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(j=>j.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(Ka.CHANNEL_ERROR,j)),this._onClose(()=>n?.(Ka.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:j})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){n?.(Ka.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(O=S?.length)!==null&&O!==void 0?O:0,B=[];for(let Y=0;Y<_;Y++){const q=S[Y],{filter:{event:Q,schema:se,table:K,filter:I}}=q,oe=j&&j[Y];if(oe&&oe.event===Q&&ni.isFilterValueEqual(oe.schema,se)&&ni.isFilterValueEqual(oe.table,K)&&ni.isFilterValueEqual(oe.filter,I))B.push(Object.assign(Object.assign({},q),{id:oe.id}));else{this.unsubscribe(),this.state=dt.errored,n?.(Ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,n&&n(Ka.SUBSCRIBED);return}}).receive("error",j=>{this.state=dt.errored,n?.(Ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===dt.joined&&n===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var u;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var r,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const y=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=dt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new Mc(this,ma.leave,{},n),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const u=new AbortController,d=setTimeout(()=>u.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Mc(this,n,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Xv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var u,d;const f=n.toLocaleLowerCase(),{close:m,error:p,leave:y,join:v}=ma;if(r&&[m,p,y,v].indexOf(f)>=0&&r!==this._joinRef())return;let w=this._onMessage(f,l,r);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var O,S,_;return((O=j.filter)===null||O===void 0?void 0:O.event)==="*"||((_=(S=j.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===f}).map(j=>j.callback(w,r)):(d=this.bindings[f])===null||d===void 0||d.filter(j=>{var O,S,_,B,Y,q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const Q=j.id,se=(O=j.filter)===null||O===void 0?void 0:O.event;return Q&&((S=l.ids)===null||S===void 0?void 0:S.includes(Q))&&(se==="*"||se?.toLocaleLowerCase()===((_=l.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const Q=(Y=(B=j?.filter)===null||B===void 0?void 0:B.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return Q==="*"||Q===((q=l?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:S,table:_,commit_timestamp:B,type:Y,errors:q}=O;w=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:B,eventType:Y,new:{},old:{},errors:q}),this._getPayloadRecords(O))}j.callback(w,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&ni.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ma.close,{},n)}_onError(n){this._on(ma.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=w0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=w0(n.columns,n.old_record)),l}}const zc=()=>{},Qr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tx=[1e3,2e3,5e3,1e4],ax=1e4,nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sx{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jc,this.transport=null,this.heartbeatIntervalMs=Qr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zc,this.ref=0,this.reconnectTimer=null,this.vsn=x0,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new Iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Xc.websocket}`,this.httpEndpoint=vg(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return ns.Connecting;case An.open:return ns.Open;case An.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===r);if(u)return u;{const d=new ni(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:u,ref:d}=n,f=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${l} ${r} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Jv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Qr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:u,payload:d,ref:f}=l,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${u} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(u,d,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===An.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(ma.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${r}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([nx],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const d={access_token:l,version:Vv};l&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(ma.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,u,d,f,m,p,y,v,x,w,j;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Jc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Qr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:zc,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:x0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>tx[O-1]||ax),this.vsn){case Kv:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((O,S)=>S(JSON.stringify(O))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:((O,S)=>S(JSON.parse(O)));break;case pg:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var vl=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ix(s,n,l){const r=new URL(n,s);if(l)for(const[u,d]of Object.entries(l))d!==void 0&&r.searchParams.set(u,d);return r.toString()}async function lx(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function rx(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:u,body:d,headers:f}){const m=ix(s.baseUrl,r,u),p=await lx(s.auth),y=await n(m,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),v=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),w=x&&v?JSON.parse(v):v;if(!y.ok){const j=x?w:void 0,O=j?.error;throw new vl(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:j})}return{status:y.status,headers:y.headers,data:w}}}}function Pr(s){return s.join("")}var ox=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:Pr(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,n){const l={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pr(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pr(s.namespace)}`}),!0}catch(n){if(n instanceof vl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(l){if(l instanceof vl&&l.status===409)return;throw l}}};function Xs(s){return s.join("")}var ux=class{constructor(s,n="",l){this.client=s,this.prefix=n,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(s,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(l){if(l instanceof vl&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(l){if(l instanceof vl&&l.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw l}}},cx=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=rx({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new ox(this.client,n),this.tableOps=new ux(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},ho=class extends Error{constructor(s,n="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function fo(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Zr=class extends ho{constructor(s,n,l,r="storage"){super(s,r,n,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xg=class extends ho{constructor(s,n,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const dx=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),hx=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Qc=s=>{if(Array.isArray(s))return s.map(l=>Qc(l));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Qc(r)}),n},fx=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function xl(s){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xl(s)}function mx(s,n){if(xl(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function gx(s){var n=mx(s,"string");return xl(n)=="symbol"?n:n+""}function px(s,n,l){return(n=gx(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function E0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function de(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?E0(Object(l),!0).forEach(function(r){px(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):E0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const j0=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},yx=async(s,n,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const u=s,d=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const m=f?.statusCode||f?.code||d+"";n(new Zr(j0(f),d,m,r))}).catch(()=>{if(r==="vectors"){const f=d+"";n(new Zr(u.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";n(new Zr(u.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";n(new Zr(u.statusText||`HTTP ${d} error`,d,f,r))}}else n(new xg(j0(s),s,r))},bx=(s,n,l,r)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"||s==="HEAD"||!r?de(de({},u),l):(hx(r)?(u.headers=de({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(r)):u.body=r,n?.duplex&&(u.duplex=n.duplex),de(de({},u),l))};async function dl(s,n,l,r,u,d,f){return new Promise((m,p)=>{s(l,bx(n,r,u,d)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;if(f==="vectors"){const v=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!v||!v.includes("application/json"))return{}}return y.json()}).then(y=>m(y)).catch(y=>yx(y,p,r,f))})}function wg(s="storage"){return{get:async(n,l,r,u)=>dl(n,"GET",l,r,u,void 0,s),post:async(n,l,r,u,d)=>dl(n,"POST",l,u,d,r,s),put:async(n,l,r,u,d)=>dl(n,"PUT",l,u,d,r,s),head:async(n,l,r,u)=>dl(n,"HEAD",l,de(de({},r),{},{noResolveJson:!0}),u,void 0,s),remove:async(n,l,r,u,d)=>dl(n,"DELETE",l,u,d,r,s)}}const vx=wg("storage"),{get:wl,post:fa,put:Pc,head:xx,remove:cd}=vx,Xt=wg("vectors");var ri=class{constructor(s,n={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.fetch=dx(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=de(de({},this.headers),{},{[s]:n}),this}async handleOperation(s){var n=this;try{return{data:await s(),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(fo(l))return{data:null,error:l};throw l}}},wx=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(fo(n))return{data:null,error:n};throw n}}};let _g;_g=Symbol.toStringTag;var _x=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[_g]="BlobDownloadBuilder",this.promise=null}asStream(){return new wx(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(fo(n))return{data:null,error:n};throw n}}};const Sx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ex=class extends ri{constructor(s,n={},l,r){super(s,n,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,n,l,r){var u=this;return u.handleOperation(async()=>{let d;const f=de(de({},T0),r);let m=de(de({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",u.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(p))):(d=l,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(m=de(de({},m),r.headers));const y=u._removeEmptyFolders(n),v=u._getFinalPath(y),x=await(s=="PUT"?Pc:fa)(u.fetch,`${u.url}/object/${v}`,d,de({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:y,id:x.Id,fullPath:x.Key}})}async upload(s,n,l){return this.uploadOrUpdate("POST",s,n,l)}async uploadToSignedUrl(s,n,l,r){var u=this;const d=u._removeEmptyFolders(s),f=u._getFinalPath(d),m=new URL(u.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),u.handleOperation(async()=>{let p;const y=de({upsert:T0.upsert},r),v=de(de({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{path:d,fullPath:(await Pc(u.fetch,m.toString(),p,{headers:v})).Key}})}async createSignedUploadUrl(s,n){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const u=de({},l.headers);n?.upsert&&(u["x-upsert"]="true");const d=await fa(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),f=new URL(l.url+d.url),m=f.searchParams.get("token");if(!m)throw new ho("No token returned by API");return{signedUrl:f.toString(),path:s,token:m}})}async update(s,n,l){return this.uploadOrUpdate("PUT",s,n,l)}async move(s,n,l){var r=this;return r.handleOperation(async()=>await fa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,n,l){var r=this;return r.handleOperation(async()=>({path:(await fa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,n,l){var r=this;return r.handleOperation(async()=>{let u=r._getFinalPath(s),d=await fa(r.fetch,`${r.url}/object/sign/${u}`,de({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(s,n,l){var r=this;return r.handleOperation(async()=>{const u=await fa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:s},{headers:r.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u.map(f=>de(de({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(s,n,l){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",f=this._getFinalPath(s),m=()=>wl(this.fetch,`${this.url}/${r}/${f}${d}`,{headers:this.headers,noResolveJson:!0},l);return new _x(m,this.shouldThrowOnError)}async info(s){var n=this;const l=n._getFinalPath(s);return n.handleOperation(async()=>Qc(await wl(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})))}async exists(s){var n=this;const l=n._getFinalPath(s);try{return await xx(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fo(r)&&r instanceof xg){const u=r.originalError;if([400,404].includes(u?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,n){const l=this._getFinalPath(s),r=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&r.push(f);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${m}`)}}}async remove(s){var n=this;return n.handleOperation(async()=>await cd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}))}async list(s,n,l){var r=this;return r.handleOperation(async()=>{const u=de(de(de({},Sx),n),{},{prefix:s||""});return await fa(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l)})}async listV2(s,n){var l=this;return l.handleOperation(async()=>{const r=de({},s);return await fa(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const jx="2.97.0",Al={"X-Client-Info":`storage-js/${jx}`};var Tx=class extends ri{constructor(s,n={},l,r){const u=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),f=de(de({},Al),n);super(d,f,l,"storage")}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=n.listBucketOptionsToQueryString(s);return await wl(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers})})}async getBucket(s){var n=this;return n.handleOperation(async()=>await wl(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}))}async createBucket(s,n={public:!1}){var l=this;return l.handleOperation(async()=>await fa(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,n){var l=this;return l.handleOperation(async()=>await Pc(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await cd(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Nx=class extends ri{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=de(de({},Al),n);super(r,u,l,"storage")}async createBucket(s){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}))}async listBuckets(s){var n=this;return n.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),u=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await wl(n.fetch,u,{headers:n.headers})})}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await cd(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}))}from(s){var n=this;if(!fx(s))throw new ho("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new cx({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},Ax=class extends ri{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=de(de({},Al),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async createIndex(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{})}async getIndex(s,n){var l=this;return l.handleOperation(async()=>await Xt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers}))}async listIndexes(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}))}async deleteIndex(s,n){var l=this;return l.handleOperation(async()=>await Xt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers})||{})}},kx=class extends ri{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=de(de({},Al),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async putVectors(s){var n=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{})}async getVectors(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}))}async listVectors(s){var n=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}))}async queryVectors(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}))}async deleteVectors(s){var n=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{})}},Ox=class extends ri{constructor(s,n={},l){const r=s.replace(/\/$/,""),u=de(de({},Al),{},{"Content-Type":"application/json"},n);super(r,u,l,"vectors")}async createBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}async getBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}))}async listBuckets(s={}){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}))}async deleteBucket(s){var n=this;return n.handleOperation(async()=>await Xt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{})}},Rx=class extends Ox{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Cx(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,l=this;return n().call(l,s)}async getBucket(s){var n=()=>super.getBucket,l=this;return n().call(l,s)}async listBuckets(s={}){var n=()=>super.listBuckets,l=this;return n().call(l,s)}async deleteBucket(s){var n=()=>super.deleteBucket,l=this;return n().call(l,s)}},Cx=class extends Ax{constructor(s,n,l,r){super(s,n,r),this.vectorBucketName=l}async createIndex(s){var n=()=>super.createIndex,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,s)}index(s){return new Dx(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Dx=class extends kx{constructor(s,n,l,r,u){super(s,n,u),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var n=()=>super.putVectors,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var n=()=>super.getVectors,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,l=this;return n().call(l,de(de({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Ux=class extends Tx{constructor(s,n={},l,r){super(s,n,l,r)}from(s){return new Ex(this.url,this.headers,s,this.fetch)}get vectors(){return new Rx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nx(this.url+"/iceberg",this.headers,this.fetch)}};const Sg="2.97.0",ti=30*1e3,Zc=3,Lc=Zc*ti,Mx="http://localhost:9999",zx="supabase.auth.token",Lx={"X-Client-Info":`gotrue-js/${Sg}`},Fc="X-Supabase-Api-Version",Eg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qx=600*1e3;class _l extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function le(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class $x extends _l{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Hx(s){return le(s)&&s.name==="AuthApiError"}class ss extends _l{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Qa extends _l{constructor(n,l,r,u){super(n,r,u),this.name=l,this.status=r}}class Jt extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bc(s){return le(s)&&s.name==="AuthSessionMissingError"}class Is extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fr extends Qa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Wr extends Qa{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(s){return le(s)&&s.name==="AuthImplicitGrantRedirectError"}class N0 extends Qa{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yx extends Qa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wc extends Qa{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function qc(s){return le(s)&&s.name==="AuthRetryableFetchError"}class A0 extends Qa{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class ed extends Qa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k0=` 	
\r=`.split(""),Vx=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<k0.length;n+=1)s[k0[n].charCodeAt(0)]=-2;for(let n=0;n<so.length;n+=1)s[so[n].charCodeAt(0)]=n;return s})();function O0(s,n,l){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(so[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(so[r]),n.queuedBits-=6}}function jg(s,n,l){const r=Vx[s];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function R0(s){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Xx(f,r,l)};for(let f=0;f<s.length;f+=1)jg(s.charCodeAt(f),u,d);return n.join("")}function Kx(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Jx(s,n){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Kx(r,n)}}function Xx(s,n,l){if(n.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function si(s){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};for(let u=0;u<s.length;u+=1)jg(s.charCodeAt(u),l,r);return new Uint8Array(n)}function Ix(s){const n=[];return Jx(s,l=>n.push(l)),new Uint8Array(n)}function is(s){const n=[],l={queue:0,queuedBits:0},r=u=>{n.push(u)};return s.forEach(u=>O0(u,l,r)),O0(null,l,r),n.join("")}function Qx(s){return Math.round(Date.now()/1e3)+s}function Px(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},Tg=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function Zx(s){const n={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return l.searchParams.forEach((r,u)=>{n[u]=r}),n}const Ng=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Fx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ai=async(s,n,l)=>{await s.setItem(n,JSON.stringify(l))},Wn=async(s,n)=>{const l=await s.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},_t=async(s,n)=>{await s.removeItem(n)};class mo{constructor(){this.promise=new mo.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}mo.promiseConstructor=Promise;function eo(s){const n=s.split(".");if(n.length!==3)throw new ed("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Bx.test(n[r]))throw new ed("JWT not in base64url format");return{header:JSON.parse(R0(n[0])),payload:JSON.parse(R0(n[1])),signature:si(n[2]),raw:{header:n[0],payload:n[1]}}}async function Wx(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function e1(s,n){return new Promise((r,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await s(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){u(f);return}}})()})}function t1(s){return("0"+s.toString(16)).substr(-2)}function a1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(n),Array.from(n,t1).join("")}async function n1(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function s1(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await n1(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(s,n,l=!1){const r=a1();let u=r;l&&(u+="/PASSWORD_RECOVERY"),await ai(s,`${n}-code-verifier`,u);const d=await s1(r);return[d,r===d?"plain":"s256"]}const i1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l1(s){const n=s.headers.get(Fc);if(!n||!n.match(i1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function r1(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function o1(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(s){if(!u1.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $c(){const s={};return new Proxy(s,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function c1(s,n){return new Proxy(s,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,u)}})}function C0(s){return JSON.parse(JSON.stringify(s))}const as=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),d1=[502,503,504];async function D0(s){var n;if(!Fx(s))throw new Wc(as(s),0);if(d1.includes(s.status))throw new Wc(as(s),s.status);let l;try{l=await s.json()}catch(d){throw new ss(as(d),d)}let r;const u=l1(s);if(u&&u.getTime()>=Eg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new A0(as(l),s.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new A0(as(l),s.status,l.weak_password.reasons);throw new $x(as(l),s.status||500,r)}const h1=(s,n,l,r)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};async function he(s,n,l,r){var u;const d=Object.assign({},r?.headers);d[Fc]||(d[Fc]=Eg["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(u=r?.query)!==null&&u!==void 0?u:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await f1(s,n,l+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function f1(s,n,l,r,u,d){const f=h1(n,r,u,d);let m;try{m=await s(l,Object.assign({},f))}catch(p){throw console.error(p),new Wc(as(p),0)}if(m.ok||await D0(m),r?.noResolveJson)return m;try{return await m.json()}catch(p){await D0(p)}}function ha(s){var n;let l=null;p1(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=Qx(s.expires_in)));const r=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:l,user:r},error:null}}function U0(s){const n=ha(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=s.weak_password),n}function kn(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function m1(s){return{data:s,error:null}}function g1(s){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d}=s,f=co(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:l,hashed_token:r,redirect_to:u,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function M0(s){return s}function p1(s){return s.access_token&&s.refresh_token&&s.expires_in}const Hc=["global","local","others"];class y1{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=Ng(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Hc[0]){if(Hc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:kn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=co(n,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r?.newEmail,delete u.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:g1,redirectTo:l?.redirectTo})}catch(l){if(le(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:kn})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,u,d,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:M0});if(v.error)throw v.error;const x=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(O=>{const S=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(O.split(";")[1].split("=")[1]);y[`${_}Page`]=S}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(le(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Ps(n);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:kn})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Ps(n);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:kn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Ps(n);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:kn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Ps(n.userId);try{const{data:l,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Ps(n.userId),Ps(n.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,u,d,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:M0});if(v.error)throw v.error;const x=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(O=>{const S=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(O.split(";")[1].split("=")[1]);y[`${_}Page`]=S}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(le(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}}function z0(s={}){return{getItem:n=>s[n]||null,setItem:(n,l)=>{s[n]=l},removeItem:n=>{delete s[n]}}}const Zs={debug:!!(globalThis&&Tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ag extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class L0 extends Ag{}async function b1(s,n,l){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const r=new globalThis.AbortController;n>0&&setTimeout(()=>{r.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await l()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(n===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new L0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Zs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}})}catch(u){throw u?.name==="AbortError"?new L0(`Acquiring an exclusive Navigator LockManager lock "${s}" timed out waiting ${n}ms`):u}}function v1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kg(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function x1(s){return parseInt(s,16)}function w1(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function _1(s){var n;const{chainId:l,domain:r,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:y,scheme:v,uri:x,version:w}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const j=kg(s.address),O=v?`${v}://${r}`:r,S=s.statement?`${s.statement}
`:"",_=`${O} wants you to sign in with your Ethereum account:
${j}

${S}`;let B=`URI: ${x}
Version: ${w}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(B+=`
Expiration Time: ${u.toISOString()}`),m&&(B+=`
Not Before: ${m.toISOString()}`),p&&(B+=`
Request ID: ${p}`),y){let Y=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);Y+=`
- ${q}`}B+=Y}return`${_}
${B}`}class ot extends Error{constructor({message:n,code:l,cause:r,name:u}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=u??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class io extends ot{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function S1({error:s,options:n}){var l,r,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new ot({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(Og(f)){if(d.rp.id!==f)return new ot({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function E1({error:s,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new ot({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Og(r)){if(l.rpId!==r)return new ot({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class j1{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const T1=new j1;function N1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:l,excludeCredentials:r}=s,u=co(s,["challenge","user","excludeCredentials"]),d=si(n).buffer,f=Object.assign(Object.assign({},l),{id:si(l.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const y=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:si(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function A1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:l}=s,r=co(s,["challenge","allowCredentials"]),u=si(n).buffer,d=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const m=l[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:si(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function k1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:is(new Uint8Array(s.response.attestationObject)),clientDataJSON:is(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function O1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:is(new Uint8Array(u.authenticatorData)),clientDataJSON:is(new Uint8Array(u.clientDataJSON)),signature:is(new Uint8Array(u.signature)),userHandle:u.userHandle?is(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Og(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function B0(){var s,n;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function R1(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new io("Browser returned unexpected credential type",n)}:{data:null,error:new io("Empty credential response",n)}}catch(n){return{data:null,error:S1({error:n,options:s})}}}async function C1(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new io("Browser returned unexpected credential type",n)}:{data:null,error:new io("Empty credential response",n)}}catch(n){return{data:null,error:E1({error:n,options:s})}}}const D1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},U1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lo(...s){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of s)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(l(f))r[d]=f;else if(n(f)){const m=r[d];n(m)?r[d]=lo(m,f):r[d]=lo(f)}else r[d]=f}return r}function M1(s,n){return lo(D1,s,n||{})}function z1(s,n){return lo(U1,s,n||{})}class L1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:u},d){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!m)return{data:null,error:p};const y=u??T1.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const x=r;if(x)v.name=`${v.id}:${x}`;else{const j=(await this.client.getUser()).data.user,O=((f=j?.user_metadata)===null||f===void 0?void 0:f.name)||j?.email||j?.id||"User";v.name=`${v.id}:${O}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=M1(m.webauthn.credential_options.publicKey,d?.create),{data:x,error:w}=await R1({publicKey:v,signal:y});return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const v=z1(m.webauthn.credential_options.publicKey,d?.request),{data:x,error:w}=await C1(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:y}));return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(m){return le(m)?{data:null,error:m}:{data:null,error:new ss("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new _l("rpId is required for WebAuthn authentication")};try{if(!B0())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new ss("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!l)return{data:null,error:new _l("rpId is required for WebAuthn registration")};try{if(!B0())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new ss("Unexpected error in register",f)}}}}v1();const B1={url:Mx,storageKey:zx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function q0(s,n,l){return await l()}const Fs={};class Sl{get jwks(){var n,l;return(l=(n=Fs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Fs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},B1),n);if(this.storageKey=d.storageKey,this.instanceID=(l=Sl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Sl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&St()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new y1({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Ng(d.fetch),this.lock=d.lock||q0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&St()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=b1:this.lock=q0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=z0(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}d.skipAutoInitialize||this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(St()&&(l=Zx(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),St()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Gx(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return le(l)?this._returnResult({error:l}):this._returnResult({error:new ss("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,u;try{const d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ha}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,u;try{let d;if("email"in n){const{email:v,password:x,options:w}=n;let j=null,O=null;this.flowType==="pkce"&&([j,O]=await Qs(this.storage,this.storageKey)),d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:x,data:(l=w?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:O},xform:ha})}else if("phone"in n){const{phone:v,password:x,options:w}=n;d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ha})}else throw new Fr("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:f,options:m}=n;l=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:U0})}else if("phone"in n){const{phone:d,password:f,options:m}=n;l=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:U0})}else throw new Fr("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const d=new Is;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,u,d,f,m,p,y,v,x,w;let j,O;if("message"in n)j=n.message,O=n.signature;else{const{chain:S,wallet:_,statement:B,options:Y}=n;let q;if(St())if(typeof _=="object")q=_;else{const _e=window;if("ethereum"in _e&&typeof _e.ethereum=="object"&&"request"in _e.ethereum&&typeof _e.ethereum.request=="function")q=_e.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=_}const Q=new URL((l=Y?.url)!==null&&l!==void 0?l:window.location.href),se=await q.request({method:"eth_requestAccounts"}).then(_e=>_e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=kg(se[0]);let I=(r=Y?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const _e=await q.request({method:"eth_chainId"});I=x1(_e)}const oe={domain:Q.host,address:K,statement:B,uri:Q.href,version:"1",chainId:I,nonce:(u=Y?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=Y?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=Y?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=Y?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=Y?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=Y?.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=_1(oe),O=await q.request({method:"personal_sign",params:[w1(j),K]})}try{const{data:S,error:_}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:O},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ha});if(_)throw _;if(!S||!S.session||!S.user){const B=new Is;return this._returnResult({data:{user:null,session:null},error:B})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(le(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(n){var l,r,u,d,f,m,p,y,v,x,w,j;let O,S;if("message"in n)O=n.message,S=n.signature;else{const{chain:_,wallet:B,statement:Y,options:q}=n;let Q;if(St())if(typeof B=="object")Q=B;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))Q=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=B}const se=new URL((l=q?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Q&&Q.signIn){const K=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),Y?{statement:Y}:null));let I;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")I=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)I=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)O=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${se.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(u=(r=q?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=q?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((x=(v=q?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...q.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const K=await Q.signMessage(new TextEncoder().encode(O),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:_,error:B}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:is(S)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ha});if(B)throw B;if(!_||!_.session||!_.user){const Y=new Is;return this._returnResult({data:{user:null,session:null},error:Y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:B})}catch(_){if(le(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(n){const l=await Wn(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Yx;const{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:ha});if(await _t(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:u,access_token:d,nonce:f}=n,m=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ha}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const v=new Is;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,u,d,f;try{if("email"in n){const{email:m,options:p}=n;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Qs(this.storage,this.storageKey));const{error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:m,options:p}=n,{data:y,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new Fr("You must provide either an email or phone number.")}catch(m){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var l,r;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ha});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var l,r,u,d,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Qs(this.storage,this.storageKey));const y=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:m1});return!((d=y.data)===null||d===void 0)&&d.url&&St()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Jt;const{error:u}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:u,options:d}=n,{error:f}=await he(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:u,options:d}=n,{data:f,error:m}=await he(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Fr("You must provide either an email or phone number and a type")}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Lc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Wn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=$c()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=c1(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:kn}):await this._useSession(async l=>{var r,u,d;const{data:f,error:m}=l;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:kn})})}catch(l){if(le(l))return Bc(l)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:u,error:d}=r;if(d)throw d;if(!u.session)throw new Jt;const f=u.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await Qs(this.storage,this.storageKey));const{data:y,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:kn});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Jt;const l=Date.now()/1e3;let r=l,u=!0,d=null;const{payload:f}=eo(n.access_token);if(f.exp&&(r=f.exp,u=r<=l),u){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(le(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:m}=l;if(m)throw m;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Jt;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!St())throw new Wr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Wr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new N0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new N0("No code detected.");const{data:Y,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:y}=n;if(!d||!m||!f||!y)throw new Wr("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(m);let w=v+x;p&&(w=parseInt(p));const j=w-v;j*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${x}s`);const O=w-x;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,v);const{data:S,error:_}=await this._getUser(d);if(_)throw _;const B={provider_token:r,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:w,refresh_token:f,token_type:y,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:n.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d&&!Bc(d))return this._returnResult({error:d});const f=(r=u.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Hx(m)&&(m.status===404||m.status===401||m.status===403)||Bc(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=Px(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,u;try{const{data:{session:d},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Qs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:u}=await this._useSession(async d=>{var f,m,p,y,v;const{data:x,error:w}=d;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return St()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:f,provider:m,token:p,access_token:y,nonce:v}=n,x=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ha}),{data:w,error:j}=x;return j?this._returnResult({data:{user:null,session:null},error:j}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Is}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:j}))}catch(u){if(await _t(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:f}=l;if(f)throw f;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await e1(async u=>(u>0&&await Wx(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ha})),(u,d)=>{const f=200*Math.pow(2,u);return d&&qc(d)&&Date.now()+f-r<ti})}catch(r){if(this._debug(l,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),St()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await Wn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await ai(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:$c()}else if(u&&!u.user&&!u.user){const f=await Wn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await _t(this.storage,this.storageKey+"-user"),await ai(this.storage,this.storageKey,u)):u.user=$c()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Lc;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Lc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),qc(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new mo;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Jt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),le(d)){const f={data:null,error:d};return qc(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,l,r=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,l)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await ai(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const d=C0(u);await ai(this.storage,this.storageKey,d)}else{const u=C0(l);await ai(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-n)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${ti}ms, refresh threshold is ${Zc} ticks`),u<=Zc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ag)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const u=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await Qs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);u.push(d.toString())}return r?.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;return d?this._returnResult({data:null,error:d}):await he(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,u;const{data:d,error:f}=l;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await he(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?k1(n.webauthn.credential_response):O1(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:N1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:A1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var l,r,u,d;if(n)try{const{payload:j}=eo(n);let O=null;j.aal&&(O=j.aal);let S=O;const{data:{user:_},error:B}=await this.getUser(n);if(B)return this._returnResult({data:null,error:B});((r=(l=_?.factors)===null||l===void 0?void 0:l.filter(Q=>Q.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(S="aal2");const q=j.amr||[];return{data:{currentLevel:O,nextLevel:S,currentAuthenticationMethods:q},error:null}}catch(j){if(le(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=eo(f.access_token);let y=null;p.aal&&(y=p.aal);let v=y;((d=(u=f.user.factors)===null||u===void 0?void 0:u.filter(j=>j.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(v="aal2");const w=p.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const f=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&St()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:u},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Jt});const f=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&St()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(m=>m.kid===n);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+qx>u)return r;const{data:d,error:f}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,r=d.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:j,error:O}=await this.getSession();if(O||!j.session)return this._returnResult({data:null,error:O});r=j.session.access_token}const{header:u,payload:d,signature:f,raw:{header:m,payload:p}}=eo(r);l?.allowExpired||r1(d.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:d,header:u,signature:f},error:null}}const v=o1(u.alg),x=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,Ix(`${m}.${p}`)))throw new ed("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}Sl.nextInstanceID={};const q1=Sl,$1="2.97.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const H1={"X-Client-Info":`supabase-js-${fl}/${$1}`},G1={headers:H1},Y1={schema:"public"},V1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K1={};function El(s){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},El(s)}function J1(s,n){if(El(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function X1(s){var n=J1(s,"string");return El(n)=="symbol"?n:n+""}function I1(s,n,l){return(n=X1(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function $0(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),l.push.apply(l,r)}return l}function Fe(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?$0(Object(l),!0).forEach(function(r){I1(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):$0(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Q1=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),P1=()=>Headers,Z1=(s,n,l)=>{const r=Q1(l),u=P1();return async(d,f)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:s;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),r(d,Fe(Fe({},f),{},{headers:y}))}};function F1(s){return s.endsWith("/")?s:s+"/"}function W1(s,n){var l,r;const{db:u,auth:d,realtime:f,global:m}=s,{db:p,auth:y,realtime:v,global:x}=n,w={db:Fe(Fe({},p),u),auth:Fe(Fe({},y),d),realtime:Fe(Fe({},v),f),storage:{},global:Fe(Fe(Fe({},x),m),{},{headers:Fe(Fe({},(l=x?.headers)!==null&&l!==void 0?l:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function ew(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tw=class extends q1{constructor(s){super(s)}},aw=class{constructor(s,n,l){var r,u;this.supabaseUrl=s,this.supabaseKey=n;const d=ew(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Y1,realtime:K1,auth:Fe(Fe({},V1),{},{storageKey:f}),global:G1},p=W1(l??{},m);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Z1(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Hv(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new Ux(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,l)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,storageKey:d,flowType:f,lock:m,debug:p,throwOnError:y},v,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tw({url:this.authUrl.href,headers:Fe(Fe({},w),v),storageKey:d,autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:u,flowType:f,lock:m,debug:p,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new sx(this.realtimeUrl.href,Fe(Fe({},s),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nw=(s,n,l)=>new aw(s,n,l);function sw(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}sw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iw="https://vdohhkdcizlpcayuavdd.supabase.co",lw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkb2hoa2RjaXpscGNheXVhdmRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5NTc1MjksImV4cCI6MjA4NzUzMzUyOX0.rdCLXnWXQoTPmRGS07TYBgq3M4gxi-oh4pKuTNZHPVg",me=nw(iw,lw),rw=Object.freeze(Object.defineProperty({__proto__:null,supabase:me},Symbol.toStringTag,{value:"Module"})),Rg=k.createContext({}),ow=({children:s})=>{const[n,l]=k.useState(null),[r,u]=k.useState(null),[d,f]=k.useState(!0);k.useEffect(()=>{me.auth.getSession().then(({data:{session:O}})=>{u(O),l(O?.user??null),f(!1)});const{data:{subscription:j}}=me.auth.onAuthStateChange((O,S)=>{u(S),l(S?.user??null),f(!1)});return()=>j.unsubscribe()},[]);const w={user:n,session:r,loading:d,signUp:async(j,O,S)=>{const{data:_,error:B}=await me.auth.signUp({email:j,password:O,options:{data:{full_name:S}}});return{data:_,error:B}},signIn:async(j,O)=>{const{data:S,error:_}=await me.auth.signInWithPassword({email:j,password:O});return{data:S,error:_}},signInWithGoogle:async()=>{const{data:j,error:O}=await me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{data:j,error:O}},signOut:async()=>{const{error:j}=await me.auth.signOut();return{error:j}},resetPassword:async j=>{const{data:O,error:S}=await me.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});return{data:O,error:S}}};return h.jsx(Rg.Provider,{value:w,children:s})},go=()=>{const s=k.useContext(Rg);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},H0=({children:s})=>{const{user:n,loading:l}=go();return l?h.jsx("div",{className:"min-h-screen bg-[#09090f] flex items-center justify-center",children:h.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):n?s:h.jsx(Yc,{to:"/login",replace:!0})},G0=()=>{const[s,n]=k.useState("login"),[l,r]=k.useState({fullName:"",email:"",password:"",confirmPassword:""}),[u,d]=k.useState(""),[f,m]=k.useState(""),[p,y]=k.useState(!1),[v,x]=k.useState(!1),{signIn:w,signUp:j,signInWithGoogle:O,resetPassword:S}=go(),_=Tl(),B=K=>{r(I=>({...I,[K.target.name]:K.target.value})),d("")},Y=async K=>{K.preventDefault(),d(""),m(""),y(!0);try{if(s==="login"){const{error:I}=await w(l.email,l.password);if(I)throw I;_("/dashboard")}else if(s==="signup"){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters");const{error:I}=await j(l.email,l.password,l.fullName);if(I)throw I;m("Account created! You can now sign in.")}else{const{error:I}=await S(l.email);if(I)throw I;m("Password reset link sent to your email!")}}catch(I){d(I.message)}finally{y(!1)}},q=async()=>{y(!0);const{error:K}=await O();K&&(d(K.message),y(!1))},Q=K=>{n(K),d(""),m("")},se=`
    w-full rounded-2xl px-4 py-3.5 text-sm text-white
    placeholder-white/25 outline-none transition-all
    caret-emerald-400
  `;return h.jsxs("div",{className:"min-h-screen flex text-white relative overflow-hidden",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #07070f 0%, #0d0d1c 40%, #080812 100%)",minHeight:"100dvh"},children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:[h.jsx("div",{style:{position:"absolute",top:"-15%",left:"-10%",width:"70vw",height:"70vw",maxWidth:600,maxHeight:600,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.07) 0%, transparent 65%)",filter:"blur(50px)"}}),h.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-10%",width:"55vw",height:"55vw",maxWidth:500,maxHeight:500,borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.06) 0%, transparent 65%)",filter:"blur(50px)"}}),h.jsx("div",{style:{position:"absolute",top:"40%",left:"40%",width:"40vw",height:"40vw",maxWidth:350,maxHeight:350,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.03) 0%, transparent 65%)",filter:"blur(60px)"}})]}),h.jsxs("div",{className:"hidden lg:flex flex-col justify-between flex-1 p-14 relative overflow-hidden",style:{borderRight:"1px solid rgba(255,255,255,0.05)",background:"linear-gradient(160deg, rgba(12,16,24,0.8) 0%, rgba(8,10,18,0.9) 100%)"},children:[h.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[h.jsx("div",{className:"w-11 h-11 rounded-2xl flex items-center justify-center font-black text-xl",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#07070f",boxShadow:"0 6px 24px rgba(52,211,153,0.35)"},children:""}),h.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Spendly"})]}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("h1",{className:"text-5xl xl:text-6xl font-black leading-[1.05] text-white/90 mb-6",style:{letterSpacing:"-0.03em"},children:["Track every",h.jsx("br",{}),h.jsx("span",{className:"italic",style:{background:"linear-gradient(135deg, #34d399 0%, #6ee7b7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"rupee."})]}),h.jsx("p",{className:"text-white/35 text-base leading-relaxed max-w-xs",children:"Smart expense tracking that shows you where your money goes  and where it should."}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:["Split bills","Track EMIs","Friend debts","Tag expenses"].map(K=>h.jsx("span",{className:"text-xs font-semibold px-3 py-1.5 rounded-full",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.15)",color:"rgba(110,231,183,0.8)"},children:K},K))})]}),h.jsx("div",{className:"flex items-center gap-10 relative z-10",children:[["15k+","Tracked"],["4.9","Rating"],["100%","Private"]].map(([K,I],oe)=>h.jsxs("div",{className:"flex items-center gap-10",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("strong",{className:"text-2xl font-black",style:{background:"linear-gradient(135deg, #34d399, #6ee7b7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:K}),h.jsx("span",{className:"text-white/30 text-[10px] uppercase tracking-[0.2em] font-semibold",children:I})]}),oe<2&&h.jsx("div",{className:"w-px h-8",style:{background:"rgba(255,255,255,0.08)"}})]},oe))})]}),h.jsx("div",{className:"relative z-10 flex-1 lg:max-w-[480px] flex items-center justify-center p-5 sm:p-8",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2.5 mb-8 lg:hidden",children:[h.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center font-black text-lg",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#07070f",boxShadow:"0 4px 16px rgba(52,211,153,0.3)"},children:""}),h.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Spendly"})]}),h.jsxs("div",{className:"rounded-3xl p-6 sm:p-7",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.09)",boxShadow:"0 24px 80px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.08)"},children:[s!=="forgot"&&h.jsx("div",{className:"flex p-1 rounded-2xl mb-6",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:[["login","Sign In"],["signup","Sign Up"]].map(([K,I])=>h.jsx("button",{onClick:()=>Q(K),className:"flex-1 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200",style:s===K?{background:"rgba(255,255,255,0.1)",color:"#fff",boxShadow:"0 2px 12px rgba(0,0,0,0.2)"}:{color:"rgba(255,255,255,0.35)"},children:I},K))}),s==="forgot"&&h.jsxs("div",{className:"mb-6",children:[h.jsx("button",{onClick:()=>Q("login"),className:"text-emerald-400 text-sm mb-5 flex items-center gap-1.5 font-semibold hover:opacity-70 transition-opacity",children:" Back to Sign In"}),h.jsx("h2",{className:"text-2xl font-black mb-1",style:{letterSpacing:"-0.02em"},children:"Reset Password"}),h.jsx("p",{className:"text-white/35 text-sm",children:"We'll send a reset link to your email"})]}),s!=="forgot"&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-black",style:{letterSpacing:"-0.02em"},children:s==="login"?"Welcome back":"Create account"}),h.jsx("p",{className:"text-white/35 text-sm mt-1",children:s==="login"?"Sign in to your Spendly account":"Start tracking your expenses"})]}),h.jsxs("form",{onSubmit:Y,className:"flex flex-col gap-3.5",children:[s==="signup"&&h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Full Name"}),h.jsx("input",{type:"text",name:"fullName",placeholder:"John Doe",value:l.fullName,onChange:B,required:!0,autoComplete:"name",className:se,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:K=>{K.target.style.borderColor="rgba(52,211,153,0.5)",K.target.style.background="rgba(52,211,153,0.04)"},onBlur:K=>{K.target.style.borderColor="rgba(255,255,255,0.1)",K.target.style.background="rgba(255,255,255,0.06)"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Email"}),h.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",value:l.email,onChange:B,required:!0,autoComplete:"email",inputMode:"email",className:se,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:K=>{K.target.style.borderColor="rgba(52,211,153,0.5)",K.target.style.background="rgba(52,211,153,0.04)"},onBlur:K=>{K.target.style.borderColor="rgba(255,255,255,0.1)",K.target.style.background="rgba(255,255,255,0.06)"}})]}),s!=="forgot"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em]",children:"Password"}),s==="login"&&h.jsx("button",{type:"button",onClick:()=>Q("forgot"),className:"text-emerald-400 text-xs font-semibold hover:opacity-70 transition-opacity",children:"Forgot?"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:v?"text":"password",name:"password",placeholder:"",value:l.password,onChange:B,required:!0,autoComplete:s==="login"?"current-password":"new-password",className:`${se} pr-12`,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:K=>{K.target.style.borderColor="rgba(52,211,153,0.5)",K.target.style.background="rgba(52,211,153,0.04)"},onBlur:K=>{K.target.style.borderColor="rgba(255,255,255,0.1)",K.target.style.background="rgba(255,255,255,0.06)"}}),h.jsx("button",{type:"button",onClick:()=>x(K=>!K),className:"absolute right-3.5 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-xl text-white/30 hover:text-white/60 transition-all",style:{background:"rgba(255,255,255,0.05)"},children:v?"":""})]})]}),s==="signup"&&h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",children:"Confirm Password"}),h.jsx("input",{type:"password",name:"confirmPassword",placeholder:"",value:l.confirmPassword,onChange:B,required:!0,autoComplete:"new-password",className:se,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",fontSize:"16px"},onFocus:K=>{K.target.style.borderColor="rgba(52,211,153,0.5)",K.target.style.background="rgba(52,211,153,0.04)"},onBlur:K=>{K.target.style.borderColor="rgba(255,255,255,0.1)",K.target.style.background="rgba(255,255,255,0.06)"}})]}),u&&h.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm leading-snug font-medium",style:{background:"rgba(248,113,113,0.08)",border:"1px solid rgba(248,113,113,0.2)",color:"#f87171"},children:u}),f&&h.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm leading-snug font-medium",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.2)",color:"#34d399"},children:f}),h.jsxs("button",{type:"submit",disabled:p,className:"mt-1 w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#07070f",boxShadow:"0 6px 24px rgba(52,211,153,0.3)",fontSize:"15px"},children:[p&&h.jsx("span",{className:"w-4 h-4 border-2 border-[#07070f]/30 border-t-[#07070f] rounded-full animate-spin"}),s==="login"&&"Sign In",s==="signup"&&"Create Account",s==="forgot"&&"Send Reset Link"]})]}),s!=="forgot"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-3 my-5",children:[h.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(255,255,255,0.08)"}}),h.jsx("span",{className:"text-white/25 text-xs font-medium",children:"or continue with"}),h.jsx("div",{className:"flex-1 h-px",style:{background:"rgba(255,255,255,0.08)"}})]}),h.jsxs("button",{onClick:q,disabled:p,className:"w-full py-3.5 text-sm font-semibold rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.8)"},onMouseEnter:K=>{K.target.style.background="rgba(255,255,255,0.09)",K.target.style.borderColor="rgba(255,255,255,0.18)"},onMouseLeave:K=>{K.target.style.background="rgba(255,255,255,0.05)",K.target.style.borderColor="rgba(255,255,255,0.1)"},children:[h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]}),h.jsxs("p",{className:"text-center text-white/20 text-xs mt-5 leading-relaxed",children:["By continuing, you agree to our"," ",h.jsx("span",{className:"text-emerald-400/60 hover:text-emerald-400 cursor-pointer transition-colors",children:"Terms"})," ","&"," ",h.jsx("span",{className:"text-emerald-400/60 hover:text-emerald-400 cursor-pointer transition-colors",children:"Privacy Policy"})]})]})})]})},uw="modulepreload",cw=function(s){return"/"+s},Y0={},dw=function(n,l,r){let u=Promise.resolve();if(l&&l.length>0){let y=function(v){return Promise.all(v.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var f=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");u=y(l.map(v=>{if(v=cw(v),v in Y0)return;Y0[v]=!0;const x=v.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":uw,x||(j.as="script"),j.crossOrigin="",j.href=v,p&&j.setAttribute("nonce",p),document.head.appendChild(j),x)return new Promise((O,S)=>{j.addEventListener("load",O),j.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return u.then(m=>{for(const p of m||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})},Cg=new Date,ut=Cg.getMonth()+1,Et=Cg.getFullYear(),hw=async(s,n=ut,l=Et)=>{const{data:r,error:u}=await me.from("budgets").select("*").eq("user_id",s).eq("month",n).eq("year",l).maybeSingle();return{data:r,error:u}},fw=async(s,n,l=ut,r=Et)=>{const{data:u,error:d}=await me.from("budgets").upsert({user_id:s,month:l,year:r,amount:n},{onConflict:"user_id,month,year"}).select().single();return{data:u,error:d}},mw=async s=>{const{data:n,error:l}=await me.from("tags").select("*").eq("user_id",s).order("name");return{data:n??[],error:l}},gw=async(s,n,l="#6ee7b7")=>{const{data:r,error:u}=await me.from("tags").insert({user_id:s,name:n.trim(),color:l}).select().single();return{data:r,error:u}},pw=async s=>{const{error:n}=await me.from("tags").delete().eq("id",s);return{error:n}},yw=async s=>{const{data:n,error:l}=await me.from("friends").select("*").eq("user_id",s).order("name");return{data:n??[],error:l}},bw=async(s,n,l="")=>{const{data:r,error:u}=await me.from("friends").insert({user_id:s,name:n,email:l}).select().single();return{data:r,error:u}},vw=async s=>{const{error:n}=await me.from("friends").delete().eq("id",s);return{error:n}},V0=async(s,n)=>{const{data:l,error:r}=await me.from("debts").select("*, transactions( id, title, date, total_amount, my_amount, note )").eq("user_id",s).eq("friend_id",n).order("created_at",{ascending:!1});if(r)return{data:[],error:r};let u={};try{const d=[...new Set((l??[]).map(f=>f.transaction_id).filter(Boolean))];if(d.length>0){const{data:f}=await me.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(f??[]).forEach(m=>{u[m.transaction_id]||(u[m.transaction_id]=[]),m.tags&&u[m.transaction_id].push(m.tags)})}}catch{}return{data:(l??[]).map(d=>({...d,txn_tags:u[d.transaction_id]??[]})),error:null}},xw=async(s,n=ut,l=Et)=>{const{data:r,error:u}=await me.from("transactions").select("*, debts( *, friends( id, name ) )").eq("user_id",s).eq("month",n).eq("year",l).order("created_at",{ascending:!1});if(u)return{data:[],error:u};let d={};try{const m=(r??[]).map(p=>p.id);if(m.length>0){const{data:p}=await me.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",m);(p??[]).forEach(y=>{d[y.transaction_id]||(d[y.transaction_id]=[]),y.tags&&d[y.transaction_id].push(y.tags)})}}catch{}return{data:(r??[]).map(m=>({...m,txn_tags:d[m.id]??[]})),error:null}},ww=async(s,n,l=[])=>{const{data:r,error:u}=await me.from("transactions").insert({user_id:s,title:n.title,total_amount:n.totalAmount,my_amount:n.myAmount,category:n.category||"General",note:n.note||"",date:n.date||new Date().toISOString().slice(0,10),month:n.month||ut,year:n.year||Et,...n.emi_id?{emi_id:n.emi_id}:{}}).select().single();return u||!r?{data:r,error:u}:(l.length>0&&await me.from("transaction_tags").insert(l.map(d=>({transaction_id:r.id,tag_id:d}))),{data:r,error:null})},_w=async s=>{const{error:n}=await me.from("transactions").delete().eq("id",s);return{error:n}},Sw=async s=>{if(!s.length)return{error:null};const{error:n}=await me.from("debts").insert(s);return{error:n}},Ew=async s=>{const{data:n,error:l}=await me.from("debts").select("*, friends( id, name, email ), transactions( id, title, date )").eq("user_id",s).eq("is_settled",!1).order("created_at",{ascending:!1});if(l)return{data:[],error:l};let r={};try{const d=[...new Set((n??[]).map(f=>f.transaction_id).filter(Boolean))];if(d.length>0){const{data:f}=await me.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(f??[]).forEach(m=>{r[m.transaction_id]||(r[m.transaction_id]=[]),m.tags&&r[m.transaction_id].push(m.tags)})}}catch{}return{data:(n??[]).map(d=>({...d,txn_tags:r[d.transaction_id]??[]})),error:null}},jw=async s=>{const{data:n,error:l}=await me.from("debts").select("*, friends( name ), transactions( title )").eq("id",s).single();if(l)return{data:null,error:l};const{data:r,error:u}=await me.from("debts").update({is_settled:!0,settled_at:new Date().toISOString()}).eq("id",s).select().single();return u?{data:null,error:u}:(await me.from("transactions").insert({user_id:n.user_id,title:`Collected: ${n.friends?.name}  ${n.transactions?.title}`,total_amount:Number(n.amount),my_amount:-Number(n.amount),category:"General",note:"Debt collected",date:new Date().toISOString().slice(0,10),month:ut,year:Et}),{data:r,error:null})},Tw=async(s,n)=>{const{data:l,error:r}=await me.from("debts").select("*, friends( name ), transactions( title )").eq("user_id",s).eq("friend_id",n).eq("is_settled",!1);if(r)return{data:null,error:r};const{data:u,error:d}=await me.from("debts").update({is_settled:!0,settled_at:new Date().toISOString()}).eq("user_id",s).eq("friend_id",n).eq("is_settled",!1).select();if(d)return{data:null,error:d};if(l&&l.length>0){const f=l.reduce((p,y)=>p+Number(y.amount),0),m=l[0].friends?.name||"Friend";await me.from("transactions").insert({user_id:s,title:`Collected: ${m} (${l.length} debt${l.length>1?"s":""})`,total_amount:f,my_amount:-f,category:"General",note:"All debts collected",date:new Date().toISOString().slice(0,10),month:ut,year:Et})}return{data:u,error:null}},Nw=async(s,n=ut,l=Et)=>{const{data:r,error:u}=await me.from("winnings").select("*").eq("user_id",s).eq("month",n).eq("year",l).order("created_at",{ascending:!1});return{data:r??[],error:u}},K0=async(s,n,l)=>{const{data:r,error:u}=await me.from("winnings").insert({user_id:s,title:n,amount:l,month:ut,year:Et}).select().single();return{data:r,error:u}},Aw=async s=>{const{error:n}=await me.from("winnings").delete().eq("id",s);return{error:n}},kw=async s=>{const{data:n,error:l}=await me.from("emis").select("*, emi_payments(*)").eq("user_id",s).eq("is_active",!0).order("created_at",{ascending:!1});return{data:n??[],error:l}},Ow=async(s,n,l,r,u=ut,d=Et)=>{const{data:f,error:m}=await me.from("emis").insert({user_id:s,title:n,amount:l,total_months:r,start_month:u,start_year:d}).select().single();return{data:f,error:m}},Rw=async s=>{const{error:n}=await me.from("emis").delete().eq("id",s);return{error:n}},Cw=async(s,n,l,r,u=ut,d=Et)=>{const{data:f,error:m}=await me.from("emi_payments").upsert({user_id:s,emi_id:n,month:u,year:d,amount:l},{onConflict:"emi_id,month,year"}).select().single();if(m)return{data:null,error:m};const p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],{data:y,error:v}=await me.from("transactions").insert({user_id:s,title:`EMI: ${r}`,total_amount:l,my_amount:l,category:"Bills",note:`EMI payment for ${p[u-1]} ${d}`,date:new Date().toISOString().slice(0,10),month:u,year:d,emi_id:n}).select().single();return v?(await me.from("emi_payments").delete().eq("emi_id",n).eq("month",u).eq("year",d),{data:null,error:v}):{data:{payment:f,txn:y},error:null}},Dw=async(s,n=ut,l=Et)=>{await me.from("transactions").delete().eq("emi_id",s).eq("month",n).eq("year",l);const{error:r}=await me.from("emi_payments").delete().eq("emi_id",s).eq("month",n).eq("year",l);return{error:r}},Ae=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:2})}`,wa=s=>{const n=Number(s);return Math.abs(n)>=1e5?`${(n/1e5).toFixed(1)}L`:Math.abs(n)>=1e3?`${(n/1e3).toFixed(1)}K`:Ae(n)},es=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Uw={Food:"",Transport:"",Shopping:"",Entertainment:"",Health:"",Bills:"",Education:"",General:""},J0=["#6ee7b7","#67e8f9","#a78bfa","#f9a8d4","#fcd34d","#86efac","#fb923c","#f87171","#60a5fa","#e879f9"],Dg=s=>({background:s+"18",color:s,borderColor:s+"40"}),At="w-full bg-white/[0.06] border border-white/[0.12] rounded-2xl px-4 py-3.5 text-sm text-white placeholder-white/[0.25] outline-none focus:border-emerald-400/[0.50] focus:bg-emerald-400/[0.04] transition-all caret-emerald-400",rt="text-[10px] font-bold text-white/40 uppercase tracking-[0.15em] mb-2 block",Ug=()=>{if(document.getElementById("spendly-styles"))return;const s=document.createElement("style");s.id="spendly-styles",s.textContent=`
    @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800;900&display=swap');
    .spendly-scrollbar::-webkit-scrollbar { width: 3px; }
    .spendly-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .spendly-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 999px; }
    .spendly-no-scrollbar::-webkit-scrollbar { display: none; }
    .spendly-no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    @keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shimmer { 0%,100% { opacity: 0.4; } 50% { opacity: 0.8; } }
    .animate-slide-up { animation: slideUp 0.35s cubic-bezier(0.32,0.72,0,1) forwards; }
    .animate-fade-in { animation: fadeIn 0.25s ease forwards; }
    .animate-shimmer { animation: shimmer 1.8s ease infinite; }
    .glass-border { border: 1px solid rgba(255,255,255,0.08); }
    .tap-highlight { -webkit-tap-highlight-color: transparent; }
  `,document.head.appendChild(s)},Nn=({open:s,onClose:n,title:l,wide:r,fullMobile:u=!1,children:d})=>(k.useEffect(()=>(Ug(),s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),s?u?h.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col sm:items-center sm:justify-center sm:bg-black/70 sm:backdrop-blur-md tap-highlight",children:[h.jsx("div",{className:"hidden sm:block fixed inset-0",onClick:n}),h.jsxs("div",{className:"relative flex flex-col w-full sm:max-w-lg sm:mx-4 sm:rounded-3xl sm:max-h-[85vh] animate-slide-up sm:animate-fade-in",style:{background:"linear-gradient(160deg, #0d0d1e 0%, #080812 100%)",borderTop:"1px solid rgba(255,255,255,0.1)",height:"100dvh",maxHeight:"100dvh"},children:[h.jsx("div",{className:"flex justify-center pt-3 pb-1 sm:hidden",children:h.jsx("div",{className:"w-10 h-1 rounded-full bg-white/15"})}),h.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/8 shrink-0",children:[h.jsx("h3",{className:"font-bold text-white text-base tracking-tight",children:l}),h.jsx("button",{onClick:n,className:"w-9 h-9 flex items-center justify-center rounded-full transition-all active:scale-90",style:{background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.1)"},children:h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:h.jsx("path",{d:"M1 1L13 13M13 1L1 13",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",strokeLinecap:"round"})})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain spendly-scrollbar px-5 py-5",style:{WebkitOverflowScrolling:"touch"},children:d}),h.jsx("div",{className:"shrink-0",style:{paddingBottom:"env(safe-area-inset-bottom, 8px)",minHeight:"8px"}})]})]}):h.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm tap-highlight",onClick:f=>f.target===f.currentTarget&&n(),children:h.jsxs("div",{className:`relative w-full ${r?"sm:max-w-2xl":"sm:max-w-md"} sm:mx-4 animate-slide-up sm:animate-fade-in`,style:{background:"linear-gradient(160deg, #0d0d1e 0%, #080812 100%)",borderRadius:"24px 24px 0 0",border:"1px solid rgba(255,255,255,0.1)",borderBottom:"none",boxShadow:"0 -20px 80px rgba(0,0,0,0.6)",maxHeight:"92dvh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[h.jsx("div",{className:"flex justify-center pt-3 pb-1 sm:hidden",children:h.jsx("div",{className:"w-10 h-1 rounded-full bg-white/15"})}),h.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/8 shrink-0",children:[h.jsx("h3",{className:"font-bold text-white text-base tracking-tight",children:l}),h.jsx("button",{onClick:n,className:"w-9 h-9 flex items-center justify-center rounded-full transition-all active:scale-90",style:{background:"rgba(255,255,255,0.07)",border:"1px solid rgba(255,255,255,0.1)"},children:h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:h.jsx("path",{d:"M1 1L13 13M13 1L1 13",stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",strokeLinecap:"round"})})})]}),h.jsx("div",{className:"px-5 py-5 overflow-y-auto flex-1 overscroll-contain spendly-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:d}),h.jsx("div",{className:"shrink-0",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)",minHeight:"4px"}})]})}):null),ml=({tag:s,onRemove:n,small:l})=>h.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border font-semibold ${l?"text-[10px] px-2 py-0.5":"text-xs px-3 py-1"}`,style:Dg(s.color),children:[s.name,n&&h.jsx("button",{onClick:()=>n(s.id),className:"hover:opacity-60 transition-opacity leading-none ml-0.5",children:""})]}),X0=({allTags:s,selectedIds:n,onChange:l,onCreateTag:r})=>{const[u,d]=k.useState(""),[f,m]=k.useState(J0[0]),[p,y]=k.useState(!1),[v,x]=k.useState(!1),w=k.useRef(null),j=S=>{l(n.includes(S)?n.filter(_=>_!==S):[...n,S])},O=async()=>{if(!u.trim())return;x(!0);const S=await r(u.trim(),f);S&&(l([...n,S.id]),d(""),y(!1)),x(!1)};return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:[s.map(S=>h.jsxs("button",{type:"button",onClick:()=>j(S.id),className:`inline-flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-full border font-semibold transition-all active:scale-95 tap-highlight ${n.includes(S.id)?"opacity-100 scale-105":"opacity-40 hover:opacity-70"}`,style:Dg(S.color),children:[n.includes(S.id)&&h.jsx("span",{className:"text-[10px]",children:""}),S.name]},S.id)),h.jsx("button",{type:"button",onClick:()=>{y(S=>!S),setTimeout(()=>w.current?.focus(),100)},className:"text-xs px-3 py-1.5 rounded-full border border-dashed border-white/20 text-white/35 hover:text-white/60 hover:border-white/40 transition-all tap-highlight",children:p?" cancel":" new tag"})]}),p&&h.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)"},children:[h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Tag Name"}),h.jsx("input",{ref:w,className:At,placeholder:"e.g. Food, Trip, Work...",value:u,onChange:S=>d(S.target.value),onKeyDown:S=>S.key==="Enter"&&O(),autoComplete:"off",autoCorrect:"off",spellCheck:!1,style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Color"}),h.jsx("div",{className:"flex gap-2 flex-wrap",children:J0.map(S=>h.jsx("button",{type:"button",onClick:()=>m(S),className:`w-8 h-8 rounded-full transition-all active:scale-90 tap-highlight ${f===S?"scale-125 ring-2 ring-white/50 ring-offset-2 ring-offset-[#0d0d1a]":"opacity-60 hover:opacity-100"}`,style:{background:S}},S))})]}),h.jsx("button",{onClick:O,disabled:v||!u.trim(),className:"w-full py-3 bg-emerald-400 hover:bg-emerald-300 active:scale-[0.98] disabled:opacity-40 text-[#09090f] font-bold text-sm rounded-2xl transition-all tap-highlight",children:v?"...":`Add "${u||"tag"}"`})]})]})},Mw=({friends:s,value:n,onChange:l,placeholder:r="Select friend"})=>{const[u,d]=k.useState(!1),f=k.useRef(null),m=s.find(p=>p.id===n);return k.useEffect(()=>{const p=y=>{f.current&&!f.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),h.jsxs("div",{ref:f,className:"relative flex-1",children:[h.jsxs("button",{type:"button",onClick:()=>d(p=>!p),className:"w-full flex items-center justify-between gap-2 bg-white/[0.06] border border-white/[0.12] rounded-2xl px-4 py-3.5 text-sm text-left outline-none focus:border-emerald-400/50 transition-all tap-highlight",style:{color:m?"#fff":"rgba(255,255,255,0.25)",fontSize:"16px"},children:[h.jsx("span",{className:"truncate",children:m?m.name:r}),h.jsx("svg",{className:`w-4 h-4 shrink-0 text-white/30 transition-transform ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),u&&h.jsx("div",{className:"absolute z-50 left-0 right-0 mt-1 rounded-2xl overflow-hidden",style:{background:"linear-gradient(160deg, #161628, #0d0d1e)",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 12px 40px rgba(0,0,0,0.7)"},children:s.map(p=>h.jsx("button",{type:"button",onClick:()=>{l(p.id),d(!1)},className:`w-full text-left px-4 py-3 text-sm transition-all hover:bg-white/[0.06] tap-highlight ${n===p.id?"text-emerald-400 bg-emerald-400/5":"text-white/80"}`,children:p.name},p.id))})]})},zw=({friend:s,open:n,onClose:l,onSettle:r,onSettleAll:u,onAddPreviousDebt:d,userId:f,friends:m})=>{const[p,y]=k.useState([]),[v,x]=k.useState(!1),[w,j]=k.useState(!1),[O,S]=k.useState("pending"),[_,B]=k.useState({title:"",amount:""}),[Y,q]=k.useState(""),[Q,se]=k.useState(!1);k.useEffect(()=>{!n||!s||(x(!0),S("pending"),V0(f,s.id).then(({data:ne})=>{y(ne??[]),x(!1)}))},[n,s,f]);const K=p.filter(ne=>!ne.is_settled),I=p.filter(ne=>ne.is_settled),oe=K.reduce((ne,xe)=>ne+Number(xe.amount),0),_e=async()=>{window.confirm(`Mark all ${K.length} debts from ${s.name} as collected? (${Ae(oe)} total)`)&&(j(!0),await u(s.id),y(ne=>ne.map(xe=>xe.is_settled?xe:{...xe,is_settled:!0,settled_at:new Date().toISOString()})),j(!1))},ht=async()=>{if(q(""),!_.title.trim())return q("Title is required");const ne=parseFloat(_.amount);if(!ne||isNaN(ne)||ne<=0)return q("Enter a valid amount");se(!0),await d(s.id,_.title.trim(),ne);const{data:xe}=await V0(f,s.id);y(xe??[]),B({title:"",amount:""}),se(!1),S("pending")};return s?h.jsx(Nn,{open:n,onClose:l,title:`${s.name}`,fullMobile:!0,children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(251,191,36,0.06)",border:"1px solid rgba(251,191,36,0.15)"},children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] font-bold text-white/35 uppercase tracking-widest mb-1",children:"Owes you"}),h.jsx("p",{className:"text-3xl font-black text-amber-300",children:Ae(oe)}),h.jsxs("p",{className:"text-xs text-white/30 mt-1",children:[K.length," pending  ",I.length," settled"]})]}),K.length>1&&h.jsxs("button",{onClick:_e,disabled:w,className:"flex items-center gap-2 bg-emerald-400 hover:bg-emerald-300 active:scale-95 disabled:opacity-50 text-[#09090f] font-bold text-sm px-4 py-3 rounded-2xl transition-all shrink-0 tap-highlight",children:[w?h.jsx("span",{className:"w-4 h-4 border-2 border-[#09090f]/30 border-t-[#09090f] rounded-full animate-spin"}):"",h.jsx("span",{children:"Collect All"})]})]})}),h.jsx("div",{className:"flex gap-1 p-1 rounded-2xl",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:[{key:"pending",label:`Pending${K.length>0?` (${K.length})`:""}`},{key:"history",label:`History${I.length>0?` (${I.length})`:""}`},{key:"add-prev",label:"+ Past Debt"}].map(ne=>h.jsx("button",{onClick:()=>S(ne.key),className:`flex-1 py-2 rounded-xl text-xs font-semibold transition-all tap-highlight ${O===ne.key?"bg-white/10 text-white":"text-white/35 hover:text-white/60"}`,children:ne.label},ne.key))}),v?h.jsx("div",{className:"flex justify-center py-16",children:h.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):h.jsxs(h.Fragment,{children:[O==="pending"&&h.jsx("div",{className:"space-y-3",children:K.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-3xl mb-3",children:""}),h.jsxs("p",{className:"text-white/30 text-sm",children:["No pending debts from ",s.name]})]}):K.map(ne=>{const xe=ne.transactions,z=ne.txn_tags||[],W=ne.is_previous_debt;return h.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-0.5",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:xe?.title||ne.title||"Previous debt"}),W&&h.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-semibold",style:{background:"rgba(167,139,250,0.12)",border:"1px solid rgba(167,139,250,0.2)",color:"#c4b5fd"},children:"Past"})]}),h.jsxs("p",{className:"text-xs text-white/30 mt-0.5",children:[xe?.date&&new Date(xe.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),ne.created_at&&!xe?.date&&new Date(ne.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),z.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:z.map(Z=>h.jsx(ml,{tag:Z,small:!0},Z.id))})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[h.jsx("span",{className:"text-lg font-black text-amber-300",children:Ae(ne.amount)}),h.jsx("button",{onClick:async()=>{await r(ne.id),y(Z=>Z.map(C=>C.id===ne.id?{...C,is_settled:!0,settled_at:new Date().toISOString()}:C))},className:"text-xs bg-emerald-400/12 hover:bg-emerald-400/20 active:scale-95 text-emerald-400 border border-emerald-400/20 px-3 py-2 rounded-xl transition-all font-bold whitespace-nowrap tap-highlight",children:" Collected"})]})]})},ne.id)})}),O==="history"&&h.jsx("div",{className:"space-y-2",children:I.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-3xl mb-3",children:""}),h.jsx("p",{className:"text-white/30 text-sm",children:"No settled debts yet"})]}):I.map(ne=>{const xe=ne.transactions,z=ne.is_previous_debt;return h.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-2xl px-4 py-3 opacity-50",style:{background:"rgba(255,255,255,0.02)"},children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-sm text-white line-through",children:xe?.title||ne.title||"Previous debt"}),z&&h.jsx("span",{className:"text-[10px] text-violet-300/60",children:"Past"})]}),h.jsx("p",{className:"text-xs text-white/30",children:ne.settled_at&&new Date(ne.settled_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[h.jsx("span",{className:"text-sm text-white/30 line-through",children:Ae(ne.amount)}),h.jsx("span",{className:"text-[10px] text-emerald-400/60 bg-emerald-400/8 px-2 py-0.5 rounded-full border border-emerald-400/15",children:"Settled"})]})]},ne.id)})}),O==="add-prev"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(167,139,250,0.05)",border:"1px solid rgba(167,139,250,0.15)"},children:[h.jsx("p",{className:"text-sm font-semibold text-violet-300 mb-1",children:" What are past debts?"}),h.jsxs("p",{className:"text-xs text-white/40 leading-relaxed",children:["Record old debts that existed before you started using Spendly. These ",h.jsx("strong",{className:"text-white/60",children:"won't affect your balance or analytics"}),"  they only appear in this friend's debt list."]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"What was it for?"}),h.jsx("input",{className:At,placeholder:"e.g. Borrowed for petrol, Old dinner bill...",value:_.title,onChange:ne=>B(xe=>({...xe,title:ne.target.value})),style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Amount ()"}),h.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"0",value:_.amount,onChange:ne=>B(xe=>({...xe,amount:ne.target.value})),style:{fontSize:"16px"}})]}),Y&&h.jsx("p",{className:"text-xs text-red-400 px-1",children:Y}),h.jsxs("button",{onClick:ht,disabled:Q,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2 tap-highlight",style:{background:"linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)",color:"#fff",boxShadow:"0 4px 20px rgba(139,92,246,0.25)"},children:[Q&&h.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Add Past Debt for ",s.name]})]})]})]})]})}):null};function Lw(){const{user:s,signOut:n}=go(),l=Tl(),r=s?.user_metadata?.full_name||s?.email?.split("@")[0]||"User";k.useEffect(()=>{Ug()},[]);const[u,d]=k.useState(null),[f,m]=k.useState([]),[p,y]=k.useState([]),[v,x]=k.useState([]),[w,j]=k.useState([]),[O,S]=k.useState([]),[_,B]=k.useState([]),[Y,q]=k.useState(!0),[Q,se]=k.useState(!1),[K,I]=k.useState(!1),[oe,_e]=k.useState(!1),[ht,ne]=k.useState(!1),[xe,z]=k.useState(!1),[W,Z]=k.useState(!1),[C,X]=k.useState(null),[te,be]=k.useState(!1),[pe,N]=k.useState(""),[G,P]=k.useState("add"),[F,ue]=k.useState({title:"",totalAmount:"",myAmount:"",category:"General",note:"",date:new Date().toISOString().slice(0,10)}),[we,Ce]=k.useState([]),[Ke,Ye]=k.useState([]),[Pa,Lt]=k.useState(""),[rs,os]=k.useState(!1),[ra,us]=k.useState(""),[cs,kl]=k.useState(""),[oi,On]=k.useState(""),[pt,Za]=k.useState({title:"",amount:"",totalMonths:""}),[Ol,Fa]=k.useState(""),[ft,Rl]=k.useState(""),[ui,ci]=k.useState(!1),[Wa,di]=k.useState(""),[Rn,hi]=k.useState(!1),yt=k.useCallback(async()=>{if(!s)return;q(!0);const[T,J,ee,fe,Oe,Re,ze]=await Promise.all([hw(s.id),xw(s.id),yw(s.id),mw(s.id),Ew(s.id),Nw(s.id),kw(s.id)]);d(T.data),m(J.data),y(ee.data),x(fe.data),j(Oe.data),S(Re.data),B(ze.data),q(!1),ci(!1)},[s]);k.useEffect(()=>{yt()},[yt]);const Ea=u?Number(u.amount):0,kt=O.reduce((T,J)=>T+Number(J.amount),0),tt=Ea+kt,mt=w.reduce((T,J)=>T+Number(J.amount),0),ds=_.reduce((T,J)=>{const ee=(J.emi_payments||[]).find(fe=>fe.month===ut&&fe.year===Et);return T+(ee?Number(ee.amount):0)},0),Cn=f.reduce((T,J)=>{const ee=Number(J.my_amount);return ee<0?T+ee:T+Number(J.total_amount)},0),jt=tt-Cn,Dn=jt+mt,Bt=tt>0?Math.min(Cn/tt*100,100):0,Un=O.filter(T=>T.title.startsWith("[Savings]")).reduce((T,J)=>T+Number(J.amount),0),ga=T=>(T.emi_payments||[]).length,en=T=>(T.emi_payments||[]).some(J=>J.month===ut&&J.year===Et),tn=async()=>{const T=parseFloat(pe);if(!(!pe||isNaN(T)||T<=0))if(G==="add"){const J=Ea>0?"Salary added":"Opening balance",{error:ee}=await K0(s.id,J,T);ee||(se(!1),N(""),yt())}else{const{data:J}=await fw(s.id,T);J&&(d(J),se(!1),N(""),yt())}},po=async()=>{if(jt<=0)return;const T=Wa.trim()?`[Savings] ${Wa.trim()}`:`[Savings] Carried from ${es[ut-1]} ${Et}`,{error:J}=await K0(s.id,T,jt);J||(be(!1),di(""),hi(!1),yt())},fi=async(T,J)=>{const{data:ee,error:fe}=await gw(s.id,T,J);return!fe&&ee?(x(Oe=>[...Oe,ee].sort((Re,ze)=>Re.name.localeCompare(ze.name))),ee):null},mi=async T=>{await pw(T),x(J=>J.filter(ee=>ee.id!==T))},pa=()=>{ue({title:"",totalAmount:"",myAmount:"",category:"General",note:"",date:new Date().toISOString().slice(0,10)}),Ye([]),Lt(""),Ce([])},gi=(T,J)=>{const ee=J.reduce((fe,Oe)=>fe+(parseFloat(Oe.amount)||0),0);return String(Math.max(0,(parseFloat(T)||0)-ee))},Cl=T=>{ue(J=>({...J,totalAmount:T,myAmount:gi(T,Ke)}))},Dl=()=>Ye(T=>[...T,{friendId:"",amount:""}]),pi=(T,J,ee)=>{const fe=Ke.map((Oe,Re)=>Re===T?{...Oe,[J]:ee}:Oe);Ye(fe),J==="amount"&&ue(Oe=>({...Oe,myAmount:gi(Oe.totalAmount,fe)}))},yi=T=>{const J=Ke.filter((ee,fe)=>fe!==T);Ye(J),ue(ee=>({...ee,myAmount:gi(ee.totalAmount,J)}))},bi=async()=>{Lt("");const T=parseFloat(F.totalAmount),J=parseFloat(F.myAmount);if(!F.title.trim())return Lt("Title is required");if(isNaN(T)||T<=0)return Lt("Enter a valid total amount");if(isNaN(J)||J<0)return Lt("My share is invalid");if(J>T)return Lt("Your share can't exceed total");const ee=Ke.reduce((ze,Se)=>ze+(parseFloat(Se.amount)||0),0);if(Ke.length>0&&Math.abs(ee+J-T)>.01)return Lt(`Shares don't add up  ${Ae(J)} + ${Ae(ee)}  ${Ae(T)}`);os(!0);const{data:fe,error:Oe}=await ww(s.id,{...F,totalAmount:T,myAmount:J,month:ut,year:Et},we);if(Oe){Lt(Oe.message),os(!1);return}const Re=Ke.filter(ze=>ze.friendId&&parseFloat(ze.amount)>0).map(ze=>({user_id:s.id,transaction_id:fe.id,friend_id:ze.friendId,amount:parseFloat(ze.amount)}));Re.length&&await Sw(Re),os(!1),I(!1),pa(),yt()},vi=async()=>{if(On(""),!ra.trim())return On("Name is required");const{data:T,error:J}=await bw(s.id,ra.trim(),cs.trim());if(J)return On(J.message);y(ee=>[...ee,T].sort((fe,Oe)=>fe.name.localeCompare(Oe.name))),us(""),kl("")},Ul=async T=>{await vw(T),y(J=>J.filter(ee=>ee.id!==T))},Qt=async T=>{await jw(T),yt()},at=async T=>{await Tw(s.id,T),yt()},Tt=async(T,J,ee)=>{const{supabase:fe}=await dw(async()=>{const{supabase:Oe}=await Promise.resolve().then(()=>rw);return{supabase:Oe}},[]);await fe.from("debts").insert({user_id:s.id,friend_id:T,transaction_id:null,amount:ee,title:J,is_previous_debt:!0,is_settled:!1}),yt()},an=async()=>{if(Fa(""),!pt.title.trim())return Fa("Title is required");if(!pt.amount||isNaN(pt.amount)||parseFloat(pt.amount)<=0)return Fa("Enter a valid amount");if(!pt.totalMonths||isNaN(pt.totalMonths)||parseInt(pt.totalMonths)<=0)return Fa("Enter valid number of months");const{error:T}=await Ow(s.id,pt.title.trim(),parseFloat(pt.amount),parseInt(pt.totalMonths));if(T)return Fa(T.message);Za({title:"",amount:"",totalMonths:""}),Fa(""),yt()},hs=async T=>{Rl(T.id),en(T)?await Dw(T.id):await Cw(s.id,T.id,Number(T.amount),T.title),Rl(""),yt()},yo=async T=>{await Rw(T),yt()},bo=async()=>{await n(),l("/login")};return h.jsxs("div",{className:"min-h-screen text-white tap-highlight",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #06060e 0%, #0c0c1a 50%, #070710 100%)",minHeight:"100dvh"},children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:0},children:[h.jsx("div",{style:{position:"absolute",top:"-15%",left:"-10%",width:"70vw",height:"70vw",maxWidth:600,maxHeight:600,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.05) 0%, transparent 70%)",filter:"blur(60px)"}}),h.jsx("div",{style:{position:"absolute",top:"35%",right:"-15%",width:"55vw",height:"55vw",maxWidth:450,maxHeight:450,borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.04) 0%, transparent 70%)",filter:"blur(60px)"}}),h.jsx("div",{style:{position:"absolute",bottom:"10%",left:"15%",width:"45vw",height:"45vw",maxWidth:350,maxHeight:350,borderRadius:"50%",background:"radial-gradient(circle, rgba(251,191,36,0.03) 0%, transparent 70%)",filter:"blur(60px)"}})]}),h.jsxs("nav",{className:"sticky top-0 z-40 flex items-center justify-between",style:{background:"rgba(6,6,14,0.85)",backdropFilter:"blur(32px)",WebkitBackdropFilter:"blur(32px)",borderBottom:"1px solid rgba(255,255,255,0.06)",paddingTop:"max(12px, env(safe-area-inset-top))",paddingBottom:"12px",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[h.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[h.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center font-black text-base shrink-0",style:{background:"linear-gradient(135deg, #34d399 0%, #059669 100%)",color:"#06060e",boxShadow:"0 4px 16px rgba(52,211,153,0.3)"},children:""}),h.jsxs("div",{className:"min-w-0 leading-none",children:[h.jsx("div",{className:"font-bold tracking-tight text-sm text-white",children:"Spendly"}),h.jsxs("div",{className:"text-[10px] text-white/25 font-medium mt-0.5",children:[es[ut-1]," ",Et]})]})]}),h.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[h.jsx("button",{onClick:()=>z(!0),className:"hidden sm:flex items-center gap-1.5 text-xs text-white/45 hover:text-white px-3 py-2 rounded-xl transition-all",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:" Tags"}),h.jsx("button",{onClick:()=>Z(!0),className:`hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all ${_.length>0?"text-violet-300 border-violet-400/15":"text-white/45 border-white/7"}`,style:{background:_.length>0?"rgba(167,139,250,0.07)":"rgba(255,255,255,0.05)"},children:" EMIs"}),h.jsx("button",{onClick:()=>_e(!0),className:"hidden sm:flex items-center gap-1.5 text-xs text-white/45 hover:text-white px-3 py-2 rounded-xl transition-all",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:" Friends"}),h.jsxs("button",{onClick:()=>ne(!0),className:`hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all ${w.length>0?"text-amber-300 border-amber-400/15":"text-white/45 border-white/7"}`,style:{background:w.length>0?"rgba(251,191,36,0.07)":"rgba(255,255,255,0.05)"},children:[" Debts",w.length>0&&h.jsx("span",{className:"bg-amber-400 text-[#06060e] text-[10px] font-black px-1.5 py-0.5 rounded-full",children:w.length})]}),h.jsx("button",{onClick:()=>l("/analytics"),className:"hidden sm:flex items-center gap-1.5 text-xs px-3 py-2 rounded-xl border transition-all text-violet-300 border-violet-400/15",style:{background:"rgba(167,139,250,0.07)"},children:" Analytics"}),h.jsx("div",{className:"hidden sm:block w-px h-4 bg-white/10 mx-1"}),h.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-emerald-400 text-xs font-black shrink-0",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:r.charAt(0).toUpperCase()}),h.jsx("button",{onClick:bo,className:"text-xs text-white/35 hover:text-white/60 transition-colors font-medium tap-highlight",style:{minWidth:40,minHeight:40,display:"flex",alignItems:"center",justifyContent:"center"},children:"Out"})]})]}),h.jsx("main",{className:"relative z-10 max-w-2xl mx-auto px-3 sm:px-4 py-4 sm:py-6 space-y-3 sm:space-y-4",style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 32px)"},children:Y?h.jsx("div",{className:"flex justify-center py-32",children:h.jsx("div",{className:"w-8 h-8 border-2 border-emerald-400/20 border-t-emerald-400 rounded-full animate-spin"})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-5 sm:p-6",style:{background:"linear-gradient(145deg, rgba(14,26,20,0.97) 0%, rgba(9,12,18,0.99) 100%)",border:"1px solid rgba(52,211,153,0.12)",boxShadow:"0 24px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.06), 0 0 0 1px rgba(52,211,153,0.04) inset"},children:[h.jsx("div",{className:"absolute -top-20 -right-20 w-72 h-72 rounded-full pointer-events-none",style:{background:"radial-gradient(circle, rgba(52,211,153,0.10) 0%, transparent 70%)",filter:"blur(30px)"}}),h.jsxs("div",{className:"flex items-start justify-between mb-5 relative",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("p",{className:"text-[9px] font-bold text-emerald-400/50 uppercase tracking-[0.25em] mb-2.5",children:[es[ut-1]," ",Et,"  Balance"]}),h.jsx("p",{className:`text-4xl sm:text-5xl font-black tracking-tight leading-none ${jt<0?"text-red-400":"text-white"}`,children:tt>0?wa(jt):h.jsx("span",{className:"text-white/15 text-2xl",children:"Set salary "})}),tt>0&&h.jsxs("p",{className:"text-xs text-white/25 mt-2 flex flex-wrap items-center gap-1.5",children:[h.jsxs("span",{children:["of ",wa(tt)]}),Un>0&&h.jsxs("span",{className:"text-emerald-400/50",children:["incl. ",wa(Un)," savings"]}),h.jsx("span",{className:"text-white/12",children:""}),h.jsxs("span",{className:"text-white/30",children:["spent ",wa(Math.max(Cn,0))]})]})]}),h.jsxs("div",{className:"flex flex-col gap-2 items-end ml-3 shrink-0",children:[h.jsx("button",{onClick:()=>{N(""),P("add"),se(!0)},className:"text-xs px-3.5 py-2.5 rounded-xl font-bold transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"},children:Ea>0?" Salary":"+ Salary"}),jt>0&&tt>0&&h.jsx("button",{onClick:()=>be(!0),className:"text-xs px-3.5 py-2 rounded-xl font-bold transition-all active:scale-95 tap-highlight",style:{background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.15)",color:"#fbbf24"},children:" Save"})]})]}),tt>0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[h.jsxs("span",{className:"text-white/30 font-medium",children:[Bt.toFixed(0),"% used",ds>0&&h.jsxs("span",{className:"text-violet-300/50 ml-1",children:["+",wa(ds)," EMI"]})]}),h.jsxs("span",{className:`font-semibold text-xs ${Bt>85?"text-red-400":Bt>60?"text-amber-400":"text-emerald-400/60"}`,children:[wa(Math.max(Cn,0))," / ",wa(tt)]})]}),h.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.05)"},children:h.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Bt}%`,background:Bt>85?"linear-gradient(90deg, #f87171, #ef4444)":Bt>60?"linear-gradient(90deg, #fbbf24, #f59e0b)":"linear-gradient(90deg, #34d399, #10b981)",boxShadow:Bt>85?"0 0 10px rgba(248,113,113,0.4)":Bt>60?"0 0 10px rgba(251,191,36,0.4)":"0 0 10px rgba(52,211,153,0.35)"}})})]}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"To Collect",val:wa(mt),color:"#fbbf24",border:"rgba(251,191,36,0.15)",bg:"rgba(251,191,36,0.05)",onClick:()=>ne(!0)},{label:"If Collected",val:wa(Dn),color:Dn<0?"#f87171":"#34d399",border:"rgba(52,211,153,0.12)",bg:"rgba(52,211,153,0.04)",onClick:null},{label:"EMI / Mo",val:ds>0?wa(ds):"",color:"#a78bfa",border:"rgba(167,139,250,0.15)",bg:"rgba(167,139,250,0.05)",onClick:()=>Z(!0)}].map(({label:T,val:J,color:ee,border:fe,bg:Oe,onClick:Re})=>h.jsxs("button",{onClick:Re,disabled:!Re,className:"rounded-2xl p-3 text-center transition-all tap-highlight",style:{background:Oe,border:`1px solid ${fe}`},children:[h.jsx("p",{className:"text-[9px] font-bold text-white/25 uppercase tracking-[0.15em] mb-1",children:T}),h.jsx("p",{className:"text-sm font-black truncate",style:{color:ee},children:J})]},T))})]}),tt===0&&h.jsx("button",{onClick:()=>{N(""),P("add"),se(!0)},className:"w-full mt-2 py-4 text-sm font-bold rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:" Set this month's salary"})]}),h.jsx("div",{className:"grid grid-cols-5 gap-1.5 sm:hidden",children:[{icon:"",label:"Tags",fn:()=>z(!0),active:!1},{icon:"",label:"Friends",fn:()=>_e(!0),active:!1},{icon:"",label:`Debts${w.length>0?` ${w.length}`:""}`,fn:()=>ne(!0),active:w.length>0},{icon:"",label:"EMIs",fn:()=>Z(!0),active:_.length>0},{icon:"",label:"Stats",fn:()=>l("/analytics"),active:!0}].map(({icon:T,label:J,fn:ee,active:fe})=>h.jsxs("button",{onClick:ee,className:"py-3.5 rounded-2xl text-center transition-all active:scale-95 tap-highlight",style:{background:fe?"rgba(167,139,250,0.09)":"rgba(255,255,255,0.04)",border:fe?"1px solid rgba(167,139,250,0.18)":"1px solid rgba(255,255,255,0.06)"},children:[h.jsx("div",{className:"text-base leading-none",children:T}),h.jsx("div",{className:`text-[9px] font-bold mt-1.5 ${fe?"text-violet-300":"text-white/35"}`,children:J})]},J))}),w.length>0&&h.jsxs("div",{className:"rounded-3xl p-4 space-y-2.5",style:{background:"rgba(251,191,36,0.04)",border:"1px solid rgba(251,191,36,0.12)"},children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("p",{className:"text-sm font-bold text-amber-300 flex items-center gap-2",children:[" Pending",h.jsx("span",{className:"text-[10px] font-black bg-amber-400/15 border border-amber-400/20 text-amber-300 px-2 py-0.5 rounded-full",children:w.length})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"font-bold text-amber-300 text-sm",children:Ae(mt)}),h.jsx("button",{onClick:()=>ne(!0),className:"text-xs text-amber-300/40 hover:text-amber-300 transition-colors font-medium",children:"See all "})]})]}),w.slice(0,3).map(T=>{const J=T.txn_tags||[];return h.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-3.5 py-3 gap-3",style:{background:"rgba(0,0,0,0.25)"},children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:T.friends?.name}),h.jsx("p",{className:"text-xs text-white/25 truncate",children:T.transactions?.title||T.title||"Previous debt"}),J.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:J.map(ee=>h.jsx(ml,{tag:ee,small:!0},ee.id))})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[h.jsx("span",{className:"text-sm font-bold text-amber-300",children:Ae(T.amount)}),h.jsx("button",{onClick:()=>Qt(T.id),className:"w-9 h-9 flex items-center justify-center text-emerald-400 rounded-xl active:scale-90 transition-all tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:""})]})]},T.id)})]}),_.length>0&&h.jsxs("div",{className:"rounded-3xl p-4 space-y-2.5",style:{background:"rgba(139,92,246,0.04)",border:"1px solid rgba(139,92,246,0.12)"},children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("p",{className:"text-sm font-bold text-violet-300",children:" Running EMIs"}),h.jsx("button",{onClick:()=>Z(!0),className:"text-xs text-violet-300/40 hover:text-violet-300 transition-colors font-medium",children:"Manage "})]}),_.map(T=>{const J=ga(T),ee=en(T),fe=T.total_months-J;return h.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-3.5 py-3 gap-3",style:{background:"rgba(0,0,0,0.25)"},children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:T.title}),h.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[h.jsxs("p",{className:"text-xs text-white/25",children:[Ae(T.amount),"/mo  ",J,"/",T.total_months]}),fe>0&&h.jsxs("p",{className:"text-xs text-violet-300/45",children:[fe," left"]}),fe===0&&h.jsx("p",{className:"text-xs text-emerald-400/60",children:"Done "})]}),h.jsx("div",{className:"flex gap-0.5 mt-2 flex-wrap",children:Array.from({length:T.total_months}).map((Oe,Re)=>h.jsx("div",{className:"w-2 h-2 rounded-full transition-all",style:{background:Re<J||Re===J&&ee?"#34d399":"rgba(255,255,255,0.08)"}},Re))})]}),h.jsx("button",{onClick:()=>hs(T),disabled:ft===T.id||fe===0,className:"shrink-0 text-xs font-bold px-3 py-2.5 rounded-xl transition-all active:scale-95 disabled:opacity-40 tap-highlight",style:ee?{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"}:{background:"rgba(167,139,250,0.10)",border:"1px solid rgba(167,139,250,0.18)",color:"#c4b5fd"},children:ft===T.id?h.jsx("span",{className:"w-3.5 h-3.5 border-2 border-current/30 border-t-current rounded-full animate-spin inline-block"}):ee?" Paid":"Pay"})]},T.id)})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-base text-white",children:"Transactions"}),f.length>0&&h.jsxs("p",{className:"text-xs text-white/20 mt-0.5",children:[f.length," this month"]})]}),h.jsx("button",{onClick:()=>{pa(),I(!0)},className:"flex items-center gap-1.5 font-bold text-sm px-4 py-2.5 rounded-2xl transition-all active:scale-95 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 16px rgba(52,211,153,0.22)"},children:"+ Add"})]}),f.length===0?h.jsxs("div",{className:"rounded-3xl p-12 flex flex-col items-center text-center",style:{border:"1px dashed rgba(255,255,255,0.07)"},children:[h.jsx("p",{className:"text-3xl mb-3",children:""}),h.jsx("p",{className:"text-white/25 text-sm mb-3",children:"No expenses this month"}),h.jsx("button",{onClick:()=>{pa(),I(!0)},className:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors font-medium tap-highlight",children:"Add your first "})]}):h.jsx("div",{className:"space-y-2",children:(ui?f:f.slice(0,15)).map(T=>{const J=T.debts?.filter(Se=>!Se.is_settled)||[],ee=J.reduce((Se,Mn)=>Se+Number(Mn.amount),0),fe=T.txn_tags||[],Oe=!!T.emi_id,Re=Number(T.my_amount)<0,ze=Math.abs(Number(T.my_amount));return h.jsxs("div",{className:"group flex items-start gap-3 rounded-2xl px-4 py-3.5 transition-all",style:{background:Re?"rgba(52,211,153,0.04)":"rgba(255,255,255,0.025)",border:Re?"1px solid rgba(52,211,153,0.10)":"1px solid rgba(255,255,255,0.05)"},children:[h.jsx("div",{className:"text-xl shrink-0 mt-0.5",children:Re?"":Oe?"":Uw[T.category]||""}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[h.jsx("p",{className:"font-semibold text-sm text-white",children:T.title}),Re&&h.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"},children:"Collected"}),Oe&&h.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold",style:{background:"rgba(167,139,250,0.10)",border:"1px solid rgba(167,139,250,0.18)",color:"#c4b5fd"},children:"EMI"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-0.5 text-xs text-white/25 mb-1.5",children:[h.jsx("span",{children:new Date(T.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),!Re&&T.total_amount!==T.my_amount&&h.jsxs("span",{children:["paid ",Ae(T.total_amount)]}),ee>0&&h.jsxs("span",{className:"text-amber-300/60",children:[J.map(Se=>Se.friends?.name).join(", ")," owe",J.length===1?"s":""," ",Ae(ee)]}),T.note&&h.jsx("span",{className:"italic text-white/15",children:T.note})]}),fe.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1",children:fe.map(Se=>h.jsx(ml,{tag:Se,small:!0},Se.id))})]}),h.jsxs("div",{className:"flex items-start gap-2 shrink-0 mt-0.5",children:[h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-sm font-bold",style:{color:Re?"#34d399":"rgba(255,255,255,0.85)"},children:[Re?"+":"",Ae(ze)]}),!Re&&T.total_amount!==T.my_amount&&h.jsxs("p",{className:"text-[10px] text-white/18",children:["of ",Ae(T.total_amount)]})]}),!Oe&&!Re&&h.jsx("button",{onClick:()=>{window.confirm("Delete this transaction?")&&_w(T.id).then(yt)},className:"opacity-0 group-hover:opacity-100 text-white/15 hover:text-red-400 text-xl transition-all leading-none mt-0.5 tap-highlight",children:""})]})]},T.id)})}),f.length>15&&h.jsx("button",{onClick:()=>ci(T=>!T),className:"w-full mt-2 py-3 text-xs font-semibold text-white/35 hover:text-white/60 transition-all rounded-2xl tap-highlight",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)"},children:ui?" Show less":`${f.length-15} more  Show all`})]})]})}),h.jsx(Nn,{open:Q,onClose:()=>{se(!1),N("")},title:" Balance",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.12)"},children:[h.jsx("p",{className:"text-[9px] font-bold text-emerald-400/50 uppercase tracking-[0.15em] mb-1",children:"Current Balance"}),h.jsx("p",{className:`text-3xl font-black ${jt<0?"text-red-400":"text-white"}`,children:Ae(jt)}),h.jsxs("p",{className:"text-xs text-white/20 mt-1",children:["In: ",Ae(tt),"  Spent: ",Ae(Math.max(Cn,0))]})]}),h.jsx("div",{className:"flex gap-1 p-1 rounded-2xl",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)"},children:[{key:"add",label:"+ Add Money"},{key:"set",label:" Set Exact"}].map(T=>h.jsx("button",{onClick:()=>{P(T.key),N("")},className:`flex-1 py-2.5 rounded-xl text-xs font-bold transition-all tap-highlight ${G===T.key?"bg-emerald-400 text-[#06060e]":"text-white/35 hover:text-white/60"}`,children:T.label},T.key))}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:rt,children:G==="add"?"Amount to Add ()":"Set Base Salary ()"}),h.jsx("input",{className:At,type:"number",inputMode:"numeric",placeholder:"e.g. 45000",value:pe,onChange:T=>N(T.target.value),autoFocus:!0,onKeyDown:T=>T.key==="Enter"&&tn(),style:{fontSize:"16px"}})]}),G==="add"&&pe&&!isNaN(parseFloat(pe))&&parseFloat(pe)>0&&h.jsxs("div",{className:"rounded-xl px-4 py-2.5 text-xs",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.10)"},children:[h.jsx("span",{className:"text-white/25",children:"New balance "}),h.jsx("span",{className:"text-emerald-400 font-bold",children:Ae(jt+parseFloat(pe))})]}),h.jsx("button",{onClick:tn,disabled:!pe||isNaN(parseFloat(pe))||parseFloat(pe)<=0,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:G==="add"?`Add ${pe?Ae(parseFloat(pe)||0):"0"} to Balance`:"Set Salary"}),O.length>0&&h.jsxs("div",{className:"space-y-2 pt-1",children:[h.jsx("p",{className:rt,children:"Income This Month"}),O.map(T=>h.jsxs("div",{className:"flex items-center justify-between rounded-2xl px-4 py-3",style:{background:"rgba(255,255,255,0.03)"},children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-semibold text-white",children:[T.title.replace("[Savings] ",""),T.title.startsWith("[Savings]")&&h.jsx("span",{className:"ml-1.5 text-[10px] text-emerald-400/60 bg-emerald-400/8 px-1.5 py-0.5 rounded-full border border-emerald-400/15",children:"Savings"})]}),h.jsx("p",{className:"text-xs text-white/20",children:new Date(T.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[h.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:["+",Ae(T.amount)]}),h.jsx("button",{onClick:()=>Aw(T.id).then(yt),className:"text-white/18 hover:text-red-400 transition-colors text-xl leading-none tap-highlight",children:""})]})]},T.id))]})]})}),h.jsx(Nn,{open:te,onClose:()=>{be(!1),di(""),hi(!1)},title:" Carry as Savings",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-2xl p-4",style:{background:"rgba(52,211,153,0.05)",border:"1px solid rgba(52,211,153,0.12)"},children:[h.jsx("p",{className:"text-xs text-white/35 mb-1",children:"Amount to carry forward"}),h.jsx("p",{className:"text-3xl font-black text-emerald-400",children:Ae(jt)}),h.jsx("p",{className:"text-xs text-white/25 mt-1",children:"This will be added to your next month's balance as savings"})]}),h.jsxs("div",{className:"rounded-2xl p-4 space-y-1",style:{background:"rgba(251,191,36,0.05)",border:"1px solid rgba(251,191,36,0.12)"},children:[h.jsx("p",{className:"text-xs font-bold text-amber-300",children:" How this works"}),h.jsxs("p",{className:"text-xs text-white/35 leading-relaxed",children:["Your remaining balance of ",h.jsx("strong",{className:"text-white/60",children:Ae(jt)}),` will be added as income in next month's balance under the label "Savings carried from `,es[ut-1],`". Your current month's spent/balance stays unchanged.`]})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Custom label (optional)"}),h.jsx("input",{className:At,placeholder:'e.g. "Saving up for trip"',value:Wa,onChange:T=>di(T.target.value),style:{fontSize:"16px"}})]}),h.jsxs("label",{className:"flex items-start gap-3 cursor-pointer tap-highlight",children:[h.jsx("div",{onClick:()=>hi(T=>!T),className:"w-5 h-5 rounded-md mt-0.5 flex items-center justify-center shrink-0 transition-all",style:{background:Rn?"#34d399":"rgba(255,255,255,0.06)",border:Rn?"none":"1px solid rgba(255,255,255,0.15)"},children:Rn&&h.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",children:h.jsx("path",{d:"M1 4L4 7L9 1",stroke:"#06060e",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsxs("span",{className:"text-xs text-white/40 leading-relaxed",children:["I understand this will add ",Ae(jt)," to my balance for next month"]})]}),h.jsxs("button",{onClick:po,disabled:!Rn||jt<=0,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:["Carry ",Ae(jt)," as Savings "]})]})}),h.jsx(Nn,{open:K,onClose:()=>{I(!1),pa()},title:"Add Expense",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Title *"}),h.jsx("input",{className:At,type:"text",placeholder:"e.g. Dinner at Pizza Hut",value:F.title,onChange:T=>ue(J=>({...J,title:T.target.value})),autoFocus:!0,style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Total Amount () *"}),h.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"0",value:F.totalAmount,onChange:T=>Cl(T.target.value),style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Date"}),h.jsx("input",{className:At,type:"date",value:F.date,onChange:T=>ue(J=>({...J,date:T.target.value})),style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Tags"}),h.jsx(X0,{allTags:v,selectedIds:we,onChange:Ce,onCreateTag:fi})]}),h.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:rt,style:{margin:0},children:"Split with Friends"}),p.length>0?h.jsx("button",{type:"button",onClick:Dl,className:"text-xs font-bold text-emerald-400 px-3 py-1.5 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.16)"},children:"+ Add"}):h.jsx("button",{type:"button",onClick:()=>{I(!1),_e(!0)},className:"text-xs text-white/25 hover:text-emerald-400 transition-colors tap-highlight",children:"Add friends first "})]}),Ke.map((T,J)=>h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx(Mw,{friends:p,value:T.friendId,onChange:ee=>pi(J,"friendId",ee),placeholder:"Select friend"}),h.jsx("input",{className:`${At} w-28 shrink-0`,type:"number",inputMode:"decimal",placeholder:" share",value:T.amount,onChange:ee=>pi(J,"amount",ee.target.value),style:{fontSize:"16px"}}),h.jsx("button",{onClick:()=>yi(J),className:"w-9 h-9 flex items-center justify-center text-white/20 hover:text-red-400 text-xl transition-colors rounded-xl tap-highlight",style:{background:"rgba(255,255,255,0.04)"},children:""})]},J)),Ke.length>0&&h.jsxs("div",{className:"pt-2 border-t border-white/5",children:[h.jsx("label",{className:rt,children:"My Share (auto)"}),h.jsx("input",{className:At,type:"number",inputMode:"decimal",value:F.myAmount,onChange:T=>ue(J=>({...J,myAmount:T.target.value})),placeholder:"Auto",style:{fontSize:"16px",borderColor:"rgba(52,211,153,0.25)",background:"rgba(52,211,153,0.04)",color:"#6ee7b7"}})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Note (optional)"}),h.jsx("input",{className:At,type:"text",placeholder:"Any details...",value:F.note,onChange:T=>ue(J=>({...J,note:T.target.value})),style:{fontSize:"16px"}})]}),Pa&&h.jsx("div",{className:"rounded-2xl px-4 py-3 text-sm text-red-400 font-medium",style:{background:"rgba(248,113,113,0.07)",border:"1px solid rgba(248,113,113,0.18)"},children:Pa}),F.totalAmount&&h.jsxs("div",{className:"rounded-2xl px-4 py-3 space-y-2 text-xs",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.06)"},children:[h.jsx("p",{className:rt,style:{margin:"0 0 6px"},children:"Summary"}),h.jsxs("div",{className:"flex justify-between text-white/30",children:[h.jsx("span",{children:"Total paid"}),h.jsx("span",{className:"text-white font-bold",children:Ae(F.totalAmount||0)})]}),h.jsxs("div",{className:"flex justify-between text-white/30",children:[h.jsx("span",{children:"Your share"}),h.jsx("span",{className:"text-emerald-400 font-bold",children:Ae(F.myAmount||F.totalAmount||0)})]}),Ke.filter(T=>T.amount&&T.friendId).map((T,J)=>{const ee=p.find(fe=>fe.id===T.friendId);return h.jsxs("div",{className:"flex justify-between text-white/30",children:[h.jsxs("span",{children:[ee?.name||"Friend"," owes"]}),h.jsx("span",{className:"text-amber-300 font-bold",children:Ae(T.amount)})]},J)})]}),h.jsxs("button",{onClick:bi,disabled:rs,className:"w-full py-4 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2 tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:[rs&&h.jsx("span",{className:"w-4 h-4 border-2 border-[#06060e]/30 border-t-[#06060e] rounded-full animate-spin"}),"Save Expense"]})]})}),h.jsx(Nn,{open:xe,onClose:()=>z(!1),title:" Manage Tags",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-white/35 leading-relaxed",children:"Tags help you categorise and filter your expenses across the app."}),v.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(T=>h.jsx(ml,{tag:T,onRemove:mi},T.id))}),h.jsx("div",{className:"rounded-2xl p-4",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:h.jsx(X0,{allTags:v,selectedIds:[],onChange:()=>{},onCreateTag:fi})})]})}),h.jsx(Nn,{open:oe,onClose:()=>_e(!1),title:" Friends",fullMobile:!0,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[h.jsx("p",{className:rt,children:"Add New Friend"}),h.jsx("input",{className:At,placeholder:"Name *",value:ra,onChange:T=>us(T.target.value),onKeyDown:T=>T.key==="Enter"&&vi(),style:{fontSize:"16px"}}),h.jsx("input",{className:At,placeholder:"Email (optional)",value:cs,onChange:T=>kl(T.target.value),style:{fontSize:"16px"}}),h.jsx("button",{onClick:vi,className:"w-full py-3.5 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e"},children:"Add Friend"}),oi&&h.jsx("p",{className:"text-red-400 text-xs",children:oi})]}),p.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-3xl mb-3",children:""}),h.jsx("p",{className:"text-white/25 text-sm",children:"No friends added yet"})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:rt,children:[p.length," Friend",p.length!==1?"s":""]}),p.map(T=>{const J=w.filter(ee=>ee.friend_id===T.id).reduce((ee,fe)=>ee+Number(fe.amount),0);return h.jsx("div",{className:"rounded-2xl px-4 py-3.5",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.07)"},children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-black shrink-0",style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.10)"},children:T.name.charAt(0).toUpperCase()}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold truncate text-white",children:T.name}),T.email&&h.jsx("p",{className:"text-xs text-white/25 truncate",children:T.email})]})]}),J>0&&h.jsxs("p",{className:"text-xs text-amber-300 font-bold mt-2",children:["Owes ",Ae(J)]})]}),h.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[h.jsx("button",{onClick:()=>{_e(!1),X(T)},className:"text-xs font-bold text-emerald-400 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.15)"},children:"Debts"}),J>0&&h.jsx("button",{onClick:async()=>{window.confirm(`Collect all from ${T.name}? (${Ae(J)})`)&&await at(T.id)},className:"text-xs font-bold text-amber-300 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.15)"},children:" All"}),h.jsx("button",{onClick:()=>Ul(T.id),className:"w-8 h-8 flex items-center justify-center text-white/18 hover:text-red-400 transition-colors text-lg tap-highlight",children:""})]})]})},T.id)})]})]})}),h.jsx(Nn,{open:ht,onClose:()=>ne(!1),title:" Pending Debts",fullMobile:!0,children:h.jsx("div",{className:"space-y-3",children:w.length===0?h.jsxs("div",{className:"text-center py-16",children:[h.jsx("p",{className:"text-4xl mb-3",children:""}),h.jsx("p",{className:"text-white/30 text-sm",children:"All clear  no pending debts!"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between pb-3",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[h.jsxs("span",{className:"text-xs text-white/30 font-medium",children:[w.length," pending"]}),h.jsxs("span",{className:"text-amber-300 font-bold text-sm",children:[Ae(mt)," to collect"]})]}),w.map(T=>{const J=T.txn_tags||[];return h.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-2xl px-4 py-3.5",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.06)"},children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:T.friends?.name}),h.jsx("p",{className:"text-xs text-white/25",children:T.transactions?.title||T.title||"Previous debt"}),h.jsx("p",{className:"text-xs text-white/18",children:T.transactions?.date&&new Date(T.transactions.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),J.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:J.map(ee=>h.jsx(ml,{tag:ee,small:!0},ee.id))})]}),h.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[h.jsx("span",{className:"text-base font-black text-amber-300",children:Ae(T.amount)}),h.jsx("button",{onClick:()=>Qt(T.id),className:"text-xs font-bold text-emerald-400 px-3 py-2 rounded-xl transition-all active:scale-95 tap-highlight",style:{background:"rgba(52,211,153,0.10)",border:"1px solid rgba(52,211,153,0.18)"},children:" Collected"})]})]},T.id)})]})})}),h.jsx(zw,{friend:C,open:!!C,onClose:()=>{X(null),yt()},onSettle:Qt,onSettleAll:at,onAddPreviousDebt:Tt,userId:s?.id,friends:p}),h.jsx(Nn,{open:W,onClose:()=>Z(!1),title:" Running EMIs",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)"},children:[h.jsx("p",{className:rt,children:"New EMI"}),h.jsx("input",{className:At,placeholder:"e.g. iPhone 16 Pro, Bike loan",value:pt.title,onChange:T=>Za(J=>({...J,title:T.target.value})),style:{fontSize:"16px"}}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Monthly ()"}),h.jsx("input",{className:At,type:"number",inputMode:"decimal",placeholder:"2500",value:pt.amount,onChange:T=>Za(J=>({...J,amount:T.target.value})),style:{fontSize:"16px"}})]}),h.jsxs("div",{children:[h.jsx("label",{className:rt,children:"Months"}),h.jsx("input",{className:At,type:"number",inputMode:"numeric",placeholder:"12",value:pt.totalMonths,onChange:T=>Za(J=>({...J,totalMonths:T.target.value})),style:{fontSize:"16px"}})]})]}),Ol&&h.jsx("p",{className:"text-red-400 text-xs",children:Ol}),h.jsx("button",{onClick:an,className:"w-full py-3.5 font-bold text-sm rounded-2xl transition-all active:scale-[0.98] tap-highlight",style:{background:"linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)",color:"#fff",boxShadow:"0 4px 16px rgba(139,92,246,0.22)"},children:"+ Add EMI"})]}),_.length===0?h.jsx("p",{className:"text-center text-white/20 text-sm py-6",children:"No running EMIs"}):h.jsx("div",{className:"space-y-3",children:_.map(T=>{const J=ga(T),ee=en(T),fe=T.total_months-J,Oe=fe*Number(T.amount),Re=T.emi_payments||[];return h.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(139,92,246,0.12)"},children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-white",children:T.title}),h.jsxs("p",{className:"text-xs text-white/30 mt-0.5",children:[Ae(T.amount),"/mo  ",T.total_months," months total"]})]}),h.jsx("button",{onClick:()=>yo(T.id),className:"text-white/18 hover:text-red-400 transition-colors text-xl w-8 h-8 flex items-center justify-center tap-highlight",children:""})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-xs text-white/25 mb-1.5",children:[h.jsxs("span",{children:[J,"/",T.total_months," paid"]}),h.jsx("span",{className:"font-medium",children:fe>0?`${Ae(Oe)} left`:" Complete!"})]}),h.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.05)"},children:h.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Math.min(J/T.total_months*100,100)}%`,background:"linear-gradient(90deg, #a78bfa, #7c3aed)"}})})]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:T.total_months}).map((ze,Se)=>{const Mn=Se<J,xi=Se===J&&ee,oa=Se===J&&!ee;return h.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-bold transition-all",style:{background:Mn||xi?"#34d399":oa?"rgba(167,139,250,0.2)":"rgba(255,255,255,0.06)",color:Mn||xi?"#06060e":oa?"#c4b5fd":"rgba(255,255,255,0.2)",border:oa?"1px solid rgba(167,139,250,0.35)":"none"},children:Se+1},Se)})}),Re.length>0&&h.jsxs("div",{className:"space-y-1 pt-2",style:{borderTop:"1px solid rgba(255,255,255,0.05)"},children:[h.jsx("p",{className:"text-[10px] text-white/20 uppercase tracking-widest font-bold mb-1.5",children:"History"}),[...Re].sort((ze,Se)=>Se.year-ze.year||Se.month-ze.month).map(ze=>h.jsxs("div",{className:"flex justify-between text-xs text-white/30",children:[h.jsxs("span",{children:[es[ze.month-1]," ",ze.year]}),h.jsx("span",{style:{color:"rgba(52,211,153,0.5)"},children:Ae(ze.amount)})]},ze.id))]}),fe>0&&h.jsx("button",{onClick:()=>hs(T),disabled:ft===T.id,className:"w-full py-3.5 text-sm font-bold rounded-2xl transition-all active:scale-[0.98] disabled:opacity-40 flex items-center justify-center gap-2 tap-highlight",style:ee?{background:"rgba(52,211,153,0.08)",border:"1px solid rgba(52,211,153,0.18)",color:"#34d399"}:{background:"rgba(139,92,246,0.12)",border:"1px solid rgba(139,92,246,0.22)",color:"#c4b5fd"},children:ft===T.id?h.jsx("span",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}):ee?` ${es[ut-1]} Paid  undo`:`Mark ${es[ut-1]} as Paid (${Ae(T.amount)})`})]},T.id)})})]})})]})}const hl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],td=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:0})}`,Va=s=>`${Number(s).toLocaleString("en-IN",{minimumFractionDigits:2})}`,Ja=s=>{const n=Number(s);return Math.abs(n)>=1e5?`${(n/1e5).toFixed(1)}L`:Math.abs(n)>=1e3?`${(n/1e3).toFixed(1)}K`:td(n)},Bw=()=>{if(document.getElementById("analytics-styles"))return;const s=document.createElement("style");s.id="analytics-styles",s.textContent=`
    @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;0,9..40,900;1,9..40,400&display=swap');

    .an-root * { box-sizing: border-box; }

    /*  scrollbar  */
    .an-scroll::-webkit-scrollbar { width: 3px; height: 3px; }
    .an-scroll::-webkit-scrollbar-track { background: transparent; }
    .an-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 99px; }
    .an-noscroll { scrollbar-width: none; -ms-overflow-style: none; }
    .an-noscroll::-webkit-scrollbar { display: none; }

    /*  entry animations  */
    @keyframes an-fade-up {
      from { opacity: 0; transform: translateY(16px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes an-fade-in {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    @keyframes an-scale-in {
      from { opacity: 0; transform: scale(0.94); }
      to   { opacity: 1; transform: scale(1); }
    }
    @keyframes an-bar-grow {
      from { transform: scaleY(0); }
      to   { transform: scaleY(1); }
    }
    @keyframes an-shimmer {
      0%   { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    @keyframes an-pulse-dot {
      0%, 100% { opacity: 1; transform: scale(1); }
      50%       { opacity: 0.5; transform: scale(0.85); }
    }
    @keyframes an-spin {
      to { transform: rotate(360deg); }
    }

    .an-fade-up   { animation: an-fade-up   0.45s cubic-bezier(0.22,1,0.36,1) both; }
    .an-fade-in   { animation: an-fade-in   0.3s ease both; }
    .an-scale-in  { animation: an-scale-in  0.35s cubic-bezier(0.22,1,0.36,1) both; }
    .an-spin      { animation: an-spin 0.9s linear infinite; }

    .an-stagger-1 { animation-delay: 0.04s; }
    .an-stagger-2 { animation-delay: 0.08s; }
    .an-stagger-3 { animation-delay: 0.12s; }
    .an-stagger-4 { animation-delay: 0.16s; }
    .an-stagger-5 { animation-delay: 0.20s; }
    .an-stagger-6 { animation-delay: 0.24s; }

    /*  bar animation  */
    .an-bar { transform-origin: bottom; animation: an-bar-grow 0.6s cubic-bezier(0.22,1,0.36,1) both; }

    /*  shimmer skeleton  */
    .an-skel {
      background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.09) 50%, rgba(255,255,255,0.04) 75%);
      background-size: 200% 100%;
      animation: an-shimmer 1.6s ease infinite;
      border-radius: 8px;
    }

    /*  hover effects  */
    .an-card {
      transition: border-color 0.2s, box-shadow 0.2s, transform 0.15s;
    }
    .an-card:hover {
      border-color: rgba(255,255,255,0.12) !important;
      box-shadow: 0 8px 32px rgba(0,0,0,0.35);
      transform: translateY(-1px);
    }

    .an-btn {
      transition: all 0.15s;
      -webkit-tap-highlight-color: transparent;
    }
    .an-btn:hover  { filter: brightness(1.1); }
    .an-btn:active { transform: scale(0.96); }

    /*  month bar hover  */
    .an-mbar { transition: opacity 0.2s, transform 0.15s; }
    .an-mbar:hover .an-mbar-fill { opacity: 0.85 !important; }
    .an-mbar:active { transform: scaleX(0.96); }

    /*  donut segment hover  */
    .an-donut-seg { transition: stroke-width 0.2s, stroke-opacity 0.2s; }
    .an-donut-seg:hover { stroke-width: 26px; }

    /*  tag chip  */
    .an-tag-chip {
      transition: opacity 0.15s, transform 0.15s, box-shadow 0.15s;
      -webkit-tap-highlight-color: transparent;
    }
    .an-tag-chip:hover  { opacity: 1 !important; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
    .an-tag-chip:active { transform: scale(0.95); }

    /*  nav safe area  */
    .an-nav {
      padding-top: max(12px, env(safe-area-inset-top));
      padding-left: max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
    }

    /*  tooltip  */
    .an-tooltip { pointer-events: none; white-space: nowrap; }
    .an-tip-parent:hover .an-tooltip { opacity: 1 !important; transform: translateX(-50%) translateY(0) !important; }

    /*  hbar progress  */
    @keyframes an-hbar {
      from { width: 0%; }
    }
    .an-hbar-fill { animation: an-hbar 0.7s cubic-bezier(0.22,1,0.36,1) both; }
  `,document.head.appendChild(s)};async function qw(s){const n=new Date,l=n.getFullYear();n.getMonth()+1;const{data:r,error:u}=await me.from("transactions").select("id, title, total_amount, my_amount, category, date, month, year, emi_id").eq("user_id",s).gte("year",l-1).order("date",{ascending:!1});if(u||!r||r.length===0)return{months:[],tags:[],txns:[]};const d=r.map(S=>S.id);let f={};try{const{data:S}=await me.from("transaction_tags").select("transaction_id, tags( id, name, color )").in("transaction_id",d);(S??[]).forEach(_=>{f[_.transaction_id]||(f[_.transaction_id]=[]),_.tags&&f[_.transaction_id].push(_.tags)})}catch{}let m={};try{const{data:S}=await me.from("debts").select("transaction_id, amount, is_settled").eq("user_id",s).in("transaction_id",d);(S??[]).forEach(_=>{m[_.transaction_id]||(m[_.transaction_id]={hasUnsettled:!1,unsettledAmount:0}),_.is_settled||(m[_.transaction_id].hasUnsettled=!0,m[_.transaction_id].unsettledAmount+=Number(_.amount))})}catch{}const{data:p}=await me.from("budgets").select("month, year, amount").eq("user_id",s).gte("year",l-1),y={};(p??[]).forEach(S=>{y[`${S.year}-${S.month}`]=Number(S.amount)});const v=r.map(S=>({...S,txn_tags:f[S.id]??[],debtInfo:m[S.id]??{hasUnsettled:!1,unsettledAmount:0}})),x=S=>Number(S.my_amount)<0?Number(S.my_amount):S.debtInfo?.hasUnsettled?Number(S.total_amount):Number(S.my_amount),w={};v.forEach(S=>{const _=`${S.year}-${String(S.month).padStart(2,"0")}`;w[_]||(w[_]={year:S.year,month:S.month,txns:[],total:0,budget:y[`${S.year}-${S.month}`]||0}),w[_].txns.push(S);const B=x(S);B>0&&(w[_].total+=B)});const j=Object.entries(w).sort(([S],[_])=>S.localeCompare(_)).map(([S,_])=>({key:S,..._})),O={};return v.forEach(S=>S.txn_tags.forEach(_=>{O[_.id]=_})),{months:j,tags:Object.values(O),txns:v,spendOf:x}}function I0({value:s,formatter:n=Ja,duration:l=800}){const[r,u]=k.useState(0),d=k.useRef(null),f=k.useRef(null),m=k.useRef(0);return k.useEffect(()=>{const p=Number(s);m.current=r,f.current=null,d.current&&cancelAnimationFrame(d.current);const y=v=>{f.current||(f.current=v);const x=Math.min((v-f.current)/l,1),w=1-Math.pow(1-x,3);u(m.current+(p-m.current)*w),x<1&&(d.current=requestAnimationFrame(y))};return d.current=requestAnimationFrame(y),()=>cancelAnimationFrame(d.current)},[s]),h.jsx(h.Fragment,{children:n(r)})}function Q0({segments:s,size:n=130,thickness:l=22,label:r,animate:u=!0}){const d=(n-l)/2,f=2*Math.PI*d,m=n/2,p=n/2,y=s.reduce((j,O)=>j+O.value,0),[v,x]=k.useState(null);let w=0;return h.jsxs("div",{className:"relative inline-flex items-center justify-center",style:{width:n,height:n},children:[h.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:[y===0?h.jsx("circle",{cx:m,cy:p,r:d,fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:l}):s.map((j,O)=>{const S=j.value/y,_=S*f,B=f-w*f,Y=v===O;return w+=S,h.jsx("circle",{cx:m,cy:p,r:d,fill:"none",stroke:j.color,strokeWidth:Y?l+4:l,strokeDasharray:`${_} ${f-_}`,strokeDashoffset:B,strokeLinecap:"round",className:"an-donut-seg",style:{transformOrigin:"center",transform:"rotate(-90deg)",transition:"stroke-width 0.2s, opacity 0.2s",opacity:v!==null&&!Y?.4:1,cursor:"pointer"},onMouseEnter:()=>x(O),onMouseLeave:()=>x(null)},O)}),h.jsx("circle",{cx:m,cy:p,r:d-l/2-3,fill:"#0c0c1a"})]}),h.jsx("div",{className:"absolute text-center pointer-events-none",children:v!==null?h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-[9px] font-bold uppercase tracking-wider",style:{color:s[v]?.color,opacity:.7},children:[(s[v]?.value/y*100).toFixed(0),"%"]}),h.jsx("p",{className:"text-xs font-bold text-white leading-tight",children:Ja(s[v]?.value||0)})]}):r?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-[9px] text-white/30",children:r.sub}),h.jsx("p",{className:"text-sm font-bold text-white",children:r.main})]}):null})]})}function P0({label:s,value:n,max:l,color:r,dot:u,delay:d=0}){const f=l>0?Math.min(n/l*100,100):0;return h.jsxs("div",{className:"flex items-center gap-3 group",children:[u?h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0 transition-transform group-hover:scale-125",style:{background:r}}):h.jsx("div",{className:"w-5 text-xs text-white/20 shrink-0 text-center",children:"#"}),h.jsx("div",{className:"w-20 text-xs text-white/45 truncate shrink-0 group-hover:text-white/70 transition-colors",children:s}),h.jsx("div",{className:"flex-1 h-1.5 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.05)"},children:h.jsx("div",{className:"h-full rounded-full an-hbar-fill",style:{width:`${f}%`,background:r,animationDelay:`${d}ms`}})}),h.jsx("div",{className:"text-xs font-semibold text-white/60 w-16 text-right shrink-0 group-hover:text-white/90 transition-colors",children:Va(n)})]})}function Ws({title:s,sub:n}){return h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-sm font-bold text-white tracking-tight",children:s}),n&&h.jsx("p",{className:"text-xs text-white/30 mt-0.5",children:n})]})}function Ya({children:s,className:n="",style:l={},animate:r=!0,delay:u=0}){return h.jsx("div",{className:`rounded-2xl an-card ${r?"an-fade-up":""} ${n}`,style:{background:"rgba(255,255,255,0.025)",border:"1px solid rgba(255,255,255,0.07)",padding:"20px",animationDelay:`${u}ms`,...l},children:s})}function $w(){const{user:s}=go(),n=Tl(),[l,r]=k.useState(null),[u,d]=k.useState(!0),[f,m]=k.useState(null),[p,y]=k.useState("overview"),[v,x]=k.useState(null),[w,j]=k.useState(0);k.useEffect(()=>{Bw()},[]),k.useEffect(()=>{s&&qw(s.id).then(z=>{r(z),z.months.length>0&&m(z.months[z.months.length-1].key),d(!1)})},[s]);const O=z=>{y(z),j(W=>W+1)},S=z=>{m(z),x(null),j(W=>W+1)},_=l?.months.find(z=>z.key===f),B=l?.spendOf??(z=>Number(z.my_amount)),Y=z=>{const W={};return z.forEach(Z=>{const C=B(Z);C<=0||Z.txn_tags.forEach(X=>{W[X.id]||(W[X.id]={tag:X,val:0,count:0}),W[X.id].val+=C,W[X.id].count++})}),Object.values(W).sort((Z,C)=>C.val-Z.val)},q=_?Y(_.txns):[],Q=l?.txns.filter(z=>B(z)>0)??[],se=Q.reduce((z,W)=>z+B(W),0),K=l?.months.length?l.months.reduce((z,W)=>z+Math.max(W.total,0),0)/l.months.length:0,I=Math.max(...l?.months.map(z=>Math.max(z.total,0))??[0],1),oe=l?Y(l.txns):[],_e=_?v?_.txns.filter(z=>z.txn_tags.some(W=>W.id===v)):_.txns:[],ht=_?new Date(_.year,_.month,0).getDate():31,ne=(()=>{if(!_)return{};const z={};return _.txns.forEach(W=>{const Z=B(W);if(Z<=0)return;const C=new Date(W.date).getDate();z[C]=(z[C]||0)+Z}),z})(),xe=Math.max(...Object.values(ne),1);return u?h.jsxs("div",{className:"an-root min-h-screen text-white",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #06060e 0%, #0c0c1a 50%, #070710 100%)"},children:[h.jsxs("div",{className:"sticky top-0 z-40 an-nav flex items-center justify-between pb-3 border-b",style:{background:"rgba(6,6,14,0.9)",borderColor:"rgba(255,255,255,0.06)",backdropFilter:"blur(32px)"},children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"an-skel w-20 h-5"}),h.jsx("div",{className:"w-px h-4 bg-white/10"}),h.jsx("div",{className:"an-skel w-24 h-5"})]}),h.jsx("div",{className:"an-skel w-40 h-8 rounded-xl"})]}),h.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-5",children:[h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[...Array(4)].map((z,W)=>h.jsx("div",{className:"an-skel h-20 rounded-2xl",style:{animationDelay:`${W*80}ms`}},W))}),h.jsx("div",{className:"an-skel h-48 rounded-2xl"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsx("div",{className:"an-skel h-56 rounded-2xl",style:{animationDelay:"80ms"}}),h.jsx("div",{className:"an-skel h-56 rounded-2xl",style:{animationDelay:"160ms"}})]})]})]}):!l||l.months.length===0?h.jsx("div",{className:"an-root min-h-screen text-white flex flex-col items-center justify-center text-center px-6",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #06060e 0%, #0c0c1a 50%, #070710 100%)"},children:h.jsxs("div",{className:"an-scale-in",children:[h.jsx("div",{className:"w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 text-4xl",style:{background:"rgba(167,139,250,0.08)",border:"1px solid rgba(167,139,250,0.15)"},children:""}),h.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"No data yet"}),h.jsx("p",{className:"text-white/35 text-sm mb-6 max-w-xs",children:"Add some expenses on the dashboard to see your analytics here."}),h.jsx("button",{onClick:()=>n("/dashboard"),className:"an-btn px-6 py-3 rounded-2xl text-sm font-bold",style:{background:"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#06060e",boxShadow:"0 4px 20px rgba(52,211,153,0.25)"},children:" Back to Dashboard"})]})}):h.jsxs("div",{className:"an-root min-h-screen text-white",style:{fontFamily:"'DM Sans', system-ui, sans-serif",background:"linear-gradient(160deg, #06060e 0%, #0c0c1a 50%, #070710 100%)",minHeight:"100dvh"},children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:0},children:[h.jsx("div",{style:{position:"absolute",top:"-10%",left:"-10%",width:"60vw",height:"60vw",maxWidth:500,borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.06) 0%, transparent 70%)",filter:"blur(60px)"}}),h.jsx("div",{style:{position:"absolute",bottom:"10%",right:"-10%",width:"50vw",height:"50vw",maxWidth:400,borderRadius:"50%",background:"radial-gradient(circle, rgba(52,211,153,0.04) 0%, transparent 70%)",filter:"blur(60px)"}})]}),h.jsxs("nav",{className:"sticky top-0 z-40 an-nav flex items-center justify-between pb-3",style:{background:"rgba(6,6,14,0.88)",backdropFilter:"blur(32px)",WebkitBackdropFilter:"blur(32px)",borderBottom:"1px solid rgba(255,255,255,0.06)",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsxs("button",{onClick:()=>n("/dashboard"),className:"an-btn flex items-center gap-1.5 text-white/40 hover:text-white text-sm font-medium shrink-0",children:[h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:h.jsx("path",{d:"M9 2L4 7L9 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),h.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),h.jsx("div",{className:"w-px h-4 bg-white/10 shrink-0"}),h.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center text-sm shrink-0",style:{background:"rgba(167,139,250,0.15)",border:"1px solid rgba(167,139,250,0.2)"},children:""}),h.jsx("span",{className:"font-bold text-sm tracking-tight truncate",children:"Analytics"})]})]}),h.jsx("div",{className:"flex items-center gap-1 p-1 rounded-xl shrink-0",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.07)"},children:[{key:"overview",icon:"",label:"Overview"},{key:"month",icon:"",label:"Monthly"}].map(z=>h.jsxs("button",{onClick:()=>O(z.key),className:`an-btn text-xs px-3 py-1.5 rounded-lg font-semibold transition-all ${p===z.key?"text-white":"text-white/30 hover:text-white/60"}`,style:p===z.key?{background:"rgba(255,255,255,0.10)"}:{},children:[h.jsx("span",{className:"sm:hidden",children:z.icon}),h.jsxs("span",{className:"hidden sm:inline",children:[z.icon," ",z.label]})]},z.key))})]}),h.jsxs("main",{className:"relative z-10 max-w-5xl mx-auto px-4 py-6 sm:py-8 space-y-5",style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 40px)"},children:[p==="overview"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Total Spent",val:se,sub:`${Q.length} transactions`,color:"#ffffff",accent:"rgba(255,255,255,0.08)",border:"rgba(255,255,255,0.08)",delay:0},{label:"Monthly Avg",val:K,sub:`across ${l.months.length} month${l.months.length!==1?"s":""}`,color:"#34d399",accent:"rgba(52,211,153,0.06)",border:"rgba(52,211,153,0.15)",delay:60},{label:"Top Category",val:null,label2:oe[0]?.tag.name??"",sub:oe[0]?Ja(oe[0].val):"No tags yet",color:oe[0]?.tag.color||"#a78bfa",accent:"rgba(167,139,250,0.06)",border:"rgba(167,139,250,0.15)",dot:oe[0]?.tag.color,delay:120},{label:"Peak Month",val:null,label2:(()=>{const z=l.months.reduce((W,Z)=>Z.total>W.total?Z:W,l.months[0]);return`${hl[z.month-1]} ${z.year}`})(),sub:Ja(Math.max(...l.months.map(z=>z.total))),color:"#fbbf24",accent:"rgba(251,191,36,0.06)",border:"rgba(251,191,36,0.15)",delay:180}].map(({label:z,val:W,label2:Z,sub:C,color:X,accent:te,border:be,dot:pe,delay:N})=>h.jsxs("div",{className:"rounded-2xl p-4 an-fade-up an-card",style:{background:te,border:`1px solid ${be}`,animationDelay:`${N}ms`},children:[h.jsx("p",{className:"text-[9px] font-bold text-white/30 uppercase tracking-[0.15em] mb-2",children:z}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[pe&&h.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{background:pe}}),h.jsx("p",{className:"text-xl font-black truncate leading-none",style:{color:X},children:W!==null?h.jsx(I0,{value:W,formatter:Ja}):Z})]}),C&&h.jsx("p",{className:"text-[10px] text-white/25 mt-1.5",children:C})]},z))}),h.jsxs(Ya,{delay:80,children:[h.jsx(Ws,{title:"Monthly Spend Trend",sub:"Click any bar to explore that month in detail"}),h.jsx("div",{className:"flex items-end gap-1 sm:gap-1.5",style:{height:140},children:l.months.map((z,W)=>{const Z=Math.max(z.total,0),C=Z/I*100,X=z.key===f,te=z.budget>0&&Z>z.budget,be=z.budget>0?Math.min(z.budget/I*100,100):null;return h.jsxs("button",{onClick:()=>{S(z.key),O("month")},className:"flex-1 flex flex-col items-center gap-1 an-mbar relative group",style:{height:140},children:[be!==null&&h.jsx("div",{className:"absolute w-full border-t border-dashed border-white/15 pointer-events-none",style:{bottom:`${be+14}%`}}),h.jsx("div",{className:"w-full flex flex-col justify-end flex-1",children:h.jsx("div",{className:"w-full rounded-t an-bar",style:{height:Z>0?`${Math.max(C,3)}%`:2,background:te?"linear-gradient(to top, #ef4444, #f87171)":X?"linear-gradient(to top, #a78bfa, #c4b5fd)":"linear-gradient(to top, #4f46e5, #6366f1)",opacity:X?1:.45,transition:"opacity 0.2s",animationDelay:`${W*30}ms`,boxShadow:X?"0 0 12px rgba(167,139,250,0.4)":"none"}})}),h.jsx("span",{className:"text-[9px] leading-none font-medium transition-colors",style:{color:X?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.25)"},children:hl[z.month-1]}),h.jsx("div",{className:"an-tooltip absolute bottom-full mb-2 left-1/2 rounded-xl px-2.5 py-1.5 text-[10px] font-semibold text-white opacity-0 group-hover:opacity-100",style:{background:"rgba(20,20,40,0.95)",border:"1px solid rgba(255,255,255,0.12)",transform:"translateX(-50%) translateY(4px)",transition:"opacity 0.15s, transform 0.15s",boxShadow:"0 4px 16px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:10},children:Ja(Z)})]},z.key)})}),h.jsxs("div",{className:"flex justify-between mt-3 text-[9px] font-medium text-white/18",children:[h.jsx("span",{children:"0"}),h.jsx("span",{children:Ja(I/2)}),h.jsx("span",{children:Ja(I)})]})]}),oe.length>0?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs(Ya,{delay:120,children:[h.jsx(Ws,{title:"Spend by Tag  All Time"}),h.jsx("div",{className:"space-y-3",children:oe.map(({tag:z,val:W},Z)=>h.jsx(P0,{label:z.name,value:W,max:oe[0].val,color:z.color,dot:!0,delay:Z*60},z.id))})]}),h.jsxs(Ya,{delay:160,children:[h.jsx(Ws,{title:"Tag Distribution"}),h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx(Q0,{segments:oe.map(({tag:z,val:W})=>({color:z.color,value:W})),size:128,thickness:22}),h.jsx("div",{className:"flex-1 space-y-2.5 min-w-0",children:oe.slice(0,7).map(({tag:z,val:W},Z)=>{const C=oe.reduce((X,te)=>X+te.val,0);return h.jsxs("div",{className:"flex items-center gap-2 an-fade-up",style:{animationDelay:`${160+Z*40}ms`},children:[h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),h.jsx("span",{className:"text-xs text-white/40 flex-1 truncate",children:z.name}),h.jsxs("span",{className:"text-xs font-bold shrink-0",style:{color:z.color},children:[C>0?(W/C*100).toFixed(0):0,"%"]})]},z.id)})})]})]})]}),h.jsxs(Ya,{delay:200,children:[h.jsx(Ws,{title:"Tag Spend by Month",sub:"Hover cells to see amounts  Intensity shows relative spend"}),h.jsx("div",{className:"overflow-x-auto an-noscroll -mx-1",children:h.jsxs("table",{className:"w-full text-xs",style:{minWidth:320},children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("td",{className:"text-white/20 pr-4 pb-3 font-semibold text-[10px] uppercase tracking-wider whitespace-nowrap",children:"Tag"}),l.months.map(z=>h.jsx("td",{className:"text-white/20 pb-3 text-center whitespace-nowrap px-1 font-semibold text-[10px] uppercase tracking-wider",children:hl[z.month-1]},z.key))]})}),h.jsx("tbody",{children:oe.slice(0,8).map(({tag:z},W)=>h.jsxs("tr",{className:"an-fade-up",style:{animationDelay:`${200+W*50}ms`},children:[h.jsx("td",{className:"pr-4 py-1.5 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),h.jsx("span",{className:"font-semibold text-[11px]",style:{color:z.color},children:z.name})]})}),l.months.map(Z=>{const C=Y(Z.txns).find(be=>be.tag.id===z.id)?.val??0,X=oe.find(be=>be.tag.id===z.id)?.val??1,te=X>0?C/X:0;return h.jsx("td",{className:"text-center px-1 py-1.5",children:C>0?h.jsx("div",{className:"mx-auto rounded-lg px-1.5 py-1 text-[10px] font-bold whitespace-nowrap cursor-default transition-all hover:scale-110",style:{background:z.color+Math.round(te*50+12).toString(16).padStart(2,"0"),color:z.color,border:`1px solid ${z.color}25`},title:`${z.name}: ${Va(C)}`,children:td(C)}):h.jsx("span",{className:"text-white/8",children:""})},Z.key)})]},z.id))})]})})]})]}):h.jsx(Ya,{delay:120,children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center mx-auto mb-3 text-2xl",style:{background:"rgba(255,255,255,0.04)"},children:""}),h.jsx("p",{className:"text-white/35 text-sm",children:"No tags yet  add tags to your expenses to see a breakdown here."})]})})]}),p==="month"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 an-noscroll an-fade-in",children:l.months.map((z,W)=>h.jsxs("button",{onClick:()=>S(z.key),className:"an-btn shrink-0 px-3.5 py-2 rounded-xl text-xs font-bold border transition-all",style:z.key===f?{background:"rgba(167,139,250,0.15)",color:"#c4b5fd",borderColor:"rgba(167,139,250,0.25)",boxShadow:"0 2px 12px rgba(167,139,250,0.15)"}:{background:"rgba(255,255,255,0.04)",color:"rgba(255,255,255,0.35)",borderColor:"rgba(255,255,255,0.07)"},children:[hl[z.month-1]," ",z.year]},z.key))}),_&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"rounded-2xl p-5 sm:p-6 an-fade-up relative overflow-hidden",style:{background:"linear-gradient(145deg, rgba(76,29,149,0.12) 0%, rgba(10,10,20,0.95) 100%)",border:"1px solid rgba(167,139,250,0.12)",boxShadow:"0 8px 40px rgba(0,0,0,0.35)"},children:[h.jsx("div",{className:"absolute -top-16 -right-16 w-64 h-64 rounded-full pointer-events-none",style:{background:"radial-gradient(circle, rgba(167,139,250,0.10) 0%, transparent 70%)",filter:"blur(30px)"}}),h.jsxs("div",{className:"flex items-start justify-between mb-5 relative",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-[9px] font-bold text-white/30 uppercase tracking-[0.2em] mb-2",children:[hl[_.month-1]," ",_.year]}),h.jsx("p",{className:"text-4xl font-black text-white leading-none",children:h.jsx(I0,{value:Math.max(_.total,0),formatter:Va})}),(()=>{const z=_.txns.reduce((W,Z)=>W+(Z.debtInfo?.hasUnsettled?Z.debtInfo.unsettledAmount:0),0);return z<=0?null:h.jsxs("p",{className:"text-xs mt-2 text-amber-300/70 font-medium",children:[" Includes ",Va(z)," pending from friends"]})})(),_.budget>0&&h.jsx("p",{className:`text-xs mt-1.5 font-semibold ${_.total>_.budget?"text-red-400":"text-emerald-400"}`,children:_.total>_.budget?` Over budget by ${Va(_.total-_.budget)}`:` ${Va(_.budget-_.total)} under budget`})]}),h.jsxs("div",{className:"text-right shrink-0 ml-4",children:[h.jsxs("p",{className:"text-xs text-white/25 mb-1",children:[_.txns.length," transactions"]}),_.budget>0&&h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-xs text-white/20",children:["Budget ",td(_.budget)]}),h.jsx("div",{className:"mt-2 w-24 h-1.5 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.07)"},children:h.jsx("div",{className:"h-full rounded-full an-hbar-fill",style:{width:`${Math.min(_.total/_.budget*100,100)}%`,background:_.total>_.budget?"linear-gradient(90deg, #ef4444, #f87171)":"linear-gradient(90deg, #a78bfa, #c4b5fd)"}})})]})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] font-bold text-white/20 uppercase tracking-[0.15em] mb-2.5",children:"Daily Spend"}),h.jsx("div",{className:"flex gap-px items-end",style:{height:44},children:Array.from({length:ht},(z,W)=>{const Z=W+1,C=ne[Z]||0,X=xe>0?C/xe*100:0;return h.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative",style:{height:44},children:[h.jsx("div",{className:"w-full rounded-t-[1px] an-bar",style:{height:C>0?`${Math.max(X,8)}%`:1,background:C>0?`rgba(167,139,250,${.2+X/100*.75})`:"rgba(255,255,255,0.04)",minHeight:C>0?2:0,animationDelay:`${W*12}ms`}}),C>0&&h.jsxs("div",{className:"an-tooltip absolute bottom-full mb-1.5 left-1/2 rounded-lg px-2 py-1 text-[9px] font-semibold text-white opacity-0 group-hover:opacity-100",style:{background:"rgba(20,20,40,0.95)",border:"1px solid rgba(255,255,255,0.10)",transform:"translateX(-50%) translateY(4px)",transition:"opacity 0.15s, transform 0.15s",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.5)"},children:[Z,"  ",Ja(C)]})]},Z)})}),h.jsxs("div",{className:"flex justify-between text-[9px] text-white/15 mt-1.5 font-medium",children:[h.jsx("span",{children:"1"}),h.jsx("span",{children:Math.ceil(ht/2)}),h.jsx("span",{children:ht})]})]})]}),q.length>0?h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs(Ya,{delay:80,children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx(Ws,{title:"Spend by Tag"}),v&&h.jsx("button",{onClick:()=>x(null),className:"an-btn text-xs text-violet-300/60 hover:text-violet-300 font-semibold",children:" Clear"})]}),h.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:q.map(({tag:z,val:W,count:Z})=>h.jsxs("button",{onClick:()=>x(v===z.id?null:z.id),className:"an-tag-chip flex items-center gap-1.5 px-2.5 py-1.5 rounded-xl border text-xs font-bold",style:{background:z.color+"12",borderColor:z.color+"28",color:z.color,opacity:v!==null&&v!==z.id?.35:1,transform:v===z.id?"scale(1.05)":"scale(1)",boxShadow:v===z.id?`0 0 16px ${z.color}30`:"none",transition:"all 0.15s"},children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{background:z.color}}),z.name,h.jsxs("span",{style:{opacity:.45},children:["",Z]})]},z.id))}),h.jsx("div",{className:"space-y-3",children:q.map(({tag:z,val:W},Z)=>h.jsx(P0,{label:z.name,value:W,max:q[0].val,color:z.color,dot:!0,delay:Z*60},z.id))})]}),h.jsxs(Ya,{delay:120,children:[h.jsx(Ws,{title:"Tag Distribution"}),h.jsxs("div",{className:"flex flex-col items-center gap-5",children:[h.jsx(Q0,{segments:q.map(({tag:z,val:W})=>({color:z.color,value:W})),size:132,thickness:24}),h.jsx("div",{className:"w-full grid grid-cols-2 gap-x-4 gap-y-2",children:q.map(({tag:z,val:W},Z)=>{const C=q.reduce((X,te)=>X+te.val,0);return h.jsxs("div",{className:"flex items-center gap-1.5 an-fade-up",style:{animationDelay:`${120+Z*35}ms`},children:[h.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:z.color}}),h.jsx("span",{className:"text-[11px] text-white/35 flex-1 truncate",children:z.name}),h.jsxs("span",{className:"text-[11px] font-bold shrink-0",style:{color:z.color},children:[C>0?(W/C*100).toFixed(0):0,"%"]})]},z.id)})})]})]})]}):h.jsx(Ya,{delay:80,children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-2xl mb-2",children:""}),h.jsx("p",{className:"text-white/30 text-sm",children:"No tags used this month"})]})}),h.jsxs(Ya,{delay:160,children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-white",children:"Transactions"}),h.jsxs("p",{className:"text-[10px] text-white/25 mt-0.5",children:[_e.length," shown",v?" (filtered)":""]})]}),v&&h.jsx("button",{onClick:()=>x(null),className:"an-btn text-xs text-violet-300/60 hover:text-violet-300 font-semibold",children:" Clear filter"})]}),_e.length===0?h.jsx("p",{className:"text-white/20 text-sm text-center py-8",children:"No transactions match this filter"}):h.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto an-scroll pr-1",children:_e.map((z,W)=>{const Z=Number(z.my_amount)<0,C=z.debtInfo?.hasUnsettled,X=Z?Math.abs(Number(z.my_amount)):B(z);return h.jsxs("div",{className:"flex items-center gap-3 rounded-xl px-3 py-2.5 an-fade-up",style:{background:Z?"rgba(52,211,153,0.04)":C?"rgba(251,191,36,0.03)":"rgba(255,255,255,0.02)",border:Z?"1px solid rgba(52,211,153,0.10)":C?"1px solid rgba(251,191,36,0.12)":"1px solid rgba(255,255,255,0.05)",animationDelay:`${W*25}ms`,transition:"background 0.15s"},children:[h.jsx("div",{className:"text-base shrink-0",children:Z?"":z.emi_id?"":""}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-white truncate",children:z.title}),h.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap",children:[h.jsx("span",{className:"text-[10px] text-white/25",children:new Date(z.date).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),C&&h.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full border font-semibold",style:{background:"rgba(251,191,36,0.08)",color:"#fbbf24",borderColor:"rgba(251,191,36,0.2)"},children:[" ",Va(z.debtInfo.unsettledAmount)," pending"]}),z.txn_tags.map(te=>h.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full border font-semibold",style:{background:te.color+"12",color:te.color,borderColor:te.color+"25"},children:te.name},te.id))]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("p",{className:"text-sm font-bold",style:{color:Z?"#34d399":C?"#fbbf24":"rgba(255,255,255,0.85)"},children:[Z?"+":"",Va(X)]}),C&&h.jsxs("p",{className:"text-[10px] text-white/20",children:["my share: ",Va(Number(z.my_amount))]})]})]},z.id)})})]})]})]})]},w)]})}function Hw(){return h.jsx(xv,{children:h.jsx(ow,{children:h.jsxs(Pb,{children:[h.jsx(ts,{path:"/login",element:h.jsx(G0,{})}),h.jsx(ts,{path:"/signup",element:h.jsx(G0,{})}),h.jsx(ts,{path:"/dashboard",element:h.jsx(H0,{children:h.jsx(Lw,{})})}),h.jsx(ts,{path:"/analytics",element:h.jsx(H0,{children:h.jsx($w,{})})}),h.jsx(ts,{path:"/",element:h.jsx(Yc,{to:"/dashboard",replace:!0})}),h.jsx(ts,{path:"*",element:h.jsx(Yc,{to:"/dashboard",replace:!0})})]})})})}Wy.createRoot(document.getElementById("root")).render(h.jsx(k.StrictMode,{children:h.jsx(Hw,{})}));
